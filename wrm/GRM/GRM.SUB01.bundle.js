"use strict";
(self["webpackChunkweb"] = self["webpackChunkweb"] || []).push([["GRM.SUB01"],{

/***/ "./src/wrm/GRM/screen/GRM/GRM_FOD01_Main/delete.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var wrm_GRM_component_common_ButtonBarComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/component/common/ButtonBarComponent.js");
/* harmony import */ var wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/component/common/CardListView.js");
/* harmony import */ var wrm_GRM_component_GRM_FoodListItemComponent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/component/GRM/FoodListItemComponent.js");
/* harmony import */ var wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/screen/GRM/GRM_FOD01_Main/foodState.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/lib/GRP/foodManager.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__);
const GRM_FOD01_Delete=props=>{const{productId}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_10__.useCarpetGRP)(product,"GRM_FOD01_Delete");const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();// eslint-disable-next-line
const newProps={...props,carpet:carpet,carpetModel:carpetModel,viewModel:viewModel,setCarpetModel:setCarpetModel,acceptCarpetModel:acceptCarpetModel,isControlApplied:isControlApplied};const[foodManagerInfo,setFoodManagerInfo]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(carpetModel===null||carpetModel===void 0?void 0:carpetModel.foodManagerInfo);const foodList=(foodManagerInfo===null||foodManagerInfo===void 0?void 0:foodManagerInfo.deletableFoodList)||[];const keepPlace=(0,recoil__WEBPACK_IMPORTED_MODULE_3__.useRecoilValue)(wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_11__.keepPlaceState);const[selectedList,setSelection]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(Array(foodList.length).fill(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.UNDEFINED));const[isShowDeletPopup,setShowDeletePopup]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);const selectAllCallback=checked=>{let currentSelectedList=[];for(let i=0;i<foodList.length;i++){currentSelectedList.push(checked?wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.UNDEFINED:foodList[i].foodSeqNo);}setSelection(currentSelectedList);};const selectItemCallback=index=>{let currentSelectedList=[...selectedList];currentSelectedList[index]=currentSelectedList[index]===wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.UNDEFINED?foodList[index].foodSeqNo:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.UNDEFINED;setSelection(currentSelectedList);};const getSelectedListCount=()=>{let count=0;selectedList.forEach(item=>{if(item!==wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.UNDEFINED){count++;}});return count;};const deleteSelectedFood=()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_217,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_217,{count_delete_item:getSelectedListCount()}));let targetList=[];selectedList.forEach(item=>{if(item!==wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.UNDEFINED){targetList.push(foodList.find(food=>food.foodSeqNo===item));}});return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_13__["default"].deleteFoodList(product,targetList,true).then(()=>{if(_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_13__["default"].isUseLocalDB(product)){setTimeout(()=>{// 냉장고 내부에서 DB 파일 저장하는 데 시간이 걸려서 500ms 정도 기다림.
goBack();},500);}else{goBack();}});};const fetchFoodList=()=>{return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_13__["default"].fetchStoredFoodList(product,keepPlace,true).then(res=>{const allFoodList=res.rawFoodList;setSelection(Array(allFoodList.length).fill(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.UNDEFINED));setFoodManagerInfo({...foodManagerInfo,deletableFoodList:allFoodList});});};const goBack=()=>{//console.debug("goBack()");
carpet.back("GRM_FOD01_Main",{productId:productId});};(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{fetchFoodList();},[]);(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_12__["default"].fireBaseEventUsedFeature(product,"-Fod01-Del");carpet.registerOnBackButtonCallback(goBack);return carpet.unregisterOnBackButtonCallback(goBack);},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[foodList&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SelectionBar,{id:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.ELEMENT_ID.FOOD_MANAGER_DELETE_SCREEN_ALL_SELECT,tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.ELEMENT_ID.FOOD_MANAGER_DELETE_SCREEN_ALL_SELECT,title:t("@CP_CRUD_SELECT_ALL_W"),checked:foodList.length>0&&getSelectedListCount()===foodList.length,onChange:()=>selectAllCallback(getSelectedListCount()===(foodList===null||foodList===void 0?void 0:foodList.length)),children:getSelectedListCount().toString()!=="0"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:`Type_A08`,children:getSelectedListCount().toString()==="0"?"":t("@CP_UX35_LAB_SELECT_COUNT",{$0:getSelectedListCount().toString()})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_5__["default"],{children:foodList.map((item,index)=>/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(wrm_GRM_component_GRM_FoodListItemComponent__WEBPACK_IMPORTED_MODULE_6__["default"],{item:item,index:index,type:wrm_GRM_component_GRM_FoodListItemComponent__WEBPACK_IMPORTED_MODULE_6__.LIST_ITEM_TYPE.CHECK,selectedList:selectedList,selectItemCallback:selectItemCallback}))}),isShowDeletPopup&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowDeletPopup,onBackKeyPress:()=>{setShowDeletePopup(false);},btns:[{event:()=>setShowDeletePopup(false),label:t("@CP_CANCEL_W")},{event:()=>deleteSelectedFood(),label:t("@CP_CRUD_DELETE_W")}],children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX30_GROCERY_DELETE_QUESTION_S")})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(wrm_GRM_component_common_ButtonBarComponent__WEBPACK_IMPORTED_MODULE_4__["default"],{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.ELEMENT_ID.CANEL_BTN+"fod01_delete",type:"tertiary_a",onClick:()=>goBack(),children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.ELEMENT_ID.DELETE_BTN+"fod01_delete",type:"primary",disabled:getSelectedListCount()===0,onClick:()=>{setShowDeletePopup(prev=>!prev);},children:t("@CP_CRUD_DELETE_W")})]})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_FOD01_Delete);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_FOD01_Main/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state_history__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/history.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var wrm_GRM_component_GRM_FoodListComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/component/GRM/FoodListComponent.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRM_foodUtil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRM/foodUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/screen/GRM/GRM_FOD01_Main/foodState.js");
/* harmony import */ var _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/lib/GRP/foodManager.js");
/* harmony import */ var _lib_GRP_scanToXManager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/lib/GRP/scanToXManager.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__);
const GRM_FOD01_Main_001=props=>{var _foodManagerInfo$food,_foodManagerInfo$food2,_foodManagerInfo$food3,_foodManagerInfo$food4;const{productId,action,backStep}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const feature="foodManagerInfo";const carpet=(0,wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_9__.useCarpetGRP)(product,"GRM_FOD01_Main_001");const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const newProps={...props,carpet:carpet,carpetModel:carpetModel,viewModel:viewModel,setCarpetModel:setCarpetModel,acceptCarpetModel:acceptCarpetModel,isControlApplied:isControlApplied,backPage:"GRM_FOD01_Main"};const[selectedTab,setSelectedTab]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_12__.selectedTabItemState);const[disableDeleteIcon,setDisableDeleteIcon]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[disableSearchIcon,setDisableSearchIcon]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[keepPlace,setKeepPlace]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_12__.keepPlaceState);const[foodManagerInfo,setFoodManagerInfo]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(carpetModel===null||carpetModel===void 0?void 0:carpetModel.foodManagerInfo);const[roomTabName,setRoomTabName]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("refrigerator");const tablItem=[{key:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.FRIDGE,label:"@RE_UX20_FOOD_TERM_REFRIGERATOR_W"},{key:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.FREEZER,label:"@RE_UX20_FOOD_TERM_FREEZER_W"},{key:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.MORE,label:"@RE_UX20_FOOD_TERM_MORE_W"},{key:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.ALL,label:"@RE_UX20_FOOD_TERM_VIEW_ALL_W"}];const slideItem=[{key:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.FRIDGE,component:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(wrm_GRM_component_GRM_FoodListComponent__WEBPACK_IMPORTED_MODULE_5__["default"],{roomTabName:roomTabName,props:newProps,type:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.FRIDGE,list:foodManagerInfo===null||foodManagerInfo===void 0?void 0:(_foodManagerInfo$food=foodManagerInfo.foodListObj)===null||_foodManagerInfo$food===void 0?void 0:_foodManagerInfo$food.fridgeFoodList})},{key:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.FREEZER,component:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(wrm_GRM_component_GRM_FoodListComponent__WEBPACK_IMPORTED_MODULE_5__["default"],{roomTabName:roomTabName,props:newProps,type:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.FREEZER,list:foodManagerInfo===null||foodManagerInfo===void 0?void 0:(_foodManagerInfo$food2=foodManagerInfo.foodListObj)===null||_foodManagerInfo$food2===void 0?void 0:_foodManagerInfo$food2.freezerFoodList})},{key:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.MORE,component:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(wrm_GRM_component_GRM_FoodListComponent__WEBPACK_IMPORTED_MODULE_5__["default"],{roomTabName:roomTabName,props:newProps,type:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.MORE,list:foodManagerInfo===null||foodManagerInfo===void 0?void 0:(_foodManagerInfo$food3=foodManagerInfo.foodListObj)===null||_foodManagerInfo$food3===void 0?void 0:_foodManagerInfo$food3.moreFoodList})},{key:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.ALL,component:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(wrm_GRM_component_GRM_FoodListComponent__WEBPACK_IMPORTED_MODULE_5__["default"],{roomTabName:roomTabName,props:newProps,type:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.ALL,list:foodManagerInfo===null||foodManagerInfo===void 0?void 0:(_foodManagerInfo$food4=foodManagerInfo.foodListObj)===null||_foodManagerInfo$food4===void 0?void 0:_foodManagerInfo$food4.rawFoodList})}];if(libs__WEBPACK_IMPORTED_MODULE_1__.Environment.getCountryCode()!=="US"&&libs__WEBPACK_IMPORTED_MODULE_1__.Environment.getCountryCode()!=="CA"){tablItem.splice(2,1);slideItem.splice(2,1);}const clickTab=(e,key)=>{let tabName=["refrigerator","freezer","all_view"];if(libs__WEBPACK_IMPORTED_MODULE_1__.Environment.getCountryCode()==="US"&&libs__WEBPACK_IMPORTED_MODULE_1__.Environment.getCountryCode()==="CA"){tabName=["refrigerator","freezer","more","all_view"];}setRoomTabName(tabName[key]);wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_188,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_188,{room_tab_name:tabName[key]}));setSelectedTab(key);const location=tablItem[key].key;setKeepPlace(location);fetchFoodList(location);};const goBarcodeAdd=item=>{let foodItemParam=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_16__["default"].cloneJson(item);foodItemParam.foodName=encodeURIComponent(foodItemParam.foodName);// foodItemParam.foodImage = encodeURIComponent(foodItemParam.foodImage);
carpet.go("GRM_FOD02_EditFoodInfo",{productId:productId,foodItem:JSON.stringify(foodItemParam),backPage:"GRM_FOD04_AddFood/subFoodList"});};const showBarcodeErrorPopup=()=>{const btns=[{label:t("@CP_CANCEL_W"),event:()=>{}},{label:t("@CP_STATE_RETRY_W"),event:()=>{takeBarcodeScanner();}}];_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_16__["default"].showDialog("","@RE_UX30_INSTA_BARCODE_ERROR_S",btns);};const showBarcodeNotSupportPopup=()=>{const btns=[{label:t("@CP_CANCEL_W"),event:()=>{if(backStep){carpet.back(Number(backStep));}}},{label:t("@RE_GROCERY_ADD_S"),event:()=>{carpet.go("GRM_FOD04_AddFood",{productId:productId});}}];_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_16__["default"].showDialog("","@RE_UX50_INSTA_BARCODE_NOT_SUPPORT_POPUP_S",btns);};const takeBarcodeScanner=()=>{_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_16__["default"].takeBarcodeScanner().then(res=>{if(res.cancelled){if(backStep){carpet.back(Number(backStep));}else{return;}}if(res.text.length===0&&res.format.length===0){if(res.help_clicked){goBarcodeGuide();}else if(res.action_clicked){// eslint-disable-line
}}else{const barcode=res.text;// Firebase Log
_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_13__["default"].getFoodInfoByBarcode(product,barcode,false).then(res=>{var _res$result;let fbObjForLog={gtin:res===null||res===void 0?void 0:(_res$result=res.result)===null||_res$result===void 0?void 0:_res$result.gtin};// let fbObj = {
//     gtin: res?.result?.gtin,
//     dscrgtink: res?.result?.dscrgtink,
//     dscrbrandk: res?.result?.dscrbrandk,
//     conamek: res?.result?.conamek,
//     conamee: res?.result?.conamee,
//     kanclasscode: res?.result?.kanclasscode,
// };
let fbLog=JSON.stringify(fbObjForLog);_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_15__["default"].fireBaseEventUsedFeature(product,"-FoodBarcodeDetail-"+fbLog);}).catch(()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_15__["default"].fireBaseEventUsedFeature(product,"-FoodBarcodeDetail-"+"NoBarcodeDetail");});return _lib_GRP_scanToXManager__WEBPACK_IMPORTED_MODULE_14__["default"].fetchBarcodeFoodItem(product,barcode,true).then(result=>{const foodItem=result.foodItem;wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_220,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_220));goBarcodeAdd(foodItem);},error=>{throw error;}).catch(()=>{//console.debug(error);
showBarcodeNotSupportPopup();});}}).catch(()=>{showBarcodeErrorPopup();});};const goBack=()=>{const prevPage=libs_state_history__WEBPACK_IMPORTED_MODULE_2__["default"].historyStack.find(item=>{return item.path.indexOf("GRM_CEN01_Main")>-1;});if(prevPage){carpet.back("GRM_CEN01_Main",{productId:productId});}carpet.back("GRM_CEN01_Main",{productId:productId,toMain:true});};const ADD_TYPE_LIST=wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.ADD_TYPE.LIST;const ADD_TYPE_BARCODE=wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.ADD_TYPE.BARCODE;// const allFoodListCount = foodManagerInfo?.foodListObj?.rawFoodList?.length;
const goAdd=(id,newFoodManagerInfo)=>{var _newFoodManagerInfo,_newFoodManagerInfo$f,_newFoodManagerInfo$f2;newFoodManagerInfo=newFoodManagerInfo||foodManagerInfo;setToggled(false);if(((_newFoodManagerInfo=newFoodManagerInfo)===null||_newFoodManagerInfo===void 0?void 0:(_newFoodManagerInfo$f=_newFoodManagerInfo.foodListObj)===null||_newFoodManagerInfo$f===void 0?void 0:(_newFoodManagerInfo$f2=_newFoodManagerInfo$f.rawFoodList)===null||_newFoodManagerInfo$f2===void 0?void 0:_newFoodManagerInfo$f2.length)>=wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.MAX_FOOD_COUNT){setInfoPopup(true);return;}else if(id===ADD_TYPE_LIST){//console.debug("goAdd() with list");
carpet.go("GRM_FOD04_AddFood",{productId:productId});}else if(id===ADD_TYPE_BARCODE){//console.debug("goAdd() with barcode");
takeBarcodeScanner();}};const goSearch=()=>{//console.debug("goSearch()");
carpet.go("GRM_FOD01_Main/search",{productId:productId});};const goDelete=()=>{carpet.go("GRM_FOD01_Main/delete",{productId:productId});};const goBarcodeGuide=()=>{carpet.go("GRM_TFD01_Main/barcodeGuide",{productId:productId,backPage:encodeURIComponent("GRM_FOD01_Main")});};const fetchFoodList=function(){let location=arguments.length>0&&arguments[0]!==undefined?arguments[0]:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.ROOM1;return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,feature,undefined,{},true).then(model=>{var _model$foodListObj,_model$foodListObj$ra,_model$foodListObj2,_model$foodListObj3;if((model===null||model===void 0?void 0:(_model$foodListObj=model.foodListObj)===null||_model$foodListObj===void 0?void 0:(_model$foodListObj$ra=_model$foodListObj.rawFoodList)===null||_model$foodListObj$ra===void 0?void 0:_model$foodListObj$ra.length)>0){showWarningToast();}setFoodManagerInfo(model);setDisableDeleteIcon((model===null||model===void 0?void 0:(_model$foodListObj2=model.foodListObj)===null||_model$foodListObj2===void 0?void 0:_model$foodListObj2.rawFoodList.filter(item=>wrm_GRM_lib_GRM_foodUtil__WEBPACK_IMPORTED_MODULE_7__["default"].getFilteredFoodList(item,location)).length)===0);setDisableSearchIcon((model===null||model===void 0?void 0:(_model$foodListObj3=model.foodListObj)===null||_model$foodListObj3===void 0?void 0:_model$foodListObj3.rawFoodList.filter(item=>wrm_GRM_lib_GRM_foodUtil__WEBPACK_IMPORTED_MODULE_7__["default"].getFilteredFoodList(item,wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.ALL)).length)===0);return model;});};const showWarningToast=()=>{const isShow=libs__WEBPACK_IMPORTED_MODULE_1__.SessionStorage.get(productId+"__FOOD_WARNING_PASSED_TOAST");// isShow 초기값은 null
if(isShow!==false){libs__WEBPACK_IMPORTED_MODULE_1__.SessionStorage.set(productId+"__FOOD_WARNING_PASSED_TOAST",false);(0,libs__WEBPACK_IMPORTED_MODULE_1__.toast)(t("@RE_FOOD_WARNING_PASSED_FOOD_S"));}};const[isInfoPopup,setInfoPopup]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const makeInfoPopup=()=>{const buttons=[{event:()=>{setInfoPopup(false);},label:t("@CP_CONFIRM_W")}];return isInfoPopup&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isInfoPopup,btns:buttons,onBackKeyPress:()=>{setInfoPopup(false);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_POP_MAX_500FOODS_S")})});};const onClickAdd=()=>{var _foodManagerInfo$food5,_foodManagerInfo$food6;wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_194,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_194));if((foodManagerInfo===null||foodManagerInfo===void 0?void 0:(_foodManagerInfo$food5=foodManagerInfo.foodListObj)===null||_foodManagerInfo$food5===void 0?void 0:(_foodManagerInfo$food6=_foodManagerInfo$food5.rawFoodList)===null||_foodManagerInfo$food6===void 0?void 0:_foodManagerInfo$food6.length)>=wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.MAX_FOOD_COUNT){setInfoPopup(true);return;}if(foodManagerInfo.supportBarcode){clickHandler();}else{goAdd(ADD_TYPE_LIST);}};const[isToggled,setToggled]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const clickHandler=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(()=>{setToggled(preState=>!preState);},[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _foodManagerInfo$food7;setDisableSearchIcon((foodManagerInfo===null||foodManagerInfo===void 0?void 0:(_foodManagerInfo$food7=foodManagerInfo.foodListObj)===null||_foodManagerInfo$food7===void 0?void 0:_foodManagerInfo$food7.rawFoodList.filter(item=>wrm_GRM_lib_GRM_foodUtil__WEBPACK_IMPORTED_MODULE_7__["default"].getFilteredFoodList(item,wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.FEATURE.FOOD_MANAGER.LOCATION_CODE.ALL)).length)===0);},[foodManagerInfo]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{fetchFoodList(keepPlace);},[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_13__["default"].fetchFoodListSettingInfo(product,true).then(res=>{_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_13__["default"].setIsUsingRecommend(res.recommandUseYn==="Y");},()=>{// Util.showErrorPopupNGoProductList(error, $scope);
});},[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{carpet.registerOnBackButtonCallback(goBack);return carpet.unregisterOnBackButtonCallback(goBack);},[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _utilityService$getPr;const fromMain=(_utilityService$getPr=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_16__["default"].getPrevStatePath())===null||_utilityService$getPr===void 0?void 0:_utilityService$getPr.includes("CEN01_Main");if(typeof action!=="undefined"&&fromMain){switch(action){case wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.CARD_ACTION.ADD:{const targetType=foodManagerInfo!==null&&foodManagerInfo!==void 0&&foodManagerInfo.supportBarcode?ADD_TYPE_BARCODE:ADD_TYPE_LIST;fetchFoodList().then(res=>{goAdd(targetType,res);});break;}}}},[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _utilityService$getPr2;const fromBarcodeGuide=(_utilityService$getPr2=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_16__["default"].getPrevStatePath())===null||_utilityService$getPr2===void 0?void 0:_utilityService$getPr2.includes("barcodeGuide");if(fromBarcodeGuide){fetchFoodList().then(res=>{goAdd(ADD_TYPE_BARCODE,res);});}},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t("@RE_FOOD_MANAGEMENT_W"),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.ELEMENT_ID.ADD_BTN+"fod01_main",color:theme.colorSet.on_surface_variant,"aria-label":t("@RE_FOOD_ADD_W"),icon:"add",onClick:onClickAdd}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.ELEMENT_ID.SEARCH_BTN+"fod01_main",color:theme.colorSet.on_surface_variant,"aria-label":t("@CP_CRUD_SEARCH_W"),icon:"search",disabled:disableSearchIcon,onClick:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_189,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_189));goSearch();}}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.ELEMENT_ID.DELETE_BTN+"fod01_food_delete",color:theme.colorSet.on_surface_variant,"aria-label":t("@CP_CRUD_DELETE_W"),icon:"delete_fill",disabled:disableDeleteIcon,onClick:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_197,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_197));goDelete();}})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tabbar,{selected:selectedTab,onTabClick:clickTab,type:"fixed",children:tablItem.map((item,index)=>/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tab,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.ELEMENT_ID.FOOD_MANAGER_TAB_VALUE+`${t(item.label)}`,name:index.toString(),children:t(item.label)},item.key))}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Slider,{selected:selectedTab,callback:clickTab,children:slideItem.map(item=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SlideItem,{style:{height:"100%"},children:item.component},item.key);})}),makeInfoPopup(),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.Fragment,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheet,{isShow:isToggled,isFixed:false,openOnBackdrop:clickHandler,onBackKeyPress:clickHandler,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetBody,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Card,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.List,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.ELEMENT_ID.FOOD_MANAGER_ADD_FROM_LIST,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{onClick:()=>{goAdd(ADD_TYPE_LIST);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@RE_UX35_ADD_FOOD_WITH_LIST_W")})})})},"FOD01_Main_LIST_ADD"),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_10__.constant.ELEMENT_ID.FOOD_MANAGER_ADD_FROM_BARCODE,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{onClick:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_193,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_193));goAdd(ADD_TYPE_BARCODE);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@RE_UX35_ADD_FOOD_WITH_BARCODE_W")})})})},"FOD01_Main_BARCODE_ADD")]})})})})})})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_FOD01_Main_001);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_FOD01_Main/search.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var wrm_GRM_component_GRM_FoodListItemComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/wrm/GRM/component/GRM/FoodListItemComponent.js");
/* harmony import */ var wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/component/common/CardListView.js");
/* harmony import */ var wrm_GRM_component_common_InputBoxSearchComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/component/common/InputBoxSearchComponent.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/GRP/foodManager.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__);
let searchTimer=undefined;let _searchText="";const GRM_FOD01_Search=props=>{var _foodManagerInfo$food;const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const{productId,searchKeyword}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const feature="foodManagerInfo";const carpet=(0,wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_8__.useCarpetGRP)(product,"GRM_FOD01_Search");const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const newProps={...props,carpet:carpet,carpetModel:carpetModel,viewModel:viewModel,setCarpetModel:setCarpetModel,acceptCarpetModel:acceptCarpetModel,isControlApplied:isControlApplied,backPage:"GRM_FOD01_Main/search"};const[foodManagerInfo,setFoodManagerInfo]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(carpetModel===null||carpetModel===void 0?void 0:carpetModel.foodManagerInfo);const fetchFoodList=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,feature,undefined,{},true).then(model=>{setFoodManagerInfo(model);});};const[searchList,setSearchList]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(foodManagerInfo===null||foodManagerInfo===void 0?void 0:(_foodManagerInfo$food=foodManagerInfo.foodListObj)===null||_foodManagerInfo$food===void 0?void 0:_foodManagerInfo$food.rawFoodList);const[isSearching,setIsSearching]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);// 검색
const searchFood=()=>{if(_searchText.length>_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.FEATURE.FOOD_MANAGER.MAX_SEARCH_TEXT_LENGTH){_searchText=String(_searchText).substring(0,_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.FEATURE.FOOD_MANAGER.MAX_SEARCH_TEXT_LENGTH);}if(_searchText.length===0){setSearchList([]);return;}if(isSearching){return;}setIsSearching(true);_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_10__["default"].searchStoredFoodList(product,_searchText,false).then(res=>{var _res$foodList;for(let item in res.foodList){let highlight=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].getSearchHtml(res.foodList[item].foodName,_searchText,theme.colorSet.main_variant2);res.foodList[item]._name=highlight;}setSearchList(res.foodList);if(((_res$foodList=res.foodList)===null||_res$foodList===void 0?void 0:_res$foodList.length)>0){wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_7__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_9__.mixpanelConstant.refrigeratorMixpanel_191,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_7__.mixpanelUtil.Device_Refrigerator_Save(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_9__.mixpanelConstant.refrigeratorMixpanel_191,{search_keyword:_searchText,lang_token:libs__WEBPACK_IMPORTED_MODULE_1__.Environment.getLanguageCode(),search_result:res.foodList.map(item=>item.foodName)}));}}).finally(()=>{setIsSearching(false);});};const goBack=()=>{//console.debug("goBack()");
_searchText="";carpet.back("GRM_FOD01_Main",{productId:productId});};const onChangedSearchInput=name=>{_searchText=name;// setSearchText(name);
clearTimeout(searchTimer);searchTimer=setTimeout(searchFood,800);};const initInput=()=>{_searchText=typeof searchKeyword!=="undefined"?decodeURIComponent(searchKeyword):"";// setSearchText(foodName || "");
searchFood();};(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{carpet.registerOnBackButtonCallback(goBack);return carpet.unregisterOnBackButtonCallback(goBack);},[]);(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{fetchFoodList();initInput();},[]);const[emptyBoxSize,setEmptyBoxSize]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);const resizeWindow=()=>{// 56 = appbar
setEmptyBoxSize(window.innerHeight-56);};(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{resizeWindow();window.addEventListener("resize",resizeWindow);window.addEventListener("orientationchange",resizeWindow);return()=>{window.removeEventListener("resize",resizeWindow);window.removeEventListener("orientationchange",resizeWindow);};},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(wrm_GRM_component_common_InputBoxSearchComponent__WEBPACK_IMPORTED_MODULE_5__["default"],{text:_searchText,placeholder:"@RE_UX30_HINT_SEARCH_FOOD_W",callback:name=>onChangedSearchInput(name)}),role:"none"})}),(searchList===null||searchList===void 0?void 0:searchList.length)>0?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_4__["default"],{children:searchList===null||searchList===void 0?void 0:searchList.map((item,index)=>/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(wrm_GRM_component_GRM_FoodListItemComponent__WEBPACK_IMPORTED_MODULE_3__["default"],{search:true,props:newProps,item:item,index:index,isSearchMode:true,searchKeyword:_searchText},index))})]}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{style:{height:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",justify:"center",style:{height:emptyBoxSize},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{align:"center",children:[" ",t("@RE_UX30_UX20_THERE_ARE_NO_FOODS_FOR_SEARCH_S")]})})})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_FOD01_Search);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_FOD02_EditFoodInfo/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_overlay_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/overlay/loader/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_component_GRM_EditSettingsComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/component/GRM/EditSettingsComponent.js");
/* harmony import */ var wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/component/common/CardListView.js");
/* harmony import */ var wrm_GRM_component_common_InputBoxListItemComponent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/component/common/InputBoxListItemComponent.js");
/* harmony import */ var wrm_GRM_lib_GRM_foodUtil__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRM/foodUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/screen/GRM/GRM_FOD01_Main/foodState.js");
/* harmony import */ var _component_common_DiscardPopup__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/component/common/DiscardPopup.js");
/* harmony import */ var _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/lib/GRP/foodManager.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__);
const CircleBackgroundImage=styled_components__WEBPACK_IMPORTED_MODULE_19__["default"].div`
    position: relative;
    width: 100px;
    height: 100px;
    background: url(${_ref=>{let{image}=_ref;return image;}}) no-repeat center center;
    background-size: 60px;
    border-radius: 50%;
    border: 1px solid ${_ref2=>{let{theme}=_ref2;return theme.colorSet.outline;}};
`;const SubText=(0,styled_components__WEBPACK_IMPORTED_MODULE_19__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Text).attrs(_ref3=>{let{theme}=_ref3;return{textCode:"Type_A07",color:theme.colorSet.on_surface_variant,maxLine:1};})``;const EditIcon=styled_components__WEBPACK_IMPORTED_MODULE_19__["default"].div`
    position: absolute;
    right: 0;
    bottom: 0;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    background-color: ${_ref4=>{let{theme}=_ref4;return theme.colorSet.surface;}};
    padding: 8px;
`;const FoodNameText=(0,styled_components__WEBPACK_IMPORTED_MODULE_19__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Text).attrs({type:"h2",textCode:"Type_A09",maxLine:2,weight:"Bold"})`
    text-align: center;
`;let initialInfo=undefined;const GRM_FOD02_EditFoodInfo_001=props=>{const{productId,foodItem,foodDetailId,backPage,foodId,foodName,fromIcon,searchKeyword}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_10__.useCarpetGRP)(product,"GRM_FOD02_EditFoodInfo_001");const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();// eslint-disable-next-line
const newProps={...props,carpet:carpet,carpetModel:carpetModel,viewModel:viewModel,setCarpetModel:setCarpetModel,acceptCarpetModel:acceptCarpetModel,isControlApplied:isControlApplied};const textFieldRef=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);const[isShowDeletePopup,setShowDeletePopup]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isLoading,setIsLoading]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isChangeConfirmPopupOpen,setIsChangeConfirmPopupOpen]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const keepPlace=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilValue)(wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_13__.keepPlaceState);const isEditMode=backPage===null||backPage===void 0?void 0:backPage.includes("Main");console.log("##isEditMode",isEditMode);let item=foodItem?JSON.parse(foodItem):{};item.foodName=decodeURIComponent(item.foodName);item.foodImage=item.foodImage?decodeURIComponent(item.foodImage):undefined;const[foodDetailItem,setFoodDetailItem]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(item);const updateFoodToList=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useSetRecoilState)((0,wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_13__.foodListSelector)(wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_13__.FOOD_OP_TYPE.MOD));const addFoodDetailToList=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useSetRecoilState)((0,wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_13__.foodDetailListSelector)(wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_13__.FOOD_OP_TYPE.ADD));const deleteFoodInList=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useSetRecoilState)((0,wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_13__.foodListSelector)(wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_13__.FOOD_OP_TYPE.DEL));const deleteDetailInList=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useSetRecoilState)((0,wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_13__.foodDetailListSelector)(wrm_GRM_screen_GRM_GRM_FOD01_Main_foodState__WEBPACK_IMPORTED_MODULE_13__.FOOD_OP_TYPE.DEL));const saveCountCallback=count=>{setFoodDetailItem({...foodDetailItem,foodCount:count+""});};const saveLocationCallback=(key,selectedOption)=>{setFoodDetailItem({...foodDetailItem,keepPlace:selectedOption.value});};// - check 하는 위치 재조정 필요(picker 가 사라지지 않고 남아 있도록 처리 해야함)
// UX3.5 시나리오에는 아래 Toast 문구만 처리하도록 되어 있음
const isInvalidDate=false;const saveStartDateCallback=selectedDate=>{if(isInvalidDate){(0,libs__WEBPACK_IMPORTED_MODULE_1__.toast)(t("RE_UX30_UX20_TOAST_START_DATE_CAN_BE_SET_BEFORE_END_DATE_S"));return;}else{setFoodDetailItem({...foodDetailItem,keepStartDate:selectedDate,startDateText:_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].getFormattedDateString(selectedDate)});}};const saveEndDateCallback=selectedDate=>{setFoodDetailItem({...foodDetailItem,keepEndDate:selectedDate,endDateText:_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].getFormattedDateString(selectedDate)});};const updateFoodItem=()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__["default"].fireBaseEventUsedFeature(product,"-Fod02-EditTry");return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_15__["default"].updateFoodList(product,foodDetailItem,true).then(()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__["default"].fireBaseEventUsedFeature(product,"-Fod02-EditComlete");setTimeout(()=>{goFoodMain();// 냉장고 내부에서 DB 파일 저장하는 데 시간이 걸려서 500ms 정도 기다림.
},500);},error=>{setIsLoading(false);_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__["default"].fireBaseEventUsedFeature(product,"-Fod02-EditFail_"+(error.returnCd||error.errorCode));if(Number(error.errorCode)===9004||Number(error.returnCd)===9004||Number(error.code)===9004||//DB처리 실패 -> 미지원 캐릭터포함
Number(error.errorCode)===123||Number(error.returnCd)===123||Number(error.code)===123){var _textFieldRef$current;//미지원 캐릭터포함
(0,libs__WEBPACK_IMPORTED_MODULE_1__.toast)(t("@RE_TOAST_NOT_SUPPORT_TEXT_W"));// eslint-disable-next-line
let temp=textFieldRef===null||textFieldRef===void 0?void 0:(_textFieldRef$current=textFieldRef.current)===null||_textFieldRef$current===void 0?void 0:_textFieldRef$current.focus();}else{// eslint-disable-line
}}).finally(()=>{(0,libs__WEBPACK_IMPORTED_MODULE_1__.onBackButton)(()=>{return true;});});};const addFoodItem=()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__["default"].fireBaseEventUsedFeature(product,"-Fod04-AddFood");return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_15__["default"].addFoodList(product,[foodDetailItem],foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.keepPlace,true).then(()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__["default"].fireBaseEventUsedFeature(product,"-Fod04-AddFoodComplete");setTimeout(()=>{goFoodMain();// 냉장고 내부에서 DB 파일 저장하는 데 시간이 걸려서 500ms 정도 기다림.
},500);},error=>{setIsLoading(false);_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__["default"].fireBaseEventUsedFeature(product,"-Fod04-AddFoodFail_"+(error.returnCd||error.errorCode));if(Number(error.errorCode)===9004||Number(error.returnCd)===9004||Number(error.code)===9004||//DB처리 실패 -> 미지원 캐릭터포함
Number(error.errorCode)===123||Number(error.returnCd)===123||Number(error.code)===123){var _textFieldRef$current2;//미지원 캐릭터포함
(0,libs__WEBPACK_IMPORTED_MODULE_1__.toast)(t("@RE_TOAST_NOT_SUPPORT_TEXT_W"));// eslint-disable-next-line
let temp=textFieldRef===null||textFieldRef===void 0?void 0:(_textFieldRef$current2=textFieldRef.current)===null||_textFieldRef$current2===void 0?void 0:_textFieldRef$current2.focus();}else{// eslint-disable-line
}}).finally(()=>{(0,libs__WEBPACK_IMPORTED_MODULE_1__.onBackButton)(()=>{return true;});});};const saveCallback=()=>{(0,libs__WEBPACK_IMPORTED_MODULE_1__.onBackButton)(()=>{return false;});if(isLoading)return;setIsLoading(true);wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_209,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_209,{function_name:"add_new_food",food_name:foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.foodName,lang_token:"",add_type_food:foodDetailItem.isBarcodeFood?"scan_barcode_to_add_food":"select_item_to_add_food"}));if((foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.modifyAuthority)==="Y"){var _foodDetailItem$foodN;if((foodDetailItem===null||foodDetailItem===void 0?void 0:(_foodDetailItem$foodN=foodDetailItem.foodName)===null||_foodDetailItem$foodN===void 0?void 0:_foodDetailItem$foodN.length)===0){(0,libs__WEBPACK_IMPORTED_MODULE_1__.toast)(t("@RE_TOAST_INPUT_FOOD_NAME_S"));return;}updateFoodToList(foodDetailItem);// let list = utilityService.cloneJson(foodDetailList);
// list.forEach((item, index, arr) => {
//     if (
//         item.modifyAuthority === "Y" &&
//         item.foodId === currentFoodItem?.foodId
//     ) {
//         arr[index].foodName = foodDetailItem?.foodName;
//     }
// });
// setFoodDetailList(list);
}if(isEditMode){updateFoodItem();}else{addFoodDetailToList(foodDetailItem);addFoodItem();}};const deleteFoodDetailCallback=()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__["default"].fireBaseEventUsedFeature(product,"-Fod02-DelTry");if((foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.modifyAuthority)==="Y"){deleteFoodInList(item.foodId);}deleteDetailInList(Number(foodDetailId));_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_15__["default"].deleteFoodFromDetail(product,foodDetailItem,true).then(()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__["default"].fireBaseEventUsedFeature(product,"-Fod02-DelComplete");goFoodMain();}).catch(error=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__["default"].fireBaseEventUsedFeature(product,"-Fod02-DelFail_"+(error.returnCd||error.errorCode));});};const goFoodMain=()=>{carpet.back("GRM_FOD01_Main",{productId:productId});};const goBack=()=>{closeChangePopup();carpet.back(decodeURIComponent(backPage),{productId:productId,foodItem:foodItem,foodDetailId:foodDetailId,foodId:foodId,foodName:foodName,searchKeyword:searchKeyword});};const goBackWithConfirm=()=>{if(isLoading===false){if(isChanged()){setIsChangeConfirmPopupOpen(true);}else{goBack();}}else{goBack();}};const isChanged=()=>{let initialData=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].cloneJson(initialInfo);let currentInfo=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].cloneJson(foodDetailItem);initialData===null||initialData===void 0?true:delete initialData.foodImage;currentInfo===null||currentInfo===void 0?true:delete currentInfo.foodImage;if((foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.iconId)===undefined){return false;}return JSON.stringify(initialData)!==JSON.stringify(currentInfo);};const closeChangePopup=()=>{setIsChangeConfirmPopupOpen(false);};const onChangeFoodNameText=name=>{setFoodDetailItem({...foodDetailItem,foodName:name});};const isDisabledSave=()=>{if(isLoading){return true;}if(typeof foodDetailItem==="undefined"){return false;}if(!isEditMode&&foodDetailItem.isBarcodeFood){return false;}const text=typeof foodDetailItem.foodName!=="undefined"?foodDetailItem.foodName.trim():"";// Name validation
let flag=!foodDetailItem.isBarcodeFood&&!(text.length>0&&foodDetailItem.foodName.length<=wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.FEATURE.FOOD_MANAGER.MAX_FOOD_NAME);if(foodDetailItem.foodSetupType==="Default"){flag=false;//자체 제공되는 음식은 음식길이 판단 하지 않는다.
}if(isEditMode){flag=flag||!isChanged();}return flag;};const isShowRecommentGuide=()=>{return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_15__["default"].isUsingRecommend()&&typeof(foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.foodSetupType)!=="undefined"&&(foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.foodSetupType)!=="User";};const makeAriaLabel=()=>{let result="";result=t("@RE_UX30_TERM_FOOD_NAME_W")+" "+t("@CP_ACC_PCC_REQUIRED");return result;};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{carpet.registerOnBackButtonCallback(goBackWithConfirm);return carpet.unregisterOnBackButtonCallback(goBackWithConfirm);},[initialInfo,foodDetailItem]);// 식품 이미지 변경 바텀 시트
const[isShowChangeImage,setIsShowChangeImage]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[foodImageList,setFoodImageList]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const[gridFoodImageList,setGridFoodImageList]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setIsLoading(false);libs_overlay_loader__WEBPACK_IMPORTED_MODULE_2__.Loader.start();_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__["default"].fireBaseEventUsedFeature(product,"-Fod02-Init");if(!fromIcon){if(isEditMode){wrm_GRM_lib_GRM_foodUtil__WEBPACK_IMPORTED_MODULE_8__["default"].getFoodDetail(product,item.foodSeqNo).then(res=>{initialInfo=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].cloneJson(res);setFoodDetailItem(res);return res.iconId;}).then(async iconId=>{const iconList=await _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_15__["default"].foodIconList(product,iconId,true);setFoodImageList([...iconList]);setGridFoodImageList([...iconList]);});}else{_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_15__["default"].foodIconList(product,foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.iconId,true).then(res=>{setFoodImageList(res);});const currentFoodItem=wrm_GRM_lib_GRM_foodUtil__WEBPACK_IMPORTED_MODULE_8__["default"].initFoodDetail(product,item,[],keepPlace);initialInfo=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].cloneJson(currentFoodItem);setFoodDetailItem(currentFoodItem);}}else{// initialInfo = utilityService.cloneJson(foodDetailItem);
}},[]);let _foodDetailItem=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].cloneJson(foodDetailItem);_foodDetailItem.foodName=decodeURIComponent(_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].checkUriDecodeString(_foodDetailItem.foodName));_foodDetailItem.foodImage=decodeURIComponent(_foodDetailItem.foodImage);const saveFoodImage=()=>{const candidateList=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].cloneJson(gridFoodImageList);setFoodImageList([...gridFoodImageList]);candidateList.map(item=>{if(item.checked){_foodDetailItem.foodImage=item.thumbnail;_foodDetailItem.iconId=item.id;setFoodDetailItem(_foodDetailItem);}});};const handleChangeGrid=id=>{const _gridFoodImageList=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].cloneJson(gridFoodImageList);_gridFoodImageList.map(item=>{item.checked=item.id+""===id+"";return item;});setGridFoodImageList([..._gridFoodImageList]);};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{const copyList=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].cloneJson(foodImageList);if(!isShowChangeImage){setGridFoodImageList([...copyList]);}},[isShowChangeImage,foodImageList]);const imageChangDisable=()=>{const checkCurrent=gridFoodImageList.filter(item=>item.checked).map(item=>item.id);if(checkCurrent[0]===foodDetailItem.iconId){return true;}else false;};return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialog,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogTitle,{children:isEditMode?t("@RE_FOOD_INFO_EDIT_W"):foodDetailItem!==null&&foodDetailItem!==void 0&&foodDetailItem.isBarcodeFood?t("@RE_FOOD_ADD_W"):foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.foodName}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogContents,{children:[isShowRecommentGuide()&&isEditMode&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:t("@RE_UX30_FOOD_RECOMMEND_PERIOD_ALERT_S")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",justify:"center",style:{width:"100%",marginBottom:(foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.modifyAuthority)==="Y"?"28px":"40px"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(CircleBackgroundImage,{"aria-label":(foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.modifyAuthority)==="Y"||foodDetailItem!==null&&foodDetailItem!==void 0&&foodDetailItem.isBarcodeFood?t("@RE_UX50_INSTA_SELECT_FOOD_IMAGE_W"):"",role:(foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.modifyAuthority)==="Y"||foodDetailItem!==null&&foodDetailItem!==void 0&&foodDetailItem.isBarcodeFood?"button":"none",image:foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.foodImage,onClick:(foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.modifyAuthority)==="Y"||foodDetailItem!==null&&foodDetailItem!==void 0&&foodDetailItem.isBarcodeFood?()=>{if((foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.modifyAuthority)==="Y"||foodDetailItem!==null&&foodDetailItem!==void 0&&foodDetailItem.isBarcodeFood){setIsShowChangeImage(true);}}:undefined,style:{marginBottom:(foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.modifyAuthority)==="Y"?"28px":"40px"},children:((foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.modifyAuthority)==="Y"||(foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.isBarcodeFood))&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(EditIcon,{"aria-hidden":true,role:"button",onClick:()=>setIsShowChangeImage(true),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Icon,{icon:"edit",size:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ICON_SIZE})})}),(foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.modifyAuthority)==="Y"?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{"aria-label":makeAriaLabel(),textCode:`Type_A08`,color:theme.colorSet.on_surface_variant,weight:"Medium",children:t("@RE_UX30_TERM_FOOD_NAME_W")})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(wrm_GRM_component_common_InputBoxListItemComponent__WEBPACK_IMPORTED_MODULE_7__["default"],{text:foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.foodName,placeholder:"@RE_UX30_TERM_FOOD_NAME_W",warning:"@RE_UX30_MAX_TEXT_WARNING_S",maxLength:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.FEATURE.FOOD_MANAGER.MAX_FOOD_NAME,callback:name=>onChangeFoodNameText(name),innerRef:textFieldRef,isFocus:false})]}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(FoodNameText,{children:foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.foodName}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{style:{textAlign:"center"},children:(foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.isBarcodeFood)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(SubText,{children:t("@RE_UX30_INSTA_BARCODE_RECOGNIZED_PRODUCT_W")})]})})]})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(wrm_GRM_component_GRM_EditSettingsComponent__WEBPACK_IMPORTED_MODULE_5__["default"],{item:foodDetailItem,product:product,saveCountCallback:saveCountCallback,saveLocationCallback:saveLocationCallback,saveStartDateCallback:saveStartDateCallback,saveEndDateCallback:saveEndDateCallback}),isEditMode&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_6__["default"],{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.FOOD_MANAGER_DELETE_FOD02_BTN,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{onClick:()=>setShowDeletePopup(prev=>!prev),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A09",color:theme.colorSet.error,children:t("@RE_UX30_FOOD_DELETE_W")})})})})}),((foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.isBarcodeFood)||isShowRecommentGuide())&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:`Type_A07`,color:theme.colorSet.on_surface_variant,children:t("@CP_UX35_FOOD_MANAGER_DISCLAIMER_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXXL,{})]})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{size:"cmd",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",type:"tertiary_a",onClick:()=>goBackWithConfirm(),tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.CANEL_BTN+"fod02_edit_food_info",children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",type:"primary",disabled:isDisabledSave(),onClick:()=>saveCallback(),tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.SAVE_BTN+"fod02_edit_food_info",children:isEditMode||(foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.modifyAuthority)==="Y"?t("@CP_SAVE_W"):t("@RE_GROCERY_ADD_S")})]})]}),isChangeConfirmPopupOpen&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_component_common_DiscardPopup__WEBPACK_IMPORTED_MODULE_14__["default"],{isShow:isChangeConfirmPopupOpen,cancelAction:closeChangePopup,confirmAction:goBack}),isShowDeletePopup&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowDeletePopup,btns:[{event:()=>setShowDeletePopup(prev=>!prev),label:t("@CP_CANCEL_W")},{event:()=>deleteFoodDetailCallback(),label:t("@CP_CRUD_DELETE_W")}],onBackKeyPress:()=>{setShowDeletePopup(false);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX30_GROCERY_DELETE_QUESTION_S")})}),isShowChangeImage&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheet,{isShow:isShowChangeImage,isFixed:true,onBackKeyPress:()=>setIsShowChangeImage(prev=>!prev),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetHeader,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{align:"baseline",direction:"column",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A12",weight:"Bold",color:theme.colorSet.on_background,children:t("@RE_UX50_INSTA_SELECT_FOOD_IMAGE_W")})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetBody,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ImageList,{columnCount:5,hGap:12,vGap:12,shape:"square",titlePosition:"outside",titleAlign:"center",role:"radiogroup",children:gridFoodImageList.map((item,index)=>{const id=`food_img_${index}`;return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ImageListItem,{id:id,checked:item.checked,backgroundColor:theme.colorSet.surface,onChange:()=>{handleChangeGrid(item.id);},selectionMode:"single",customAriaLabel:item.label,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{src:item.thumbnail,fit:"cover"})});})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetFooter,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.CANEL_BTN+"fod02_edit_food_info_food_icon",size:"cmd",type:"tertiary_a",onClick:()=>{setIsShowChangeImage(prev=>!prev);},children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.CONFIRM_BTN+"fod02_edit_food_info_food_icon",disabled:imageChangDisable(),size:"cmd",type:"primary",onClick:()=>{saveFoodImage();setIsShowChangeImage(prev=>!prev);},children:t("@CP_CONFIRM_W")})]})})]})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_FOD02_EditFoodInfo_001);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_FOD03_EditFoodIcon/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRP/foodManager.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);
const GRM_FOD03_EditFoodIcon=()=>{const{productId,foodItem,backPage,foodDetailId,foodId,foodName,backPageForward}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_3__.useCarpetGRP)(product,"GRM_FOD03_EditFoodIcon");// eslint-disable-next-line
const[carpetModel]=carpet.getModel();let _foodDetailItem=JSON.parse(foodItem);_foodDetailItem.foodName=decodeURIComponent(_foodDetailItem.foodName);_foodDetailItem.foodImage=decodeURIComponent(_foodDetailItem.foodImage);const[foodDetailItem,setFoodDetailItem]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_foodDetailItem);const[thumbnails,setThumbnails]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);const fetchIconList=()=>{return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_6__["default"].foodIconList(product,foodDetailItem===null||foodDetailItem===void 0?void 0:foodDetailItem.iconId,true).then(res=>{setThumbnails(res);});};const handleChange=_ref=>{let{id}=_ref;_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_4__["default"].fireBaseEventUsedFeature(product,"-Fod03-SelectIcon_"+id);const candidateList=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_5__["default"].cloneJson(thumbnails);setThumbnails(candidateList.map(item=>{item.checked=item.id+""===id+"";if(item.checked){_foodDetailItem.foodImage=item.thumbnail;_foodDetailItem.iconId=item.id;setFoodDetailItem(_foodDetailItem);}return item;}));// goBack();
};const goBack=()=>{let foodItemParam=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_5__["default"].cloneJson(foodDetailItem);foodItemParam.foodName=encodeURIComponent(foodItemParam.foodName);foodItemParam.foodImage=encodeURIComponent(foodItemParam.foodImage);//console.debug("goBack()");
carpet.back(decodeURIComponent(backPage),{backPage:backPageForward,productId:productId,foodItem:JSON.stringify(foodItemParam),foodDetailId:foodDetailId,foodId:foodId,foodName:foodName,fromIcon:true});};(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{carpet.registerOnBackButtonCallback(goBack);return carpet.unregisterOnBackButtonCallback(goBack);},[foodDetailItem]);(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_4__["default"].fireBaseEventUsedFeature(product,"-Fod03-Init");fetchIconList();},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t("@RE_FOOD_ICON_CHANGE_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.GridView,{check:true,cols:3,onChange:handleChange,thumbnails:thumbnails})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_FOD03_EditFoodIcon);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_FOD04_AddFood/addUserFood.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var wrm_GRM_component_common_InputBoxListItemComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/wrm/GRM/component/common/InputBoxListItemComponent.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRP/foodManager.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__);
const GRM_FOD04_AddUserFood=props=>{const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const{productId,foodId,foodName}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_5__.useCarpetGRP)(product,"GRM_FOD04_AddUserFood");const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const[isLoading,setIsLoading]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);// eslint-disable-next-line
const newProps={...props,carpet:carpet,carpetModel:carpetModel,viewModel:viewModel,setCarpetModel:setCarpetModel,acceptCarpetModel:acceptCarpetModel,isControlApplied:isControlApplied};const textFieldRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);const foodCode=decodeURIComponent(foodId).trim();const[foodNameText,setFoodNameText]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)("");const saveItem=()=>{if(isLoading)return;setIsLoading(true);_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_8__["default"].addUserFood(product,foodNameText,foodCode).then(()=>{goBack();},error=>{setIsLoading(false);if(Number(error.errorCode)===9004||Number(error.returnCd)===9004||Number(error.code)===9004||//DB처리 실패 -> 미지원 캐릭터포함
Number(error.errorCode)===123||Number(error.returnCd)===123||Number(error.code)===123){var _textFieldRef$current;//미지원 캐릭터포함
(0,libs__WEBPACK_IMPORTED_MODULE_1__.toast)(t("@RE_TOAST_NOT_SUPPORT_TEXT_W"));// eslint-disable-next-line
let temp=textFieldRef===null||textFieldRef===void 0?void 0:(_textFieldRef$current=textFieldRef.current)===null||_textFieldRef$current===void 0?void 0:_textFieldRef$current.focus();}else{// eslint-disable-line
}});};const isDisabledSave=()=>{if(isLoading){return true;}const text=typeof foodNameText!=="undefined"?foodNameText.trim():"";const flag=!(text.length>0&&foodNameText.length<=wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.FEATURE.FOOD_MANAGER.MAX_FOOD_NAME);return flag;};const goBack=()=>{//console.debug("goBack()");
carpet.back("GRM_FOD04_AddFood/subFoodList",{productId:productId,foodId:foodId,foodName:foodName});};(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{setIsLoading(false);carpet.registerOnBackButtonCallback(goBack);return carpet.unregisterOnBackButtonCallback(goBack);},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialog,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogTitle,{children:t("@RE_UX35_ADD_NEW_FOOD_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogContents,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:`Type_A08`,color:theme.colorSet.on_surface_variant,weight:"Medium",children:t("@RE_UX30_TERM_FOOD_NAME_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(wrm_GRM_component_common_InputBoxListItemComponent__WEBPACK_IMPORTED_MODULE_3__["default"],{text:foodNameText,placeholder:"@RE_UX30_INSTA_FOOD_NAME_HINT_W",warning:"@RE_UX30_MAX_TEXT_WARNING_S",maxLength:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.FEATURE.FOOD_MANAGER.MAX_FOOD_NAME,callback:name=>setFoodNameText(name),innerRef:textFieldRef})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{size:"cmd",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",type:"tertiary_a",onClick:()=>{goBack();},tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ELEMENT_ID.CANEL_BTN+"fod04_add_user_food",children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",type:"primary",disabled:isDisabledSave(),onClick:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_209,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.Device_Refrigerator_Save(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_209,{food_name:"food_"+foodNameText,lang_token:""}));saveItem();},tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ELEMENT_ID.SAVE_BTN+"fod04_add_user_food",children:t("@CP_SAVE_W")})]})]})});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_FOD04_AddUserFood);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_FOD04_AddFood/deleteUserFood.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var wrm_GRM_component_common_ButtonBarComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/wrm/GRM/component/common/ButtonBarComponent.js");
/* harmony import */ var wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRP/foodManager.js");
/* harmony import */ var wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/component/common/CardListView.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__);
const GRM_FOD04_DeleteUserFood=props=>{const{productId,foodId,foodName}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_5__.useCarpetGRP)(product,"GRM_FOD04_DeleteUserFood");const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();// eslint-disable-next-line
const newProps={...props,carpet:carpet,carpetModel:carpetModel,viewModel:viewModel,setCarpetModel:setCarpetModel,acceptCarpetModel:acceptCarpetModel,isControlApplied:isControlApplied};const foodCode=decodeURIComponent(foodId).trim();const[foodManagerInfo,setFoodManagerInfo]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(carpetModel===null||carpetModel===void 0?void 0:carpetModel.foodManagerInfo);const foodList=(foodManagerInfo===null||foodManagerInfo===void 0?void 0:foodManagerInfo.deletableFoodList)||[];const[selectedList,setSelection]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(Array(foodList.length).fill(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.UNDEFINED));const[isShowDeletPopup,setShowDeletePopup]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);const selectAllCallback=checked=>{let currentSelectedList=[...selectedList];for(let i=0;i<currentSelectedList.length;i++){currentSelectedList[i]=checked?wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.UNDEFINED:foodList[i].foodId;}setSelection(currentSelectedList);};const selectItemCallback=index=>{let currentSelectedList=[...selectedList];currentSelectedList[index]=currentSelectedList[index]===wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.UNDEFINED?foodList[index].foodId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.UNDEFINED;setSelection(currentSelectedList);};const getSelectedListCount=()=>{let count=0;selectedList.forEach(item=>{if(item!==wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.UNDEFINED){count++;}});return count;};const deleteSelectedFood=()=>{let targetList=[];selectedList.forEach(item=>{if(item!==wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.UNDEFINED){targetList.push(foodList.find(food=>food.foodId===item));}});_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_6__["default"].fireBaseEventUsedFeature(product,"-Fod04-DelTry");return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_7__["default"].deleteUserFood(product,targetList,true).then(()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_6__["default"].fireBaseEventUsedFeature(product,"-Fod04-DelComplete");if(_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_7__["default"].isUseLocalDB(product)){setTimeout(()=>{// 냉장고 내부에서 DB 파일 저장하는 데 시간이 걸려서 500ms 정도 기다림.
goBack();},500);}else{goBack();}}).catch(error=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_6__["default"].fireBaseEventUsedFeature(product,"-Fod04-DelFail_"+(error.returnCd||error.errorCode));});};const fetchFoodList=()=>{return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_7__["default"].categorySubFoodList(product,foodCode,true).then(res=>{let deletableFoodList=[];// eslint-disable-next-line
let temp=res.map(item=>{if(item.foodSetupType==="User"){deletableFoodList.push(item);}});setSelection(Array(deletableFoodList.length).fill(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.UNDEFINED));setFoodManagerInfo({...foodManagerInfo,deletableFoodList:deletableFoodList});});};const goBack=()=>{//console.debug("goBack()");
carpet.back("GRM_FOD04_AddFood/subFoodList",{productId:productId,foodId:foodId,foodName:foodName});};(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{fetchFoodList();},[]);(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{carpet.registerOnBackButtonCallback(goBack);return carpet.unregisterOnBackButtonCallback(goBack);},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SelectionBar,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.ELEMENT_ID.FOOD_MANAGER_DELETE_SCREEN_ALL_SELECT_FOD04,title:t("@CP_CRUD_SELECT_ALL_W"),checked:foodList.length>0&&getSelectedListCount()===foodList.length,onChange:()=>selectAllCallback(getSelectedListCount()===foodList.length),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:`Type_A08`,children:getSelectedListCount().toString()==="0"?"":t("@CP_UX35_LAB_SELECT_COUNT",{$0:getSelectedListCount().toString()})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_8__["default"],{children:foodList.map((item,index)=>/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{dividerIndent:64,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Checkbox,{checked:selectedList[index]!==wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.UNDEFINED,onChange:()=>selectItemCallback(index),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{decorator:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItemIcon,{size:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.ICON_SIZE,icon:item.foodImage}),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A09",maxLine:1,children:item.foodName})})})},index))}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(wrm_GRM_component_common_ButtonBarComponent__WEBPACK_IMPORTED_MODULE_3__["default"],{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.ELEMENT_ID.CANEL_BTN+"fod04_deleteUserFood",type:"tertiary_a",onClick:()=>goBack(),children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.ELEMENT_ID.DELETE_BTN+"fod04_deleteUserFood",type:"primary",disabled:getSelectedListCount()===0,onClick:()=>setShowDeletePopup(prev=>!prev),children:t("@CP_CRUD_DELETE_W")})]}),isShowDeletPopup&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowDeletPopup,btns:[{event:()=>setShowDeletePopup(false),label:t("@CP_CANCEL_W")},{event:()=>deleteSelectedFood(),label:t("@CP_CRUD_DELETE_W")}],onBackKeyPress:()=>{setShowDeletePopup(false);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX30_GROCERY_DELETE_QUESTION_S")})})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_FOD04_DeleteUserFood);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_FOD04_AddFood/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/wrm/GRM/component/common/CardListView.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_resource_image_ux50_ic_option_favorite_star_3x_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/resource/image/ux50/ic-option-favorite-star@3x.png");
/* harmony import */ var _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRP/foodManager.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__);
const favoriteCategoryItem=[{foodId:"Favorite",foodImage:wrm_GRM_resource_image_ux50_ic_option_favorite_star_3x_png__WEBPACK_IMPORTED_MODULE_8__["default"],foodName:(0,libs__WEBPACK_IMPORTED_MODULE_1__.translate)("@RE_UX30_FOOD_FREQUENTLY_STORED_FOOD_W")}];const GRM_FOD04_AddFood_001=props=>{var _foodManagerInfo$cate;const theme=(0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(styled_components__WEBPACK_IMPORTED_MODULE_12__.ThemeContext);const{productId}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_5__.useCarpetGRP)(product,"GRM_FOD04_AddFood_001");const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();// eslint-disable-next-line
const newProps={...props,carpet:carpet,carpetModel:carpetModel,viewModel:viewModel,setCarpetModel:setCarpetModel,acceptCarpetModel:acceptCarpetModel,isControlApplied:isControlApplied};const[foodManagerInfo,setFoodManagerInfo]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(carpetModel===null||carpetModel===void 0?void 0:carpetModel.foodManagerInfo);const foodCategoryList=foodManagerInfo===null||foodManagerInfo===void 0?void 0:(_foodManagerInfo$cate=foodManagerInfo.categoryInfo)===null||_foodManagerInfo$cate===void 0?void 0:_foodManagerInfo$cate.foodCategoryList;const fetchFoodCategoryList=()=>{return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_9__["default"].categoryFoodList(product,true).then(res=>{setFoodManagerInfo({...foodManagerInfo,categoryInfo:res});});};const goBack=()=>{//console.debug("goBack()");
carpet.back("GRM_FOD01_Main",{productId:productId});};const goSearch=()=>{//console.debug("goSearch()");
carpet.go("GRM_FOD04_AddFood/search",{productId:productId});};const goSubList=item=>{carpet.go("GRM_FOD04_AddFood/subFoodList",{productId:productId,foodId:encodeURIComponent(item.foodId),foodName:encodeURIComponent(item.foodName)});};(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{fetchFoodCategoryList();},[]);const setRecommendFlag=flag=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_10__["default"].fireBaseEventUsedFeature(product,"-Fod04-Recommend_"+flag);setInfoPopup(false);//console.debug("setRecommendFlag()", flag);
_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_9__["default"].foodRecommend(product,flag?"Y":"N",true);product.config(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.PRODUCT_CONFIG.KEY_FOOD_MANAGER_RECOMMEND_POPUP_DONT_SHOW_AGAIN,true);};const[isInfoPopup,setInfoPopup]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);const makeInfoPopup=()=>{const buttons=[{event:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_192,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_192,{is_recommended_shelf_life:false}));product.config(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.PRODUCT_CONFIG.KEY_FOOD_MANAGER_RECOMMEND_POPUP_DONT_SHOW_AGAIN,true);setInfoPopup(false);},label:t("@RE_UX50_POP_USE_RECOMMEND_NO")},{event:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_192,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_192,{is_recommended_shelf_life:true})),setRecommendFlag("Y");},label:t("@RE_UX50_POP_USE_RECOMMEND_YES")}];return isInfoPopup&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isInfoPopup,btns:buttons,onBackKeyPress:()=>{setInfoPopup(false);},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A10",children:t("@RE_UX50_POP_USE_RECOMMEND_PERIOD_DESC_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A07",style:{marginTop:8},color:theme.colorSet.secondary_text_default_material_light,children:t("@RE_UX50_POP_USE_RECOMMEND_PERIOD_DESC2_S")})]});};(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_10__["default"].fireBaseEventUsedFeature(product,"-Fod04-Init");carpet.registerOnBackButtonCallback(goBack);return carpet.unregisterOnBackButtonCallback(goBack);},[]);(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{const doNotShowFlag=product.config(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.PRODUCT_CONFIG.KEY_FOOD_MANAGER_RECOMMEND_POPUP_DONT_SHOW_AGAIN)===true;const flag=libs__WEBPACK_IMPORTED_MODULE_1__.Environment.getCountryCode()==="KR"&&!doNotShowFlag?true:false;setInfoPopup(flag);},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t("@RE_FOOD_ADD_W"),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ELEMENT_ID.FOOD_MANAGER_ADD_FOD04_BTN,"aria-label":t("@CP_CRUD_SEARCH_W"),icon:"search",onClick:()=>{goSearch();}})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_3__["default"],{children:favoriteCategoryItem.map((item,index)=>/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{dividerIndent:64,tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ELEMENT_ID.FOOD_MANAGER_OPTION_ITEM_VALUE+`${item.foodId}`,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_202,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_202));goSubList(item);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{decorator:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItemIcon,{size:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ICON_SIZE,icon:item.foodImage}),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A09",maxLine:1,children:item.foodName})})})},index))}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_3__["default"],{children:foodCategoryList===null||foodCategoryList===void 0?void 0:foodCategoryList.map((item,index)=>/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{dividerIndent:64,tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ELEMENT_ID.FOOD_MANAGER_OPTION_ITEM_VALUE+`${item.foodId}`,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_204,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_204,{food_category:item.foodName,lang_pack:""}));goSubList(item);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{decorator:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItemIcon,{size:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ICON_SIZE,icon:item.foodImage}),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A09",maxLine:1,children:item.foodName})})})},index+1))}),makeInfoPopup()]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_FOD04_AddFood_001);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_FOD04_AddFood/search.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/wrm/GRM/component/common/CardListView.js");
/* harmony import */ var wrm_GRM_component_common_InputBoxSearchComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/component/common/InputBoxSearchComponent.js");
/* harmony import */ var wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRP/foodManager.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);
let searchTimer=undefined;let _searchText="";const GRM_FOD04_AddFood_Search=props=>{const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const{productId,foodId,foodName,searchKeyword}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_5__.useCarpetGRP)(product,"GRM_FOD04_AddFood_Search");const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();// eslint-disable-next-line
const newProps={...props,carpet:carpet,carpetModel:carpetModel,viewModel:viewModel,setCarpetModel:setCarpetModel,acceptCarpetModel:acceptCarpetModel,isControlApplied:isControlApplied,backPage:"GRM_FOD04_AddFood/search"};const foodCode=decodeURIComponent(foodId).trim();const[foodManagerInfo,setFoodManagerInfo]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(carpetModel===null||carpetModel===void 0?void 0:carpetModel.foodManagerInfo);const fetchFoodList=()=>{if(foodCode==="Favorite"){return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_9__["default"].favoriteFoodList(product,true).then(res=>{setFoodManagerInfo({...foodManagerInfo,subFoodList:res});});}else{return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_9__["default"].categorySubFoodList(product,foodCode,true).then(res=>{setFoodManagerInfo({...foodManagerInfo,subFoodList:res});});}};const[searchList,setSearchList]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(foodManagerInfo===null||foodManagerInfo===void 0?void 0:foodManagerInfo.subFoodList);const[isSearching,setIsSearching]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);const goBack=()=>{//console.debug("goBack()");
_searchText="";carpet.back("GRM_FOD04_AddFood/subFoodList",{productId:productId,foodId:foodId,foodName:foodName});};const goDetail=item=>{let foodItemParam=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_8__["default"].cloneJson(item);foodItemParam.foodName=encodeURIComponent(foodItemParam.foodName);foodItemParam.foodImage=encodeURIComponent(foodItemParam.foodImage);carpet.go("GRM_FOD02_EditFoodInfo",{productId:productId,foodItem:JSON.stringify(foodItemParam),backPage:"GRM_FOD04_AddFood/search",foodId:foodId,foodName:foodName,searchKeyword:encodeURIComponent(_searchText)});};// 검색
const searchFood=()=>{if(_searchText.length>_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.FEATURE.FOOD_MANAGER.MAX_SEARCH_TEXT_LENGTH){_searchText=String(_searchText).substring(0,_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.FEATURE.FOOD_MANAGER.MAX_SEARCH_TEXT_LENGTH);// setSearchText(_searchText);
}if(_searchText.length===0){setSearchList([]);return;}if(isSearching){return;}// if (foodManager.isUseLocalDB(product)) {
//     $rootScope.$$loading++;
// }
setIsSearching(true);_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_9__["default"].searchFoodList(product,_searchText,foodId,false).then(res=>{// if (foodManager.isUseLocalDB(product)) {
//     $rootScope.$$loading = Math.max(0, $rootScope.$$loading - 1);
// }
for(let item in res){//nameList.push($scope.foodList[item].name);
let highlight=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_8__["default"].getSearchHtml(res[item].foodName,_searchText,theme.colorSet.main_variant2);res[item]._name=highlight;}setSearchList(res);},()=>{// Util.showErrorPopupNGoProductList(error, $scope);
}).finally(()=>{setIsSearching(false);});};const onChangedSearchInput=name=>{_searchText=name;// setSearchText(name);
clearTimeout(searchTimer);searchTimer=setTimeout(searchFood,800);};const initInput=()=>{_searchText=typeof searchKeyword!=="undefined"?decodeURIComponent(searchKeyword):"";// setSearchText(foodName || "");
searchFood();};(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_7__["default"].fireBaseEventUsedFeature(product,"-Fod04-Search");carpet.registerOnBackButtonCallback(goBack);return carpet.unregisterOnBackButtonCallback(goBack);},[]);(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{fetchFoodList();initInput();},[]);const[emptyBoxSize,setEmptyBoxSize]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);const resizeWindow=()=>{// 56 = appbar
setEmptyBoxSize(window.innerHeight-56);};(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{resizeWindow();window.addEventListener("resize",resizeWindow);window.addEventListener("orientationchange",resizeWindow);return()=>{window.removeEventListener("resize",resizeWindow);window.removeEventListener("orientationchange",resizeWindow);};},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(wrm_GRM_component_common_InputBoxSearchComponent__WEBPACK_IMPORTED_MODULE_4__["default"],{text:_searchText,placeholder:"@RE_UX30_HINT_SEARCH_FOOD_W",callback:name=>onChangedSearchInput(name)}),role:"none"})}),(searchList===null||searchList===void 0?void 0:searchList.length)>0?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_3__["default"],{children:searchList===null||searchList===void 0?void 0:searchList.map((item,index)=>/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{onClick:()=>{goDetail(item,_searchText);},navNext:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{decorator:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Icon,{icon:item.foodImage,size:_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ICON_SIZE}),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{style:{whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:item._name}})})})},index))})]}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{style:{height:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",justify:"center",style:{height:emptyBoxSize},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{align:"center",children:[" ",t("@RE_UX30_UX20_THERE_ARE_NO_FOODS_FOR_SEARCH_S")]})})})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_FOD04_AddFood_Search);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_FOD04_AddFood/subFoodList.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/wrm/GRM/component/common/CardListView.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_resource_image_ux50_ic_option_etc_3x_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/resource/image/ux50/ic-option-etc@3x.png");
/* harmony import */ var _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRP/foodManager.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__);
const GRM_FOD04_SubFoodList=props=>{console.log("##props",props);const{productId,foodId,foodName}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_5__.useCarpetGRP)(product,"GRM_FOD04_SubFoodList");const[carpetModel]=carpet.getModel();const foodCode=decodeURIComponent(foodId).trim();const foodNameText=decodeURIComponent(foodName===null||foodName===void 0?void 0:foodName.replace("%2F","/")).trim();const[foodManagerInfo,setFoodManagerInfo]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(carpetModel===null||carpetModel===void 0?void 0:carpetModel.foodManagerInfo);const foodList=foodManagerInfo===null||foodManagerInfo===void 0?void 0:foodManagerInfo.subFoodList;const fetchFoodList=()=>{if(foodCode==="Favorite"){return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_9__["default"].favoriteFoodList(product,true).then(res=>{setFoodManagerInfo({...foodManagerInfo,subFoodList:res});});}else{return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_9__["default"].categorySubFoodList(product,foodCode,true).then(res=>{setFoodManagerInfo({...foodManagerInfo,subFoodList:res});});}};const showSideButton=()=>{return foodCode!=="Favorite"&&!_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_9__["default"].isUseLocalDB(product);};const goBack=()=>{//console.debug("goBack()");
carpet.back("GRM_FOD04_AddFood",{productId:productId});};const goSearch=()=>{//console.debug("goSearch()");
carpet.go("GRM_FOD04_AddFood/search",{productId:productId,foodId:foodId,foodName:foodName});};const goAdd=()=>{if(foodManagerInfo!==null&&foodManagerInfo!==void 0&&foodManagerInfo.hasMaxFoodCount){//todo show max popup?
_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_10__["default"].fireBaseEventUsedFeature(product,"-Fod04-MaxLimitPopUp");}else{carpet.go("GRM_FOD04_AddFood/addUserFood",{productId:productId,foodId:foodId,foodName:foodName});}};const goDelete=()=>{carpet.go("GRM_FOD04_AddFood/deleteUserFood",{productId:productId,foodId:foodId,foodName:foodName});};const goDetail=item=>{let foodItemParam=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(item);foodItemParam.foodName=encodeURIComponent(foodItemParam.foodName);foodItemParam.foodImage=encodeURIComponent(foodItemParam.foodImage);carpet.go("GRM_FOD02_EditFoodInfo",{productId:productId,foodItem:JSON.stringify(foodItemParam),backPage:"GRM_FOD04_AddFood/subFoodList",foodId:foodId,foodName:foodName});};const[disableDeleteIcon,setDisableDeleteIcon]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);const[disableSearchIcon,setDisableSearchIcon]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{setDisableDeleteIcon((foodList===null||foodList===void 0?void 0:foodList.filter(item=>item.foodSetupType==="User").length)===0);setDisableSearchIcon((foodList===null||foodList===void 0?void 0:foodList.length)===0);},[foodList]);(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{fetchFoodList();},[]);(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{carpet.registerOnBackButtonCallback(goBack);return carpet.unregisterOnBackButtonCallback(goBack);},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:foodNameText,children:[showSideButton()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ELEMENT_ID.FOOD_MANAGER_ADD_FOD04_BTN,"aria-label":t("@RE_FOOD_ADD_W"),icon:"add",onClick:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_206,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_4__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_206));goAdd();}}),showSideButton()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ELEMENT_ID.FOOD_MANAGER_SEARCH_FOD04_BTN,"aria-label":t("@CP_CRUD_SEARCH_W"),icon:"search",disabled:disableSearchIcon,onClick:()=>{goSearch();}}),showSideButton()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ELEMENT_ID.FOOD_MANAGER_DELETE_FOD04_BTN,"aria-label":t("@CP_CRUD_DELETE_W"),icon:"delete_fill",disabled:disableDeleteIcon,onClick:()=>{goDelete();}})]})}),(foodList===null||foodList===void 0?void 0:foodList.length)>0&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_3__["default"],{children:foodList===null||foodList===void 0?void 0:foodList.map((item,index)=>/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{dividerIndent:64,tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ELEMENT_ID.FOOD_MANAGER_OPTION_ITEM_VALUE+`${item.foodId}`,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:()=>{goDetail(item);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{decorator:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItemIcon,{size:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_6__.constant.ICON_SIZE,icon:item.foodImage}),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A09",maxLine:1,children:item.foodName})})})},index))})]}),(foodList===null||foodList===void 0?void 0:foodList.length)===0&&/*#__PURE__*/// 보관 중인 식품이 없을 때
(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{style:{height:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",justify:"center",style:{height:"100%"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Icon,{icon:wrm_GRM_resource_image_ux50_ic_option_etc_3x_png__WEBPACK_IMPORTED_MODULE_8__["default"],size:80}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{align:"center",tabIndex:"0",role:"text",children:t("@RE_UX30_FOOD_NO_STORED_FOOD_AND_ADD_S")})]})})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_FOD04_SubFoodList);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_SVY01_Result/CoverScreenClock.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/container/common/listview/CardListView.js");
/* harmony import */ var wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRM/ncmUtil.js");
/* harmony import */ var wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_resource_GRM_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/resource/GRM/index.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);
const GRM_SVY01_CoverScreenClock=()=>{var _coverData$showDateYn,_coverData$timeFormat,_coverData$clockTheme;const params=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();let{viewList,modelJson}=params;viewList=JSON.parse(viewList);modelJson=JSON.parse(modelJson);console.log("##clock_viewList",viewList);const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const theme=(0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(styled_components__WEBPACK_IMPORTED_MODULE_11__.ThemeContext);const[coverData,setCoverData]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_8__.screenHelper.manualCoverScreenAtom);// const product = Account.getProductById(productId);
// const carpet = useCarpetGRP(product, `GRM_SVY01_CoverScreenClock`, false, false);
// const [carpetModel] = carpet.getModel();
const makeControlList=valueMapping=>{let result=[];for(const key in valueMapping){if(key!=="IGNORE"){var _valueMapping$key,_valueMapping$key2,_valueMapping$key3,_valueMapping$key4;let res={index:(_valueMapping$key=valueMapping[key])===null||_valueMapping$key===void 0?void 0:_valueMapping$key.index,label:(_valueMapping$key2=valueMapping[key])===null||_valueMapping$key2===void 0?void 0:_valueMapping$key2.label,_comment:(_valueMapping$key3=valueMapping[key])===null||_valueMapping$key3===void 0?void 0:_valueMapping$key3._comment,value:key.toString(),id:(_valueMapping$key4=valueMapping[key])===null||_valueMapping$key4===void 0?void 0:_valueMapping$key4.id,control:true};result.push(res);}}return result;};const timeFormatControlList=makeControlList(modelJson.MonitoringValue.timeFormat.valueMapping).filter(item=>item.control&&item.label);const[showDateYn,setShowDateYn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((_coverData$showDateYn=coverData.showDateYn)!==null&&_coverData$showDateYn!==void 0?_coverData$showDateYn:"ON");const[timeFormat,setTimeFormat]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((_coverData$timeFormat=coverData.timeFormat)!==null&&_coverData$timeFormat!==void 0?_coverData$timeFormat:"12H");//clockThemeId 값은 0은 무시 0~4 까지 number 값임 -> Resource 에 정의 되있음 -> 초기값만 대충 맞춰주면됨
const clockThemeId=(_coverData$clockTheme=coverData.clockThemeId)!==null&&_coverData$clockTheme!==void 0?_coverData$clockTheme:"1";const clockOption=`clock_${timeFormat}_${showDateYn}`;const goBack=()=>{// firebaseService.fireBaseEventUsedFeature(
//     product,
//     "-Cen01-" + (backStateName || "GRM_CEN01_Main")
// );
setCoverData({...coverData,clockThemeId:clockThemeId,timeFormat:timeFormat,showDateYn:showDateYn});libs__WEBPACK_IMPORTED_MODULE_1__.State.back(-1);};const goClockThemePage=()=>{// firebaseService.fireBaseEventUsedFeature(product, "-Cen01-" + "GRM_CLO01_ClockTheme");
//@@ 페이지 바꿔줘야함
libs__WEBPACK_IMPORTED_MODULE_1__.State.go("GRM_SVY01_CoverScreenClockTheme",{clockThemeId:JSON.stringify(clockThemeId)});};const timeFormatHandler=e=>{var _makeControlList;const selectedOption=(_makeControlList=makeControlList(modelJson.MonitoringValue.timeFormat.valueMapping))===null||_makeControlList===void 0?void 0:_makeControlList.find(item=>{return item.value===e;});// firebaseService.fireBaseEventUsedFeature(
//     product,
//     "-CLO01-TimeFormatChanged-" + t(selectedOption.label)
// );
//@@ 시계포멧 컨트롤 해줘야함
setTimeFormat(selectedOption.value);// carpet.sendSimpleControl("timeFormat", selectedOption);
};const toggleShowDateYnSetting=()=>{var _makeControlList2;const targetState=showDateYn!==null&&showDateYn!==void 0&&showDateYn.includes(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.TERM_ON)?wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.TERM_OFF:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.TERM_ON;const selectedOption=(_makeControlList2=makeControlList(modelJson.MonitoringValue.showDateYn.valueMapping))===null||_makeControlList2===void 0?void 0:_makeControlList2.find(item=>{return item.value===targetState;});// firebaseService.fireBaseEventUsedFeature(
//     product,
//     "-CLO01-ShowDateYnChanged-" + t(selectedOption.label)
// );
//@@ 날짜 표시여부 컨트롤
setShowDateYn(selectedOption.value);// carpet.sendSimpleControl("showDateYn", selectedOption);
};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{// setCoverData({
//     ...coverData,
//     timeFormat: timeFormat,
//     showDateYn: showDateYn,
// });
},[timeFormat,showDateYn]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:goBack,title:t("@RE_UX35_NG_CLOCK_TITLE_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{style:{width:"100%",borderRadius:"14px",border:`1px solid  ${theme.colorSet.outline}`},src:wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_6__["default"].getClockImage(false,wrm_GRM_resource_GRM_index__WEBPACK_IMPORTED_MODULE_9__.Resources,clockThemeId,clockOption,false),tabIndex:0}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A07",align:"center",color:theme.colorSet.on_surface_variant,style:{padding:"8px 0",fontSize:"13px"},children:t("@RE_UX35_NG_CLOCK_PREVIEW_DESC_S")})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_5__["default"],{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.ELEMENT_ID.SVT01_RESULT,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:goClockThemePage,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@RE_UX35_NG_CLOCK_THEME_W")})})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A08",weight:"Medium",style:{padding:"9px 20px"},color:theme.colorSet.on_surface_variant,children:t("@RE_UX35_NG_CLOCK_TIME_FORMAT_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Card,{marginBottom:20,children:timeFormatControlList.map((item,index)=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Radio,{checked:timeFormat===item.value,id:`clockTimeFormat_${index}`,onChange:()=>{timeFormatHandler(item.value);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t(item.label)})})})});})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A08",weight:"Medium",style:{padding:"9px 20px"},color:theme.colorSet.on_surface_variant,children:t("@RE_UX35_NG_CLOCK_SHOW_MORE_INFO_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Card,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{dividerIndent:76,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{onClick:toggle=>{toggle.preventDefault();libs__WEBPACK_IMPORTED_MODULE_1__.utilityCommonService.accessibility.isEnabled().then(res=>{if(!res.data){toggleShowDateYnSetting();}});},checked:showDateYn===null||showDateYn===void 0?void 0:showDateYn.includes(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_7__.constant.TERM_ON),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@RE_UX35_NG_CLOCK_SHOW_DATE_W")})})})})})})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_SVY01_CoverScreenClock);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_SVY01_Result/CoverScreenClockTheme.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_resource_GRM_image_clockTheme_img_theme_case_ref_clock_basic_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/resource/GRM/image/clockTheme/img_theme_case_ref_clock_basic.png");
/* harmony import */ var wrm_GRM_resource_GRM_image_clockTheme_img_theme_case_ref_clock_dot_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/resource/GRM/image/clockTheme/img_theme_case_ref_clock_dot.png");
/* harmony import */ var wrm_GRM_resource_GRM_image_clockTheme_img_theme_case_ref_clock_track_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/resource/GRM/image/clockTheme/img_theme_case_ref_clock_track.png");
/* harmony import */ var wrm_GRM_resource_GRM_image_clockTheme_img_theme_case_ref_clock_typo_png__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/resource/GRM/image/clockTheme/img_theme_case_ref_clock_typo.png");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);
const GRM_SVY01_CoverScreenClockTheme=()=>{let{clockThemeId}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();clockThemeId=JSON.parse(clockThemeId);const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const[coverData,setCoverData]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_5__.screenHelper.manualCoverScreenAtom);const[clockThemeIdState,setClockThemeIdState]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(clockThemeId);// const product = Account.getProductById(productId);
// const carpet = useCarpetGRP(product, `GRM_CLO01_ClockTheme`, false, false);
// const [carpetModel] = carpet.getModel();
const clockThemeImages=[{id:"1",src:wrm_GRM_resource_GRM_image_clockTheme_img_theme_case_ref_clock_typo_png__WEBPACK_IMPORTED_MODULE_9__["default"]},{id:"2",src:wrm_GRM_resource_GRM_image_clockTheme_img_theme_case_ref_clock_track_png__WEBPACK_IMPORTED_MODULE_8__["default"]},{id:"3",src:wrm_GRM_resource_GRM_image_clockTheme_img_theme_case_ref_clock_basic_png__WEBPACK_IMPORTED_MODULE_6__["default"]},{id:"4",src:wrm_GRM_resource_GRM_image_clockTheme_img_theme_case_ref_clock_dot_png__WEBPACK_IMPORTED_MODULE_7__["default"]}];const goBack=()=>{// firebaseService.fireBaseEventUsedFeature(product, "-Cen01-" + "GRM_CLO01_ClockTheme");
libs__WEBPACK_IMPORTED_MODULE_1__.State.back(-1);};const makeGridViewThumbnail=()=>{return clockThemeImages.map(item=>{return{id:item.id,thumbnail:item.src,favorite:false,checked:Number(item.id)===Number(clockThemeIdState),label:item.id};});};const clockThemeHandler=e=>{// firebaseService.fireBaseEventUsedFeature(product, "-CLO01-ClockThemeIdChanged-" + t(e.id));
//@@ clockThemeId 변경 컨트롤러 필요
const{id}=e.target;setClockThemeIdState(id);// carpet.sendSimpleControl("clockThemeId", {
//     label: e.id,
// });
};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setCoverData({...coverData,clockThemeId:Number(clockThemeIdState)});},[clockThemeIdState]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:goBack,title:t("@RE_UX35_NG_CLOCK_THEME_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListDescription,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ImageList,{columnCount:2,shape:"square",titlePosition:"outside",titleAlign:"center",children:makeGridViewThumbnail().map((item,index)=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ImageListItem,{onChange:e=>{clockThemeHandler(e);},id:item.id,checked:item.checked,selectionMode:"single",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{width:"100%",height:"100%",src:item.thumbnail})})},index);})})})})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_SVY01_CoverScreenClockTheme);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_SVY01_Result/ManualUserSetting.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var libs_state_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/libs/state/state.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_hooks_useAsync__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/hooks/useAsync.js");
/* harmony import */ var wrm_GRM_screen_GRM_GRM_SVY01_Result_MVBManualContainer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/screen/GRM/GRM_SVY01_Result/MVBManualContainer.js");
/* harmony import */ var wrm_GRM_screen_GRM_GRM_SVY01_Result_Type2ManualContainer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/screen/GRM/GRM_SVY01_Result/Type2ManualContainer.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__);
const GRM_SVY01_ManualUserSetting=()=>{const params=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();let{thinqModelName,deviceType,isSurveyComplete,userSettingParam,fromManualUserSetting}=params;const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const prevProductId=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.useRecoilValue)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_6__.screenHelper.prevSettingProductIdAtom);const prevUserSettingInfo=userSettingParam?JSON.parse(userSettingParam):undefined;const isShowThinQDiaryStep=prevProductId!==""&&prevProductId!==undefined;const makeCarpet=productId=>{//설치 완료 후 조건부 carpet 적용
const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_10__.useCarpetGRP)(product,`GRM_SVY01_ManualUserSetting`,false,false);const[carpetModel]=carpet.getModel();return{product:product,carpet:carpet,carpetModel:carpetModel};};let{product,carpet,carpetModel}=isShowThinQDiaryStep?makeCarpet(prevProductId):{product:"",carpet:{},carpetModel:{}};const state=(0,wrm_GRM_lib_hooks_useAsync__WEBPACK_IMPORTED_MODULE_7__.useLoading)(async()=>{const userInfo=await libs__WEBPACK_IMPORTED_MODULE_1__.pluginService.nativedata.getUserInfo();const userName=JSON.parse(userInfo.data).displayUserName;const modelJson=await libs__WEBPACK_IMPORTED_MODULE_1__.Account.getModelJsonByModelName(thinqModelName,deviceType);let surveyResult=await libs__WEBPACK_IMPORTED_MODULE_1__.Api.application.getSurveyResult("PI",thinqModelName);return{userName,modelJson,surveyResult};});const goBack=()=>{libs__WEBPACK_IMPORTED_MODULE_1__.State.replace("GRM_SVY01_Result",{thinqModelName:thinqModelName,deviceType:deviceType,// isSurveyComplete: "false",
isSurveyComplete:isSurveyComplete,userSettingParam:prevUserSettingInfo?JSON.stringify(prevUserSettingInfo):undefined,fromManualUserSetting:fromManualUserSetting});};const MVBProps={thinqModelName:thinqModelName,deviceType:deviceType,isSurveyComplete:isSurveyComplete,userSettingParam:userSettingParam,product:product,carpet:carpet,carpetModel:carpetModel,state:state,prevProductId:prevProductId,prevUserSettingInfo:prevUserSettingInfo};const containerSelector=()=>{var _state$data,_state$data$modelJson,_state$data$modelJson2,_state$data$modelJson3,_state$data$modelJson4;let res=[];const isTypeMVB=typeof(state===null||state===void 0?void 0:(_state$data=state.data)===null||_state$data===void 0?void 0:(_state$data$modelJson=_state$data.modelJson)===null||_state$data$modelJson===void 0?void 0:(_state$data$modelJson2=_state$data$modelJson.Config)===null||_state$data$modelJson2===void 0?void 0:(_state$data$modelJson3=_state$data$modelJson2.nextGenInfo)===null||_state$data$modelJson3===void 0?void 0:(_state$data$modelJson4=_state$data$modelJson3.prevSetting)===null||_state$data$modelJson4===void 0?void 0:_state$data$modelJson4.contentList)==="undefined";if(isTypeMVB){res.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(wrm_GRM_screen_GRM_GRM_SVY01_Result_MVBManualContainer__WEBPACK_IMPORTED_MODULE_8__["default"],{...MVBProps}));}else{res.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(wrm_GRM_screen_GRM_GRM_SVY01_Result_Type2ManualContainer__WEBPACK_IMPORTED_MODULE_9__["default"],{...MVBProps}));}return res;};(0,libs_state_state__WEBPACK_IMPORTED_MODULE_3__.onBackButton)(()=>{goBack();return false;});(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{if(prevProductId&&carpet){carpet.registerOnBackButtonCallback(goBack);return()=>{carpet.unregisterOnBackButtonCallback();};}},[]);if(state.status===wrm_GRM_lib_hooks_useAsync__WEBPACK_IMPORTED_MODULE_7__.USE_ASYNC_STATUS.DONE){return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:goBack,title:t("@RE_UX35_CUSTOM_SETTING_TITLE_W")})}),containerSelector()]});}else{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.Fragment,{});}};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_SVY01_ManualUserSetting);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_SVY01_Result/ThinQDiaryAddMemo.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_util_moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/util/moment/index.js");
/* harmony import */ var libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(libs_util_moment__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_component_GRM_InputMemoBoxListItemComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/component/GRM/InputMemoBoxListItemComponent.js");
/* harmony import */ var wrm_GRM_component_GRM_ProfileListComponent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/component/GRM/ProfileListComponent.js");
/* harmony import */ var wrm_GRM_component_common_GxmBottomSheet__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/component/common/GxmBottomSheet.js");
/* harmony import */ var wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/container/common/listview/CardListView.js");
/* harmony import */ var wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_hooks_useAsync__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/hooks/useAsync.js");
/* harmony import */ var _lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/GRM/uiUtility.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__);
const MemoBox=(0,styled_components__WEBPACK_IMPORTED_MODULE_14__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs(()=>({direction:"column",justify:"center"}))`
    padding: 19px 20px 17px;
    width: 100%;
    height: 100%;
    background-color: #512524;
    border-radius: 12px;
`;const GRM_SVY01_ThinQDiaryAddMemo=()=>{var _modelJson$data,_modelJson$data$Confi,_modelJson$data$Confi2,_modelJson$data$Confi3,_modelJson$data2,_modelJson$data2$Conf,_modelJson$data2$Conf2,_modelJson$data2$Conf3,_moment,_diaryData$repeat,_diaryData$repeat$che,_diaryData$repeat$che2,_diaryData$repeat$wee,_diaryData$repeat$val;const{isEdit,thinqModelName,deviceType}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const modelJson=(0,wrm_GRM_lib_hooks_useAsync__WEBPACK_IMPORTED_MODULE_11__.useLoading)(async()=>{const modelJson=await libs__WEBPACK_IMPORTED_MODULE_1__.Account.getModelJsonByModelName(thinqModelName,deviceType);return modelJson;});const countryCode=libs__WEBPACK_IMPORTED_MODULE_1__.Environment.getCountryCode().toUpperCase();const[diaryData,setDiaryData]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.manualDiaryDataAtom);const editFlag=JSON.parse(isEdit);const selectedId=-1;const PROFILE_NAME_MAXLENGTH=(modelJson===null||modelJson===void 0?void 0:(_modelJson$data=modelJson.data)===null||_modelJson$data===void 0?void 0:(_modelJson$data$Confi=_modelJson$data.Config)===null||_modelJson$data$Confi===void 0?void 0:(_modelJson$data$Confi2=_modelJson$data$Confi.nextGenInfo)===null||_modelJson$data$Confi2===void 0?void 0:(_modelJson$data$Confi3=_modelJson$data$Confi2.thinqDiary)===null||_modelJson$data$Confi3===void 0?void 0:_modelJson$data$Confi3.profileLength)||16;const MEMO_MAXLENGTH=(modelJson===null||modelJson===void 0?void 0:(_modelJson$data2=modelJson.data)===null||_modelJson$data2===void 0?void 0:(_modelJson$data2$Conf=_modelJson$data2.Config)===null||_modelJson$data2$Conf===void 0?void 0:(_modelJson$data2$Conf2=_modelJson$data2$Conf.nextGenInfo)===null||_modelJson$data2$Conf2===void 0?void 0:(_modelJson$data2$Conf3=_modelJson$data2$Conf2.thinqDiary)===null||_modelJson$data2$Conf3===void 0?void 0:_modelJson$data2$Conf3.memoLength)||20;const textFieldNameRef=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);const textFieldMemoRef=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);const[nameValidTextError,setNameValidTextError]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[memoValidTextError,setMemoValidTextError]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[profileThemeData,setProfileThemeData]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const[selectedProfileIndex,setSelectedProfileIndex]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((diaryData===null||diaryData===void 0?void 0:diaryData.themeId)-1);const[profileThemeFontColor,setProfileThemeFontColor]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const[profileImg,setProfileImg]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const[memoData,setMemoData]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(diaryData.memo);const[profileName,setProfileName]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(diaryData.profileName);const[isWeekPickerVisible,setWeekPickerVisibility]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isMonthPickerVisible,setMonthPickerVisibility]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isDatePickerVisible,setDatePickerVisibility]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const diaryListAtom=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilValue)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.diaryListAtom);const[selectedDate,setSelectDate]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((_moment=libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default()(diaryData===null||diaryData===void 0?void 0:(_diaryData$repeat=diaryData.repeat)===null||_diaryData$repeat===void 0?void 0:_diaryData$repeat.selectedDate))!==null&&_moment!==void 0?_moment:libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default()());const[selectedDateChange,setSelectDateChange]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default()());const setSelectionDate=v=>{setSelectDateChange(v);};const[isShowDeletePopup,setShowDeletePopup]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[selectedPicker,setSelectedPicker]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const togglePicker=id=>{setSelectedPicker(id);setPrevCheckedRepeatValue(checkRepeatValue);if(id==="everyWeek"){toggleWeekPicker();}else if(id==="monthly"){toggleMonthPicker();}else if(id==="yearly"){toggleDatePicker();}};const changeCheck=e=>{setCheckRepeatValue(e.target.id);};const confirmButton=()=>{setDiaryDataAtom();goBack();// if (editFlag) {
//     editDiary();
// } else {
//     addDiary();
// }
};const goBack=()=>{libs__WEBPACK_IMPORTED_MODULE_1__.State.back(-1);};const[checkRepeatValue,setCheckRepeatValue]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((_diaryData$repeat$che=diaryData.repeat.checkRepeatValue)!==null&&_diaryData$repeat$che!==void 0?_diaryData$repeat$che:"everyDay");const[prevCheckedRepeatValue,setPrevCheckedRepeatValue]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((_diaryData$repeat$che2=diaryData.repeat.checkRepeatValue)!==null&&_diaryData$repeat$che2!==void 0?_diaryData$repeat$che2:"everyDay");const setDiaryDataAtom=()=>{setDiaryData({...diaryData,themeId:selectedProfileIndex+1,profileName:profileName,memo:memoData,value:memoData,repeat:{checkRepeatValue:checkRepeatValue,repeatWeekDays:repeatWeekDays,selectedDate:libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default()(selectedDate),value:value}});};// 천지인 아래아 ᆞᆢㆍᆢ 만 독립적으로 있는 경우
const isAraeAError=value=>{const exceptionCase=`ᆞᆢㆍᆢ`;for(let i=0;i<value.length;i++){if(exceptionCase.includes(value[i])){return true;}}return false;};const isDisabledAdd=()=>{const nameText=typeof profileName!=="undefined"?profileName.trim():"";const memoText=typeof memoData!=="undefined"?memoData.trim():"";const flag=nameValidTextError||memoValidTextError?true:!((nameText===null||nameText===void 0?void 0:nameText.length)>0&&(profileName===null||profileName===void 0?void 0:profileName.length)<=PROFILE_NAME_MAXLENGTH&&(memoText===null||memoText===void 0?void 0:memoText.length)>0&&(memoData===null||memoData===void 0?void 0:memoData.length)<=MEMO_MAXLENGTH)||isAraeAError(nameText)||isAraeAError(memoText);return flag;};const toggleWeekPicker=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(()=>{setWeekPickerVisibility(preState=>!preState);},[]);const toggleMonthPicker=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(()=>{setMonthPickerVisibility(preState=>!preState);},[]);const toggleDatePicker=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(()=>{setDatePickerVisibility(preState=>!preState);},[]);let weekdaysData=libs__WEBPACK_IMPORTED_MODULE_1__.CalendarUtils.makeRepeatButtonData();const[weekDayArray,setWeekDayArray]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const[weekDayArrayChange,setWeekDayArrayChange]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((_diaryData$repeat$wee=diaryData.repeat.weekDayArray)!==null&&_diaryData$repeat$wee!==void 0?_diaryData$repeat$wee:[]);const[repeatWeekDays,setRepeatWeekDays]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const[weekDaysDescription,setWeekDaysDescription]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const[weekDaysDescriptionChange,setWeekDaysDescriptionChange]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const[repeatList,setMakeRepeatList]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const[value,setMonthValue]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((_diaryData$repeat$val=diaryData.repeat.value)!==null&&_diaryData$repeat$val!==void 0?_diaryData$repeat$val:{monthDay:1});const[valueChange,setMonthValueChange]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({monthDay:1});const monthCallback=(e,v)=>{setMonthValueChange({...value,[v.name]:v.value});};const makeWeekDataList=checkedList=>{const checkedDays=[];checkedList.forEach(data=>{checkedDays.push(String(data));});if(checkedDays.length===0){(0,libs__WEBPACK_IMPORTED_MODULE_1__.toast)(t("@RE_UX35_NG_THINQ_DIARY_SELECT_ONE_MORE_DAYS_S"));}let weekDays=[];let checkedDaysLabels="";let checkedDaysIndexs="";weekdaysData.forEach((element,i)=>{weekDays.push({...element,checked:checkedDays.includes(String(i))});if(checkedDays.includes(String(i))){checkedDaysLabels=checkedDaysLabels+(checkedDaysLabels?", ":"")+element.label;checkedDaysIndexs=checkedDaysIndexs+(checkedDaysIndexs?", ":"")+i;}});setRepeatWeekDays(checkedDaysIndexs);if(checkedDays){if(checkedDays.length===7){checkedDaysLabels=t("@RE_UX35_NG_THINQ_DIARY_EVERY_DAY_W");}else if(checkedDays.includes(String(0))&&checkedDays.includes(String(6))&&!checkedDays.includes(String(1))&&!checkedDays.includes(String(2))&&!checkedDays.includes(String(3))&&!checkedDays.includes(String(4))&&!checkedDays.includes(String(5))){checkedDaysLabels=t("@RE_UX35_NG_THINQ_DIARY_WEEKEND_W");}else if(!checkedDays.includes(String(0))&&!checkedDays.includes(String(6))&&checkedDays.includes(String(1))&&checkedDays.includes(String(2))&&checkedDays.includes(String(3))&&checkedDays.includes(String(4))&&checkedDays.includes(String(5))){checkedDaysLabels=t("@RE_UX35_NG_THINQ_DIARY_WEEKDAY_W");}}setWeekDaysDescriptionChange(checkedDaysLabels);return weekDays;};const weekCallBack=checkedIndices=>{setWeekDayArrayChange(makeWeekDataList(checkedIndices));};const makeWeekPicker=()=>{const isDisabled=_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_12__["default"].isSameWeek(weekDayArray,weekDayArrayChange);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheet,{isFixed:true,isShow:isWeekPickerVisible,openOnBackdrop:()=>{toggleWeekPicker();setWeekDayArrayChange(weekDayArray);setWeekDaysDescriptionChange(weekDaysDescription);setCheckRepeatValue(prevCheckedRepeatValue);},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetBody,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Card,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:[" ",t("@RE_UX35_NG_THINQ_DIARY_SET_DAYS_W")]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{color:theme.colorSet.main_variant2,children:weekDaysDescriptionChange})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{hPadding:0,vPadding:16,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.RepeatButton,{data:weekDayArray,callback:weekCallBack,style:{justifyContent:"space-between"}})})]})]})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetFooter,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{align:"stretch",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{type:"tertiary_a",onClick:()=>{toggleWeekPicker();setCheckRepeatValue(prevCheckedRepeatValue);setWeekDayArrayChange(weekDayArray);setWeekDaysDescriptionChange(weekDaysDescription);},children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{disabled:isDisabled,type:"primary",onClick:()=>{toggleWeekPicker();setWeekDayArray(weekDayArrayChange);setWeekDaysDescription(weekDaysDescriptionChange);setCheckRepeatValue(selectedPicker);},children:t("@CP_CONFIRM_W")})]})})]});};const makeMonthPickerList=()=>{const lastDays=31;let res=[];for(let i=1;i<=lastDays;i++){res.push(i);}return res;};const makeMonthPicker=()=>{const isSameMonth=(value===null||value===void 0?void 0:value.monthDay)===(valueChange===null||valueChange===void 0?void 0:valueChange.monthDay);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(wrm_GRM_component_common_GxmBottomSheet__WEBPACK_IMPORTED_MODULE_7__.GxmBottomSheet,{isFixed:true,isShow:isMonthPickerVisible,openOnBackdrop:()=>{setCheckRepeatValue(prevCheckedRepeatValue);toggleMonthPicker();},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetHeader,{children:t("@RE_UX35_NG_THINQ_DIARY_SET_REPEAT_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetBody,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{vPadding:12,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{style:{textAlign:"center"},children:t("@RE_UX35_NG_THINQ_DIARY_EVERY_DAY_OF_MONTH_W",{$0:t(valueChange.monthDay)})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Card,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Picker,{callback:monthCallback,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.PickerValues,{name:"monthDay",value:value.monthDay,isLoop:true,children:makeMonthPickerList().map(data=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.PickerValue,{value:data,children:data});})})})})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetFooter,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{align:"stretch",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{type:"tertiary_a",onClick:()=>{toggleMonthPicker();setCheckRepeatValue(prevCheckedRepeatValue);},children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{disabled:isSameMonth,type:"primary",onClick:()=>{setMonthValue({...valueChange});toggleMonthPicker();setCheckRepeatValue(selectedPicker);},children:t("@CP_CONFIRM_W")})]})})]});};const unselectablePeriod=[{to:`${libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default()().subtract(1,"year").format("YYYY")}1231`},{from:`${libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default()().add(1,"year").format("YYYY")}0101`}];const makeDatePicker=()=>{const isSameDate=(selectedDate===null||selectedDate===void 0?void 0:selectedDate.format("YYYYMMDD"))===(selectedDateChange===null||selectedDateChange===void 0?void 0:selectedDateChange.format("YYYYMMDD"));return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(wrm_GRM_component_common_GxmBottomSheet__WEBPACK_IMPORTED_MODULE_7__.GxmBottomSheet,{isFixed:true,isShow:isDatePickerVisible,openOnBackdrop:()=>{setSelectDateChange(selectedDate);setCheckRepeatValue(prevCheckedRepeatValue);toggleDatePicker();},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetHeader,{children:`${selectedDateChange.format("YYYY. MM. DD")}`}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetBody,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DatePicker,{unselectablePeriod:unselectablePeriod,preselectedDate:libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default()(libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default()(),"YYYYMMDD"),selectedDate:selectedDateChange,callback:setSelectionDate})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetFooter,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{align:"stretch",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{tuxId:`${wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.ELEMENT_ID.CANEL_BTN}`,type:"tertiary_a",onClick:()=>{toggleDatePicker();setSelectDateChange(selectedDate);setCheckRepeatValue(prevCheckedRepeatValue);},children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{disabled:isSameDate,tuxId:`${wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.ELEMENT_ID.CONFIRM_BTN}`,type:"primary",onClick:()=>{setSelectDate(selectedDateChange);toggleDatePicker();setCheckRepeatValue(selectedPicker);},children:t("@CP_CONFIRM_W")})]})})]});};// const addRepeatData = () => {
//     let repeatData = "";
//     if (checkRepeatValue === "everyDay") {
//         repeatData = "DEFAULT";
//     } else if (checkRepeatValue === "everyWeek") {
//         repeatData = repeatWeekDays;
//     } else if (checkRepeatValue === "monthly") {
//         repeatData = value.monthDay;
//     } else if (checkRepeatValue === "yearly") {
//         repeatData = selectedDate.format("MMDD");
//     }
//     return repeatData;
// };
const makeRepeatList=()=>{let repeatMonthly=t("@RE_UX35_NG_THINQ_DIARY_REPEAT_MONTHLY_W",{$0:value.monthDay});let mm=countryCode==="KR"?selectedDate.format("MM"):selectedDate.format("MMM.");let dd=selectedDate.format("DD");let repeatYearly=t("@RE_UX35_NG_THINQ_DIARY_REPEAT_YEARLY_W",{$0:mm,$1:dd});let res=[{id:"everyDay",title:t("@RE_UX35_NG_THINQ_DIARY_EVERY_DAY_W"),subTitle:"",checked:false},{id:"everyWeek",title:t("@RE_UX35_NG_THINQ_DIARY_EVERY_WEEK_W"),subTitle:weekDaysDescription,checked:false},{id:"monthly",title:t("@RE_UX35_NG_THINQ_DIARY_MONTHLY_W"),subTitle:repeatMonthly,checked:false},{id:"yearly",title:t("@RE_UX35_NG_THINQ_DIARY_YEARLY_W"),subTitle:repeatYearly,checked:false}];setMakeRepeatList(res);};const makeProfileThumbnail=()=>{return profileThemeData.map((item,index)=>{return{id:item.themeId,thumbnail:item.imgsrc,favorite:false,checked:index===1?true:false,label:`thumb_label_${index}`};});};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{if((modelJson===null||modelJson===void 0?void 0:modelJson.status)==="DONE"){var _modelJson$data3,_modelJson$data3$Conf,_modelJson$data3$Conf2,_modelJson$data3$Conf3,_diaryData$repeat2,_diaryData$repeat2$re,_diaryData$repeat3,_diaryData$repeat4;setProfileThemeData(modelJson===null||modelJson===void 0?void 0:(_modelJson$data3=modelJson.data)===null||_modelJson$data3===void 0?void 0:(_modelJson$data3$Conf=_modelJson$data3.Config)===null||_modelJson$data3$Conf===void 0?void 0:(_modelJson$data3$Conf2=_modelJson$data3$Conf.nextGenInfo)===null||_modelJson$data3$Conf2===void 0?void 0:(_modelJson$data3$Conf3=_modelJson$data3$Conf2.thinqDiary)===null||_modelJson$data3$Conf3===void 0?void 0:_modelJson$data3$Conf3.themeList.filter(item=>!isNaN(item.themeId)&&item.themeId!=="0"&&item.themeId!=="255"));// make week
let initWeekList=diaryData===null||diaryData===void 0?void 0:(_diaryData$repeat2=diaryData.repeat)===null||_diaryData$repeat2===void 0?void 0:(_diaryData$repeat2$re=_diaryData$repeat2.repeatWeekDays)===null||_diaryData$repeat2$re===void 0?void 0:_diaryData$repeat2$re.split(", ").map(Number);const checkedDays=[];const now=new Date();checkedDays[0]=now.getDay();setWeekDayArray(makeWeekDataList(initWeekList!==null&&initWeekList!==void 0?initWeekList:checkedDays));setWeekDayArrayChange(makeWeekDataList(initWeekList!==null&&initWeekList!==void 0?initWeekList:checkedDays));setWeekDaysDescription(weekDaysDescriptionChange);// make month
let initMonthValue=diaryData===null||diaryData===void 0?void 0:(_diaryData$repeat3=diaryData.repeat)===null||_diaryData$repeat3===void 0?void 0:_diaryData$repeat3.value;setMonthValue(initMonthValue!==null&&initMonthValue!==void 0?initMonthValue:{monthDay:now.getDate()});// make year
let initYearDate=libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default()(diaryData===null||diaryData===void 0?void 0:(_diaryData$repeat4=diaryData.repeat)===null||_diaryData$repeat4===void 0?void 0:_diaryData$repeat4.selectedDate);setSelectDate(initYearDate!==null&&initYearDate!==void 0?initYearDate:libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default()());}},[modelJson]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{if(editFlag){diaryListAtom===null||diaryListAtom===void 0?void 0:diaryListAtom.map(item=>{if(selectedId===item.memoId){setCheckRepeatValue(item.repeatType);if(item.repeatType==="everyWeek"){const checkedList=item.repeatData.split(", ");const checkedDays=[];checkedList.forEach(data=>{checkedDays.push(String(data));});setWeekDayArray(makeWeekDataList(checkedDays));}else if(item.repeatType==="monthly"){const day=_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_12__["default"].setDayofMonth(item.repeatData);setMonthValue({monthDay:parseInt(day)});}else if(item.repeatType==="yearly"){const now=new Date();let yearStr=now.getFullYear()+item.repeatData;setSelectDate(libs_util_moment__WEBPACK_IMPORTED_MODULE_2___default()(yearStr));}setProfileName(item.profileName);setMemoData(item.memo);}});}},[diaryListAtom]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{if(editFlag){diaryListAtom===null||diaryListAtom===void 0?void 0:diaryListAtom.map(item=>{if(selectedId===item.memoId){var _profileThemeData$the,_profileThemeData$the2;let themeId=parseInt(item.themeId);setSelectedProfileIndex(themeId);setProfileImg((_profileThemeData$the=profileThemeData[themeId])===null||_profileThemeData$the===void 0?void 0:_profileThemeData$the.imgsrc);setProfileThemeFontColor((_profileThemeData$the2=profileThemeData[themeId])===null||_profileThemeData$the2===void 0?void 0:_profileThemeData$the2.fontColor);}});}else{var _profileThemeData$fin;setSelectedProfileIndex((diaryData===null||diaryData===void 0?void 0:diaryData.themeId)-1);setProfileImg((_profileThemeData$fin=profileThemeData.find(item=>{var _diaryData$themeId;return item.themeId===(diaryData===null||diaryData===void 0?void 0:(_diaryData$themeId=diaryData.themeId)===null||_diaryData$themeId===void 0?void 0:_diaryData$themeId.toString());}))===null||_profileThemeData$fin===void 0?void 0:_profileThemeData$fin.imgsrc);setProfileThemeFontColor("#ffc2a8");}},[profileThemeData]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _profileThemeData$sel,_profileThemeData$sel2;setProfileImg((_profileThemeData$sel=profileThemeData[selectedProfileIndex])===null||_profileThemeData$sel===void 0?void 0:_profileThemeData$sel.imgsrc);setProfileThemeFontColor((_profileThemeData$sel2=profileThemeData[selectedProfileIndex])===null||_profileThemeData$sel2===void 0?void 0:_profileThemeData$sel2.fontColor);},[selectedProfileIndex]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{makeRepeatList();},[weekDaysDescription,value,selectedDate]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setWeekDaysDescription(weekDaysDescriptionChange);},[weekDayArray]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.FillSpaceDiv,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialog,{style:{paddingTop:44,paddingBottom:80},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogTitle,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{title:editFlag?t("@RE_UX35_NG_THINQ_DIARY_EDIT_MEMO_W"):t("@RE_UX35_NG_THINQ_DIARY_ADD_MEMO_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogContents,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(MemoBox,{style:{backgroundColor:theme.colorSet.scrim},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{src:profileImg,width:60,height:60}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{marginTop:"6px",marginBottom:"8px",height:"14px"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{maxLine:1,style:{textOverflow:"ellipsis"},textCode:"Type_A07",color:profileThemeFontColor,children:profileName})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{height:"50px"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A12",color:profileThemeFontColor,placeholder:t("@RE_UX35_NG_THINQ_DIARY_INPUT_MEMO_S"),align:"center",maxLine:1,style:{textOverflow:"ellipsis",lineHeight:"25px",opacity:memoData.length===0?"0.5":"1"},children:memoData.length===0?t("@RE_UX35_NG_THINQ_DIARY_INPUT_MEMO_S"):memoData})})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{paddingTop:9,paddingBottom:8,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SubtitleText,{children:t("@RE_UX35_NG_THINQ_DIARY_PROFILE_ICON_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListDescription,{children:t("@RE_UX35_NG_THINQ_DIARY_PROFILE_GUIDE_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(wrm_GRM_component_GRM_ProfileListComponent__WEBPACK_IMPORTED_MODULE_6__["default"],{isSelected:true,selectedProfile:selectedProfileIndex,setSelectedProfile:setSelectedProfileIndex,thumbnails:makeProfileThumbnail()})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingL,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{paddingTop:9,paddingBottom:8,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{"aria-label":t("@RE_UX35_NG_THINQ_DIARY_PROFILE_NAME_W")+" "+t("@CP_UX30_ACCESS_REQUIRED_INPUT_FIELD"),role:"text",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SubtitleText,{"aria-hidden":true,children:t("@RE_UX35_NG_THINQ_DIARY_PROFILE_NAME_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{"aria-hidden":true,color:theme.colorSet.error,style:{paddingLeft:"2px",paddingRight:"2px"},children:"*"})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(wrm_GRM_component_GRM_InputMemoBoxListItemComponent__WEBPACK_IMPORTED_MODULE_5__["default"],{text:profileName,placeholder:t("@RE_UX35_NG_THINQ_DIARY_INPUT_NAME_S"),warning:"@RE_UX30_MAX_TEXT_WARNING_S",maxLength:PROFILE_NAME_MAXLENGTH,callback:name=>setProfileName(name),innerRef:textFieldNameRef,isFocus:false,searchClose:true,setValidTextError:setNameValidTextError})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{paddingTop:9,paddingBottom:8,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{"aria-label":t("@RE_UX35_NG_THINQ_DIARY_MEMO_W")+" "+t("@CP_UX30_ACCESS_REQUIRED_INPUT_FIELD"),role:"text",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SubtitleText,{"aria-hidden":true,children:t("@RE_UX35_NG_THINQ_DIARY_MEMO_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{"aria-hidden":true,color:theme.colorSet.error,style:{paddingLeft:"2px",paddingRight:"2px"},children:"*"})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(wrm_GRM_component_GRM_InputMemoBoxListItemComponent__WEBPACK_IMPORTED_MODULE_5__["default"],{text:memoData,placeholder:t("@RE_UX35_NG_THINQ_DIARY_INPUT_MEMO_S"),warning:"@RE_UX30_MAX_TEXT_WARNING_S",maxLength:MEMO_MAXLENGTH,callback:memo=>setMemoData(memo),innerRef:textFieldMemoRef,isFocus:false,searchClose:true,setValidTextError:setMemoValidTextError})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SubtitleText,{children:t("@RE_UX35_NG_THINQ_DIARY_REPEAT_W")})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_8__["default"],{children:[repeatList===null||repeatList===void 0?void 0:repeatList.map((item,index)=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:repeatList[index].id,secondaryAction:index!==0&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{id:repeatList[index].id,icon:"chevron_right",onClick:()=>{togglePicker(repeatList[index].id);}}),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Radio,{id:repeatList[index].id,tuxId:`${wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.ELEMENT_ID.RADIO_BTN}${repeatList[index].id}`,onChange:changeCheck,checked:checkRepeatValue===repeatList[index].id,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:item.title}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{color:theme.colorSet.main_variant2,children:item.subTitle})]})})},repeatList[index].id);}),isWeekPickerVisible&&makeWeekPicker(),isMonthPickerVisible&&makeMonthPicker(),isDatePickerVisible&&makeDatePicker()]}),editFlag?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListSubTitle,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.List,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{onClick:()=>setShowDeletePopup(prev=>!prev),navNext:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{color:theme.colorSet.error,children:t("@RE_UX35_NG_THINQ_DIARY_DELETE_MEMO_W")})})})},"delete_memo")})]}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{})]})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"bottom",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{align:"stretch",divider:true,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{tuxId:`${wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.ELEMENT_ID.CANEL_BTN}`,type:"tertiary_a",onClick:goBack,children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{type:"primary",tuxId:`${wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.ELEMENT_ID.ADD_BTN}`,onClick:confirmButton,disabled:isDisabledAdd(),children:editFlag?t("@CP_SAVE_W"):t("@CP_LABEL_MODE_ADD")})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowDeletePopup,onOverlayClick:()=>{setShowDeletePopup(false);},btns:[{event:()=>setShowDeletePopup(false),label:t("@RE_UX35_NG_THINQ_DIARY_DELETE_NO_W")},{event:()=>()=>{},label:t("@RE_UX35_NG_THINQ_DIARY_DELETE_YES_W")}],children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX35_NG_THINQ_DIARY_CHECK_SELECTED_DELETE_MEMO_S")})})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_SVY01_ThinQDiaryAddMemo);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRM/GRM_SVY01_Result/UserSurveyResultScreen.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_screen_GRM_GRM_SVY01_Result_MVBResultContainer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/screen/GRM/GRM_SVY01_Result/MVBResultContainer.js");
/* harmony import */ var wrm_GRM_screen_GRM_GRM_SVY01_Result_Type2ResultContainer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/screen/GRM/GRM_SVY01_Result/Type2ResultContainer.js");
/* harmony import */ var _component_common_PopupLayout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/component/common/PopupLayout.js");
/* harmony import */ var _lib_GRM_subscriptionApplianceUtils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/GRM/subscriptionApplianceUtils.js");
/* harmony import */ var _lib_GRM_tasService__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/GRM/tasService.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_hooks_useAsync__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/lib/hooks/useAsync.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__);
function UserSurveyResultScreen(){let{thinqModelName,deviceType,isSurveyComplete,fromGCM,fromManualUserSetting,params,userSettingParam,closePopupResult,firstEntry,from}=(0,libs__WEBPACK_IMPORTED_MODULE_0__.useParams)();fromGCM=fromGCM==="true"||fromGCM===true||false;const[prevProductId,setProductId]=(0,recoil__WEBPACK_IMPORTED_MODULE_2__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_5__.screenHelper.prevSettingProductIdAtom);const[isFromSurveyCard,setIsFromSurveyCard]=(0,recoil__WEBPACK_IMPORTED_MODULE_2__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_5__.screenHelper.isFromSurveyCardAtom);// 제품에 배송중(설치전)이면 onBoading, 배송완료(설치후)이면 NonBoading
const isProductRegistered=prevProductId!==""&&prevProductId!==undefined&&prevProductId.length>0;const state=(0,_lib_hooks_useAsync__WEBPACK_IMPORTED_MODULE_13__.useLoading)(async()=>{const userInfo=await libs__WEBPACK_IMPORTED_MODULE_0__.pluginService.nativedata.getUserInfo();const userName=JSON.parse(userInfo.data).displayUserName;const modelJson=await libs__WEBPACK_IMPORTED_MODULE_0__.Account.getModelJsonByModelName(thinqModelName,deviceType);const surveyResult=await libs__WEBPACK_IMPORTED_MODULE_0__.Api.application.getSurveyResult("PI",thinqModelName,isProductRegistered?prevProductId:undefined);// 제품등록 하든 안하든, SS통해서 조회가 되긴한데..
// TAS에 저장만하고, 읽는건 SS통해서 읽으면 되는 듯함
const tasData=await _lib_GRM_tasService__WEBPACK_IMPORTED_MODULE_11__.tasService.readConfiguration(thinqModelName);return{userName,modelJson,surveyResult,tasData};});const makeCarpet=productId=>{//설치 완료 후 조건부 carpet 적용
const product=libs__WEBPACK_IMPORTED_MODULE_0__.Account.getProductById(productId);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_12__.useCarpetGRP)(product,`GRM_SVY01_Result`,false,false);const[carpetModel]=carpet.getModel();return{product:product,carpet:carpet,carpetModel:carpetModel};};let{product,carpet,carpetModel}=isProductRegistered?makeCarpet(prevProductId):{product:"",carpet:{},carpetModel:{}};// Event Handlers
(0,libs__WEBPACK_IMPORTED_MODULE_0__.onBackButton)(()=>{if((prevProductId===null||prevProductId===void 0?void 0:prevProductId.length)>0){// State.back(-1);
// State.go("GRM_WEL01_NonOnboarding", params);
if(_lib_GRM_subscriptionApplianceUtils__WEBPACK_IMPORTED_MODULE_10__.subscriptionApplianceUtils.isFirstSubscriptionApplianceVisit(prevProductId)){libs__WEBPACK_IMPORTED_MODULE_0__.State.replace("GRM_WEL01_NonOnboarding",{productId:prevProductId,toMain:false});}else{libs__WEBPACK_IMPORTED_MODULE_0__.State.replace("GRM_CEN01_Main",{productId:prevProductId,toMain:"true",targetTab:"1"});}return;}libs__WEBPACK_IMPORTED_MODULE_0__.State.goNative();return false;});let newProps={thinqModelName:thinqModelName,deviceType:deviceType,isSurveyComplete:isSurveyComplete==="true",fromGCM:fromGCM,fromManualUserSetting:fromManualUserSetting==="true",params:params,userSettingParam:userSettingParam,state:state,prevProductId:prevProductId,setProductId:setProductId,isProductRegistered:isProductRegistered,product:product,carpet:carpet,carpetModel:carpetModel,closePopupResult:closePopupResult,firstEntry:firstEntry,from:from};const containerSelector=()=>{var _state$data,_state$data$modelJson,_state$data$modelJson2,_state$data$modelJson3,_state$data$modelJson4;let res=[];const isTypeMVB=typeof(state===null||state===void 0?void 0:(_state$data=state.data)===null||_state$data===void 0?void 0:(_state$data$modelJson=_state$data.modelJson)===null||_state$data$modelJson===void 0?void 0:(_state$data$modelJson2=_state$data$modelJson.Config)===null||_state$data$modelJson2===void 0?void 0:(_state$data$modelJson3=_state$data$modelJson2.nextGenInfo)===null||_state$data$modelJson3===void 0?void 0:(_state$data$modelJson4=_state$data$modelJson3.prevSetting)===null||_state$data$modelJson4===void 0?void 0:_state$data$modelJson4.contentList)==="undefined";if(isTypeMVB){res.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(wrm_GRM_screen_GRM_GRM_SVY01_Result_MVBResultContainer__WEBPACK_IMPORTED_MODULE_7__["default"],{...newProps}));}else{res.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(wrm_GRM_screen_GRM_GRM_SVY01_Result_Type2ResultContainer__WEBPACK_IMPORTED_MODULE_8__["default"],{...newProps}));}return res;};const neverAgain=async()=>{if(isProductRegistered){var _product$data;let doNotShowWelcome=(await libs__WEBPACK_IMPORTED_MODULE_0__.Environment.getFeature("doNotShowWelcome"))||{};doNotShowWelcome[product===null||product===void 0?void 0:(_product$data=product.data)===null||_product$data===void 0?void 0:_product$data.deviceId]=true;libs__WEBPACK_IMPORTED_MODULE_0__.Environment.setFeature("doNotShowWelcome",doNotShowWelcome);_lib_GRM_subscriptionApplianceUtils__WEBPACK_IMPORTED_MODULE_10__.subscriptionApplianceUtils.markSubscriptionApplianceVisited(prevProductId);// ios 스와이프 back 시 맞춤 설정으로 이동하는 현상 fixed
libs__WEBPACK_IMPORTED_MODULE_0__.State.back("GRM_CEN01_Main",{productId:prevProductId,params:JSON.stringify({productId:prevProductId}),toMain:"true"});// State.replace("GRM_CEN01_Main", {
//     productId: prevProductId,
//     toMain: "true",
// });
}else{libs__WEBPACK_IMPORTED_MODULE_0__.State.back(-1);// State.goNative();
}};const onCloseBtn=async()=>{if(params){const obj=JSON.parse(params);if(obj.fromSurveyCard){libs__WEBPACK_IMPORTED_MODULE_0__.State.back(-1);return;}}else if(typeof params==="undefined"){if(isFromSurveyCard){setIsFromSurveyCard(false);libs__WEBPACK_IMPORTED_MODULE_0__.State.back(-1);return;}}if(typeof(libs__WEBPACK_IMPORTED_MODULE_0__.utilityCommonService===null||libs__WEBPACK_IMPORTED_MODULE_0__.utilityCommonService===void 0?void 0:libs__WEBPACK_IMPORTED_MODULE_0__.utilityCommonService.showSurveyCloseDialog)!=="function"){return;}libs__WEBPACK_IMPORTED_MODULE_0__.utilityCommonService.showSurveyCloseDialog({from:from,// 받은 값 그대로 전달
firstEntry:firstEntry,// 받은 값 그대로 전달
thinqModelName:thinqModelName,// 받은 값 그대로 전달
closePopup:true// 팝업 발생 여부
},()=>{// TODO: 나중에 하기 선택
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_3__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_6__.mixpanelConstant.refrigeratorMixpanel_365,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_3__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_6__.mixpanelConstant.refrigeratorMixpanel_365));if(isProductRegistered){libs__WEBPACK_IMPORTED_MODULE_0__.State.replace("GRM_CEN01_Main",{productId:prevProductId,toMain:"true"});}else{libs__WEBPACK_IMPORTED_MODULE_0__.State.back(-1);// State.goNative();
}},()=>{// TODO: 다시 하지 않기 선택
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_3__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_6__.mixpanelConstant.refrigeratorMixpanel_366,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_3__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_6__.mixpanelConstant.refrigeratorMixpanel_366));neverAgain();},()=>{// TODO: 취소 선택
});};if(state.status===_lib_hooks_useAsync__WEBPACK_IMPORTED_MODULE_13__.USE_ASYNC_STATUS.DONE){return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_component_common_PopupLayout__WEBPACK_IMPORTED_MODULE_9__["default"],{tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_4__.constant.ELEMENT_ID.CLOSE_BTN+"UserSurveyResult",onClose:()=>{onCloseBtn();},children:containerSelector()});}else{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{});}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserSurveyResultScreen);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM01_Color/artistInfo.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/common/ncmConstant.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);
const GRP_NCM01_Color_ArtistInfo=()=>{// Get product by product ID
const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const{productId,artistId}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_4__.useCarpetGRP)(product,`GRP_NCM01_Color_ArtistInfo`,false,false);// eslint-disable-next-line
const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const artistInfo=_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_5__.ncmConstant.ARTIST_INFO[artistId];const goBack=()=>{carpet.back("GRP_NCM01_Color",{productId:productId});};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);carpet.registerOnBackButtonCallback(goBack);return()=>{carpet.unregisterOnBackButtonCallback();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);const onMonitoring=data=>{var _data$refState;console.log("onMonitoring!!!");console.log(data===null||data===void 0?void 0:(_data$refState=data.refState)===null||_data$refState===void 0?void 0:_data$refState.mediaState);};const onMonitoringError=data=>{console.info(data);};//Adjust animation orientation
// eslint-disable-next-line
const[isLandscapeMode,setIsLandScapeMode]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const setOrientation=()=>{if(window.innerWidth>window.innerHeight){setIsLandScapeMode(true);}else{setIsLandScapeMode(false);}};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setOrientation();window.addEventListener("resize",setOrientation);window.addEventListener("orientationchange",setOrientation);return()=>{window.removeEventListener("resize",setOrientation);window.removeEventListener("orientationchange",setOrientation);};},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t("@RE_UX35_NCM_ART_INTRODUCTION_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{justify:"space-between",direction:"column",style:{width:"100%",height:"100%"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A09",weight:"Bold",children:t(artistInfo.name)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingL,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{src:artistInfo.imgsrc,width:"100%",style:{borderRadius:"10px"}}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A12",weight:"Bold",style:{margin:"28px 0"},children:t(artistInfo.title)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A09",children:t(artistInfo.description)})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",style:{margin:"28px 0"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A07",color:theme.colorSet.on_surface_variant,children:t("@RE_UX35_NCM_ART_NOTICE_S")})})]})})]})});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_NCM01_Color_ArtistInfo);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM01_Color/colorTone.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var lodash_es_isEqual__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./node_modules/lodash-es/isEqual.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_component_GRM_ColorModeDoorColor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/component/GRM/ColorModeDoorColor.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRM/ncmUtil.js");
/* harmony import */ var wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRM/uiUtility.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_resource_GRM_index__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/resource/GRM/index.js");
/* harmony import */ var wrm_GRM_screen_GRM_GRM_COL01_Main_ColorModeAtoms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/screen/GRM/GRM_COL01_Main/ColorModeAtoms.js");
/* harmony import */ var _component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/component/GRP/NcmDoorColor.js");
/* harmony import */ var _lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/lib/GRP/badgeController.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/wrm/GRM/lib/common/ncmConstant.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__);
/*  문짝 배치 (각 도어의 번호는 modelJson에 정의됨)
(Shape 1)
---------
| 1 | 2 |
---------
| 3 | 4 |
---------

(Shape 2) 
-----
| 1 |
-----
| 4 |
-----
*/const ContentSubList=(0,styled_components__WEBPACK_IMPORTED_MODULE_21__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({})`
    ${""/* width: 100%; */}
    ${""/* height: calc(100vh - 56px); */}
    ${""/* overflow: scroll; */}
    ${""/* -webkit-overflow-scrolling: touch; */}
`;const DesTitle=(0,styled_components__WEBPACK_IMPORTED_MODULE_21__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Text).attrs({weight:"Bold"})`
    margin-bottom: 8px;
`;const DesContents=(0,styled_components__WEBPACK_IMPORTED_MODULE_21__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Text).attrs({})`
    margin-bottom: 4px;
`;const GRP_NCM01_Color_ColorTone=()=>{var _modelJson$Config$ncm,_modelJson$Config$nex,_modelJson$Config$nex2,_modelJson$ncmInfo,_carpetModel$colorTyp,_product$modelJson$Co,_product$modelJson$Co2,_product$modelJson$Co3,_product$modelJson$Co4,_carpetModel$colorTyp3,_carpetModel$door1Col4,_carpetModel$door2Col2,_carpetModel$door3Col2,_carpetModel$door4Col2,_doorColorList$code,_doorColorList$code$n,_ncmDoors$,_doorColorList$code2,_doorColorList$code2$,_ncmDoors$2,_utilityService$getCu,_utilityService$getCu2,_doorColorList$code3,_doorColorList$code3$,_ncmDoors$3,_doorColorList$code4,_doorColorList$code4$,_ncmDoors$4,_utilityService$getCu3,_utilityService$getCu4;// Get product by product ID
const{productId,upVersion}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const modelJson=product.modelJson;const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_17__.useCarpetGRP)(product,`GRP_NCM01_Color_ColorTone`,false,false);const[carpetModel]=carpet.getModel();const isNextGen=wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_8__["default"].isNextGenModel(product);const refType=((_modelJson$Config$ncm=modelJson.Config.ncmInfo)===null||_modelJson$Config$ncm===void 0?void 0:_modelJson$Config$ncm.refType)||"DEFAULT";const doorShape=(isNextGen?(_modelJson$Config$nex=modelJson.Config.nextGenInfo)===null||_modelJson$Config$nex===void 0?void 0:(_modelJson$Config$nex2=_modelJson$Config$nex.productInfo)===null||_modelJson$Config$nex2===void 0?void 0:_modelJson$Config$nex2.shape:(_modelJson$ncmInfo=modelJson.ncmInfo)===null||_modelJson$ncmInfo===void 0?void 0:_modelJson$ncmInfo.shape)||"shape1";const mediaStateAtom=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilValue)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmMediaStateAtom);const[ncmColorSetTotal,setNcmColorSetTotal]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmColorInfoAtom);const[doorColorList,setDoorColorList]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const[rangeValueBrightness,setRangeValueBrightness]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(undefined);const[rangeValueColorTone,setRangeValueColorTone]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(undefined);const diaryListAtom=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilValue)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.diaryListAtom);const[lcdThumbnail,setLcdThumbnail]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const[selectedThumbIndexBrightness,setSelectedThumbIndexBrightness]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);// 선택된 밝기 knob
const[selectedThumbIndexColorTone,setSelectedThumbIndexColorTone]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);// 선택된 컬러 톤 knob
const[isWorking,setIsWorking]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);// 서버 반영 후 값 동일한지 체크중인 상태
const minusLabel=label=>{const stringLabel=String(label);if(stringLabel.includes("-")){return stringLabel.replace("-",t("@RE_ACCE_MINUS_W"));}return stringLabel;};const getAriaText=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((rangeValue,disabled)=>{const valueToken=upVersion==="V2"?t("@RE_UX50_TERM_LEVEL_N_W",{$0:minusLabel(rangeValue)}):minusLabel(rangeValue);const usageToken=disabled?"":t("@CP_UX30_ACCESS_DOUBLETAP_HOLD_MOVE_ADJUST");return`${t("@CP_UX35_ACCESSIBILITY_SEEK_CONTROL_W")} ${valueToken} ${usageToken}`;},[rangeValueBrightness,rangeValueColorTone,t]);let colorToneBrightnessResetData=doorShape==="shape1"?[{doorIdx:"1",colorStep:"0",brightnessStep:"0"},{doorIdx:"2",colorStep:"0",brightnessStep:"0"},{doorIdx:"3",colorStep:"0",brightnessStep:"0"},{doorIdx:"4",colorStep:"0",brightnessStep:"0"}]:[{doorIdx:"1",colorStep:"0",brightnessStep:"0"},{doorIdx:"3",colorStep:"0",brightnessStep:"0"}];const[colorToneBrightnessData,setColorToneBrightnessData]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([...colorToneBrightnessResetData]);const[colorToneBrightnessDataBackUp,setColorToneBrightnessDataBackUp]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([...colorToneBrightnessResetData]);const[isBrightnessResetBtnDim,setIsBrightnessResetBtnDim]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isColorToneResetBtnDim,setIsColorToneResetBtnDim]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const isThemeMode=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp=carpetModel.colorType)===null||_carpetModel$colorTyp===void 0?void 0:_carpetModel$colorTyp.value)==="THEME";const backgroundImg=(_product$modelJson$Co=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co===void 0?void 0:_product$modelJson$Co.backgroundImg;const backgroundImgOff=(_product$modelJson$Co2=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co2===void 0?void 0:_product$modelJson$Co2.backgroundImgOff;const ncmInfo=product.modelJson.Config.ncmInfo;const ncmDoors=ncmInfo===null||ncmInfo===void 0?void 0:ncmInfo.doors;const isMoodUp=ncmInfo!==undefined;const doorInfo=(ncmInfo===null||ncmInfo===void 0?void 0:ncmInfo.doors)||((_product$modelJson$Co3=product.modelJson.Config.nextGenInfo)===null||_product$modelJson$Co3===void 0?void 0:(_product$modelJson$Co4=_product$modelJson$Co3.productInfo)===null||_product$modelJson$Co4===void 0?void 0:_product$modelJson$Co4.doors);// 개별Color 적용시 각 도어의 현재 컬러RBD
const currentDoorRGB={tl:ncmColorSetTotal.find(item=>{var _carpetModel$door1Col;return item.id===((_carpetModel$door1Col=carpetModel.door1ColorId)===null||_carpetModel$door1Col===void 0?void 0:_carpetModel$door1Col.value)+"";}),tr:ncmColorSetTotal.find(item=>{var _carpetModel$door2Col;return item.id===((_carpetModel$door2Col=carpetModel.door2ColorId)===null||_carpetModel$door2Col===void 0?void 0:_carpetModel$door2Col.value)+"";}),bl:ncmColorSetTotal.find(item=>{var _carpetModel$door3Col;return item.id===((_carpetModel$door3Col=carpetModel.door3ColorId)===null||_carpetModel$door3Col===void 0?void 0:_carpetModel$door3Col.value)+"";}),br:ncmColorSetTotal.find(item=>{var _carpetModel$door4Col;return item.id===((_carpetModel$door4Col=carpetModel.door4ColorId)===null||_carpetModel$door4Col===void 0?void 0:_carpetModel$door4Col.value)+"";})};// 선택한 문 id : "1", "2", "3", "4"
const[selectedDoorId,setSelectedDoorId]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("3");const onClickDoor=event=>{if(!isNextGen){setSelectedDoorId(event.target.id);//string
}else{setSelectedDoorId("2");}};const goBack=()=>{carpet.back("GRP_NCM01_Main",{productId:productId});};const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const isEnable=()=>{var _carpetModel$ncmMode;return(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_18__.constant.TERM_ON&&!isDisconnected;};const onMonitoring=data=>{var _data$refState;setIsDisconnected(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].isDisconnected(product,data));console.log("onMonitoring!!!");console.log(data===null||data===void 0?void 0:(_data$refState=data.refState)===null||_data$refState===void 0?void 0:_data$refState.mediaState);};const onMonitoringError=data=>{console.info(data);};const init=data=>{console.info(data);// ncmColorInfo
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"ncmColorInfo",undefined,{},true,false).then(res=>{var _res$value,_res$value$myColor,_res$value3,_res$value3$myTheme,_carpetModel$colorTyp2;console.info(res.value);let _ncmColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(res.value.color);let _ncmThemeSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(res.value.theme);let _ncmDefaultColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(res.value.defaultColor);_ncmColorSet=[..._ncmColorSet,..._ncmDefaultColorSet];if((res===null||res===void 0?void 0:(_res$value=res.value)===null||_res$value===void 0?void 0:(_res$value$myColor=_res$value.myColor)===null||_res$value$myColor===void 0?void 0:_res$value$myColor.length)>0){var _res$value2;const _ncmMyColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(res===null||res===void 0?void 0:(_res$value2=res.value)===null||_res$value2===void 0?void 0:_res$value2.myColor);_ncmColorSet=[..._ncmColorSet,..._ncmMyColorSet];}if((res===null||res===void 0?void 0:(_res$value3=res.value)===null||_res$value3===void 0?void 0:(_res$value3$myTheme=_res$value3.myTheme)===null||_res$value3$myTheme===void 0?void 0:_res$value3$myTheme.length)>0){var _res$value4;const _ncmMyThemeSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(res===null||res===void 0?void 0:(_res$value4=res.value)===null||_res$value4===void 0?void 0:_res$value4.myTheme);_ncmThemeSet=[..._ncmThemeSet,..._ncmMyThemeSet];}const newColorList=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(_ncmColorSet).find(item=>{var _carpetModel$door1Col2;return item.id===((_carpetModel$door1Col2=carpetModel.door1ColorId)===null||_carpetModel$door1Col2===void 0?void 0:_carpetModel$door1Col2.value)+"";});const newThemeList=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(_ncmThemeSet).find(item=>{var _carpetModel$door1Col3;return item.id===((_carpetModel$door1Col3=carpetModel.door1ColorId)===null||_carpetModel$door1Col3===void 0?void 0:_carpetModel$door1Col3.value)+"";});setDoorColorList(((_carpetModel$colorTyp2=carpetModel.colorType)===null||_carpetModel$colorTyp2===void 0?void 0:_carpetModel$colorTyp2.value)==="THEME"?newThemeList:newColorList);setNcmColorSetTotal(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(_ncmColorSet));});};const isColorCollectionOn=()=>{var _carpetModel$colorCol;return(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol===void 0?void 0:_carpetModel$colorCol.value)==="ON";};const isNCMColorOn=()=>{var _carpetModel$ncmMode2,_carpetModel$colorCol2,_carpetModel$musicLig;const isNCMOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode2=carpetModel.ncmMode)===null||_carpetModel$ncmMode2===void 0?void 0:_carpetModel$ncmMode2.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_18__.constant.TERM_ON;const isColorCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol2=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol2===void 0?void 0:_carpetModel$colorCol2.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_18__.constant.TERM_ON;// const isMusicCollectionOn = carpetModel?.musicCollectionOnOff?.value === constant.TERM_ON;
const isLGMusicPlay=(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_19__.ncmConstant.MUSIC_STATE.PLAYING;// const isBTMusicPlay = mediaStateAtom?.btState === ncmConstant.MUSIC_STATE.PLAYING;
const isPartyModeOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig=carpetModel.musicLight)===null||_carpetModel$musicLig===void 0?void 0:_carpetModel$musicLig.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_18__.constant.TERM_OFF;if(!isNCMOn){return false;}else if(!isColorCollectionOn&&isLGMusicPlay&&!isPartyModeOn){return false;}else if(!isColorCollectionOn&&!isLGMusicPlay&&!isPartyModeOn){return false;}else if(!isColorCollectionOn&&!isLGMusicPlay&&isPartyModeOn){return false;}else{return true;}};const getBackgroundImg=()=>{return isNCMColorOn()?backgroundImg:backgroundImgOff;};//Adjust animation orientation
const[isLandscapeMode,setIsLandScapeMode]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const setOrientation=()=>{if(window.innerWidth>window.innerHeight){setIsLandScapeMode(true);}else{setIsLandScapeMode(false);}};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setOrientation();window.addEventListener("resize",setOrientation);window.addEventListener("orientationchange",setOrientation);return()=>{window.removeEventListener("resize",setOrientation);window.removeEventListener("orientationchange",setOrientation);};},[]);const doorIdxSort=(a,b)=>{if(a.doorIdx<b.doorIdx){return-1;}else if(a.doorIdx>b.doorIdx){return 1;}else{return 0;}};// ncm 컬러 톤 미세 조절 정보
const getColorToneBrightnessInfo=()=>{wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"ncmColorToneAdInfo",undefined,{},true,false).then(res=>{let newColorToneBrightnessData=[...colorToneBrightnessResetData];for(let i=0;i<newColorToneBrightnessData.length;i++){const current=newColorToneBrightnessData[i];const serverData=res.value.item.find(item=>item.doorIdx+""===current.doorIdx+"");if(!serverData){continue;}newColorToneBrightnessData[i]=serverData;if(serverData.colorStep==="UNDEFINED"){newColorToneBrightnessData[i].colorStep="0";}if(serverData.brightnessStep==="UNDEFINED"||typeof serverData.brightnessStep==="undefined"){newColorToneBrightnessData[i].brightnessStep="0";}}setColorToneBrightnessDataBackUp(newColorToneBrightnessData);}).finally(()=>{setIsWorking(false);});};// 컬러 톤 미세 조절 컨트롤
const setColorToneBrightnessInfo=()=>{let sortData=[...colorToneBrightnessData].sort(doorIdxSort);let stringData=sortData.map(item=>{return{...item,colorStep:item.colorStep.toString(),brightnessStep:item.brightnessStep.toString()};});// 변화 없으면 제어 보내지 않음
if((0,lodash_es_isEqual__WEBPACK_IMPORTED_MODULE_22__["default"])(sortData,colorToneBrightnessDataBackUp)){setIsWorking(false);return;}const param={deviceId:productId,item:stringData};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"ncmColorToneAdSet",undefined,param,true,false).then(res=>{console.log("### colorToneBrightnessInfo res : ",res);setTimeout(()=>{getColorToneBrightnessInfo();},500);});let doorName="";switch(selectedDoorId){case"1":doorName="upper_left";break;case"2":doorName="upper_right";break;case"3":doorName="lower_left";break;case"4":doorName="lower_right";break;}wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_58,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_58,{door_name:doorName}));};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{if((0,lodash_es_isEqual__WEBPACK_IMPORTED_MODULE_22__["default"])(colorToneBrightnessDataBackUp,colorToneBrightnessData)===false){setColorToneBrightnessData(colorToneBrightnessDataBackUp);}},[colorToneBrightnessDataBackUp]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{let isMoodLightTheme=doorColorList===null||doorColorList===void 0?void 0:doorColorList.isMoodLightTheme;if(isMoodUp){if(isMoodLightTheme==="Y"){setLcdThumbnail(doorColorList===null||doorColorList===void 0?void 0:doorColorList.imgsrc);}else{var _carpetModel$coverScr;setLcdThumbnail(wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].getLcdThumbnailImage({selectedCoverScreen:carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$coverScr=carpetModel.coverScreenIdx)===null||_carpetModel$coverScr===void 0?void 0:_carpetModel$coverScr.value,product:product,carpetModel:carpetModel,colorModeThumbnail:wrm_GRM_screen_GRM_GRM_COL01_Main_ColorModeAtoms__WEBPACK_IMPORTED_MODULE_14__.colorModeThumbnail,diaryListAtom:diaryListAtom,coverScreenDiary:wrm_GRM_screen_GRM_GRM_COL01_Main_ColorModeAtoms__WEBPACK_IMPORTED_MODULE_14__.coverScreenDiary,Resources:wrm_GRM_resource_GRM_index__WEBPACK_IMPORTED_MODULE_13__.Resources}));}}},[doorColorList]);// 초기화 버튼 dim처리
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _selectedDoorData$bri,_selectedDoorData$col;const selectedDoorData=colorToneBrightnessData.find(item=>item.doorIdx===selectedDoorId);setIsBrightnessResetBtnDim((selectedDoorData===null||selectedDoorData===void 0?void 0:(_selectedDoorData$bri=selectedDoorData.brightnessStep)===null||_selectedDoorData$bri===void 0?void 0:_selectedDoorData$bri.toString())==="0");setIsColorToneResetBtnDim((selectedDoorData===null||selectedDoorData===void 0?void 0:(_selectedDoorData$col=selectedDoorData.colorStep)===null||_selectedDoorData$col===void 0?void 0:_selectedDoorData$col.toString())==="0");},[colorToneBrightnessData,selectedDoorId]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);carpet.registerOnBackButtonCallback(goBack);getColorToneBrightnessInfo();if(_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_16__["default"].isShowNcmColorToneAdV2NewBadge()){// 컬러 톤 미세조절 페이지 진입하면 배지 끄기
_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_16__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_18__.constant.UPGRADE_CENTER.UPGRADE_NCM_COLOR_TONE_AD_V2_ID);}if(_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_16__["default"].isShowNcmColorToneAdNewBadge()){// 컬러 톤 미세조절 페이지 진입하면 배지 끄기
_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_16__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_18__.constant.UPGRADE_CENTER.UPGRADE_NCM_COLOR_TONE_AD_ID);}return()=>{carpet.unregisterOnBackButtonCallback();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{init();},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp3=carpetModel.colorType)===null||_carpetModel$colorTyp3===void 0?void 0:_carpetModel$colorTyp3.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col4=carpetModel.door1ColorId)===null||_carpetModel$door1Col4===void 0?void 0:_carpetModel$door1Col4.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door2Col2=carpetModel.door2ColorId)===null||_carpetModel$door2Col2===void 0?void 0:_carpetModel$door2Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door3Col2=carpetModel.door3ColorId)===null||_carpetModel$door3Col2===void 0?void 0:_carpetModel$door3Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door4Col2=carpetModel.door4ColorId)===null||_carpetModel$door4Col2===void 0?void 0:_carpetModel$door4Col2.value]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _colorToneBrightnessD,_colorToneBrightnessD2;setColorToneBrightnessInfo();const newRangeValueColorTone=((_colorToneBrightnessD=colorToneBrightnessData.find(item=>item.doorIdx+""===selectedDoorId))===null||_colorToneBrightnessD===void 0?void 0:_colorToneBrightnessD.colorStep)||0;setRangeValueColorTone(newRangeValueColorTone||0);const newRangeValueBrightness=((_colorToneBrightnessD2=colorToneBrightnessData.find(item=>item.doorIdx+""===selectedDoorId))===null||_colorToneBrightnessD2===void 0?void 0:_colorToneBrightnessD2.brightnessStep)||0;setRangeValueBrightness(newRangeValueBrightness||0);},[colorToneBrightnessData,selectedDoorId]);const handleControlChangeBrightness=data=>{if(!isNaN(data.value)){let doorName="";switch(selectedDoorId){case"1":doorName="upper_left";break;case"2":doorName="upper_right";break;case"3":doorName="lower_left";break;case"4":doorName="lower_right";break;}wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_57,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_57,{door_name:doorName,brightness_value:data.value}));}};const handleControlEndBrightness=(data,setColorData)=>{setIsWorking(true);setSelectedThumbIndexBrightness(data.selectedThumbIndex);setColorData(prevData=>prevData.map(item=>{if(item.doorIdx===selectedDoorId){return{...item,brightnessStep:data.value.toString()};}return item;}));console.log("knob end",data);};const resetBrightness=setColorData=>{setIsWorking(true);setRangeValueBrightness("0");setColorData(prevData=>prevData.map(item=>{if(item.doorIdx===selectedDoorId){return{...item,brightnessStep:"0"};}return item;}));};const handleControlChangeColorTone=data=>{if(!isNaN(data.value)){console.log("knob change",data.value);let doorName="";switch(selectedDoorId){case"1":doorName="upper_left";break;case"2":doorName="upper_right";break;case"3":doorName="lower_left";break;case"4":doorName="lower_right";break;}wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_57,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_57,{door_name:doorName,color_tone_value:data.value}));}};const handleControlEndColorTone=(data,setColorData)=>{setIsWorking(true);setSelectedThumbIndexColorTone(data.selectedThumbIndex);setColorData(prevData=>prevData.map(item=>{if(item.doorIdx===selectedDoorId){return{...item,colorStep:data.value.toString()};}return item;}));console.log("knob end",data);};const resetColorTone=setColorData=>{setIsWorking(true);setRangeValueColorTone("0");setColorData(prevData=>prevData.map(item=>{if(item.doorIdx===selectedDoorId){return{...item,colorStep:"0"};}return item;}));};const colorToneCard=()=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:[upVersion==="V2"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A09",weight:"Bold",children:t("@RE_TERM_BRIGHTNESS_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXS,{}),typeof rangeValueBrightness!=="undefined"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Card,{style:{width:"100%"},marginBottom:upVersion==="V2"&&20,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",padding:"20px 20px 16px 20px"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{color:theme.colorSet.main_variant2,textCode:"Type_A07","aria-label":t("@RE_UX50_TERM_LEVEL_N_W",{$0:minusLabel(rangeValueBrightness)}),role:"text",children:t("@RE_UX50_TERM_LEVEL_N_W",{$0:rangeValueBrightness})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{hPadding:8,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.LineSliderEx,{initialValue:Number(rangeValueBrightness),step:1,min:-3,max:3,selectedThumbIdx:selectedThumbIndexBrightness,onControlChange:handleControlChangeBrightness,onControlEnd:data=>{handleControlEndBrightness(data,setColorToneBrightnessData);},thumbLabel:[getAriaText(rangeValueBrightness,!isColorCollectionOn()||!isEnable())],disabled:!isColorCollectionOn()||!isEnable()||isWorking},selectedDoorId)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{justify:"space-between",style:{width:"100%",direction:"ltr"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A05",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX30_NIGHT_GET_DARK_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A05",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX30_NIGHT_GET_BRIGHT_W")})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{justify:"flex-end",style:{padding:"20px"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{type:"tertiary_B",size:"small",onClick:()=>{resetBrightness(setColorToneBrightnessData);},disabled:isBrightnessResetBtnDim||!isColorCollectionOn()||!isEnable()||isWorking,children:t("@CP_UX30_REGI_RESET")})})]})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:[upVersion==="V2"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A09",weight:"Bold",children:t("@RE_TERM_COLOR_TONES_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXS,{})]}),typeof rangeValueColorTone!=="undefined"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Card,{style:{width:"100%"},marginBottom:upVersion==="V2"&&20,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",padding:"20px 20px 16px 20px"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{color:theme.colorSet.main_variant2,textCode:"Type_A07","aria-label":upVersion==="V2"?t("@RE_UX50_TERM_LEVEL_N_W",{$0:minusLabel(rangeValueColorTone)}):minusLabel(rangeValueColorTone),role:"text",children:upVersion==="V2"?t("@RE_UX50_TERM_LEVEL_N_W",{$0:rangeValueColorTone}):rangeValueColorTone})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{hPadding:8,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.LineSliderEx,{initialValue:Number(rangeValueColorTone),step:1,min:-10,max:10,selectedThumbIdx:selectedThumbIndexColorTone,onControlChange:handleControlChangeColorTone,onControlEnd:data=>{handleControlEndColorTone(data,setColorToneBrightnessData);},thumbLabel:[getAriaText(rangeValueColorTone,!isColorCollectionOn()||!isEnable())],disabled:!isColorCollectionOn()||!isEnable()||isWorking},selectedDoorId)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{justify:"space-between",style:{width:"100%",direction:"ltr"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A05",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_ADJUSTING_COOL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A05",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_ADJUSTING_WARM_W")})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{justify:"flex-end",style:{padding:"20px"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{type:"tertiary_B",size:"small",onClick:()=>{resetColorTone(setColorToneBrightnessData);},disabled:isColorToneResetBtnDim||!isColorCollectionOn()||!isEnable()||isWorking,children:upVersion==="V2"?t("@CP_UX30_REGI_RESET"):t("@RE_UX35_ADJUSTING_RESET_W")})})]})]})]});};// 1. 밝기나 컬러 톤을 조절할 도어(문)를 선택해주세요.
const adjustGuide01=upVersion==="V2"?"@RE_UX50_HOW_TO_ADJUST_GUIDE_1_S":"@RE_UX35_HOW_TO_ADJUST_GUIDE_1_S";// 2. 아래의 조절바를 움직여 원하는 밝기나 컬러 톤을 설정해보세요.
const adjustGuide02=upVersion==="V2"?"@RE_UX50_HOW_TO_ADJUST_GUIDE_2_S":"@RE_UX35_HOW_TO_ADJUST_GUIDE_2_S";return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:isLandscapeMode?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t("@RE_UX35_ADJUSTING_COLOR_TONE_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(ContentSubList,{style:{width:"100%",webkitOverflowScrolling:"touch",overflow:"scroll",height:"calc(100vh - 56px)"},disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",overflow:"hidden",flexDirection:"row",alignItems:"flex-start"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column",float:"left",// overflow: "scroll",
height:"calc(100vh - 68px)",justifyContent:"flex-start"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:isNextGen&&isMoodUp?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{justify:"center",style:{width:"100%",height:"262px",marginTop:"8px",marginBottom:"8px",zIndex:"1"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(wrm_GRM_component_GRM_ColorModeDoorColor__WEBPACK_IMPORTED_MODULE_5__["default"],{onClickDoor:onClickDoor,selectedDoorId:selectedDoorId,disabled:false,isOn:true,isSmall:false,currentDoorRGB:"",upperColor:doorColorList===null||doorColorList===void 0?void 0:(_doorColorList$code=doorColorList.code)===null||_doorColorList$code===void 0?void 0:(_doorColorList$code$n=_doorColorList$code[ncmDoors===null||ncmDoors===void 0?void 0:(_ncmDoors$=ncmDoors[0])===null||_ncmDoors$===void 0?void 0:_ncmDoors$.RGBIdx])===null||_doorColorList$code$n===void 0?void 0:_doorColorList$code$n.appColor,lowerColor:doorColorList===null||doorColorList===void 0?void 0:(_doorColorList$code2=doorColorList.code)===null||_doorColorList$code2===void 0?void 0:(_doorColorList$code2$=_doorColorList$code2[ncmDoors===null||ncmDoors===void 0?void 0:(_ncmDoors$2=ncmDoors[1])===null||_ncmDoors$2===void 0?void 0:_ncmDoors$2.RGBIdx])===null||_doorColorList$code2$===void 0?void 0:_doorColorList$code2$.appColor,doorInfo:doorInfo,lcdThumbnail:lcdThumbnail,isMoodUp:isMoodUp,doorColorList:[],canSelectDoor:true,isShowVideo:false,prevImage:"",prevVideo:"",useBackground:false,selectedDoorFixedToBottom:(_utilityService$getCu=(_utilityService$getCu2=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].getCurrentPathName())===null||_utilityService$getCu2===void 0?void 0:_utilityService$getCu2.includes("colorTone"))!==null&&_utilityService$getCu!==void 0?_utilityService$getCu:false})}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_15__["default"],{disabled:!isColorCollectionOn()||!isEnable(),isOn:isNCMColorOn(),currentDoorRGB:currentDoorRGB,doorColorList:doorColorList,backgroundImg:getBackgroundImg(),isThemeMode:isThemeMode,onClickDoor:onClickDoor,ncmDoors:ncmDoors,canSelectDoor:true,selectedDoorId:selectedDoorId,useBackground:false,refType:refType,style:{marginBottom:"12px",width:"100%"},product:product,isSoundIconShow:false,isColorToneCtrl:true,isColorToneV2Ctrl:upVersion==="V2"})})}),upVersion==="V1"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{align:"center",textCode:"Type_A07",color:theme.colorSet.on_surface_variant,disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_SPRING_THEME_USED_S")})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column",float:"right",overflow:"scroll",height:"calc(100vh - 68px)",justifyContent:"flex-start"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ScrollContainer,{style:{flexGrow:1,width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",padding:"0px 20px 20px 20px"},direction:"column",align:"flex-start",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesTitle,{disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_HOW_TO_ADJUST_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesContents,{disabled:!isColorCollectionOn()||!isEnable(),children:t(adjustGuide01)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesContents,{disabled:!isColorCollectionOn()||!isEnable(),children:t(adjustGuide02)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{style:{marginTop:4},color:theme.colorSet.on_surface_variant,textCode:"Type_A07",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_HOW_TO_ADJUST_GUIDE_3_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXXL,{}),colorToneCard(),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesTitle,{style:{marginTop:16},disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_ADJUST_TIPS_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesContents,{disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_ADJUST_TIPS_GUIDE_1_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesContents,{disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_ADJUST_TIPS_GUIDE_2_S")})]})})})]})})})]})}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{style:{paddingBottom:"20px"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t("@RE_UX35_ADJUSTING_COLOR_TONE_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(ContentSubList,{style:{width:"100%",webkitOverflowScrolling:"touch",overflow:"scroll"},disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",overflow:"hidden",flexDirection:"column",alignItems:"baseline"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column"},children:[isNextGen&&isMoodUp?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{justify:"center",style:{width:"100%",height:"262px",marginTop:"8px",marginBottom:"8px"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(wrm_GRM_component_GRM_ColorModeDoorColor__WEBPACK_IMPORTED_MODULE_5__["default"],{onClickDoor:onClickDoor,selectedDoorId:selectedDoorId,disabled:false,isOn:true,isSmall:false,currentDoorRGB:"",upperColor:doorColorList===null||doorColorList===void 0?void 0:(_doorColorList$code3=doorColorList.code)===null||_doorColorList$code3===void 0?void 0:(_doorColorList$code3$=_doorColorList$code3[ncmDoors===null||ncmDoors===void 0?void 0:(_ncmDoors$3=ncmDoors[0])===null||_ncmDoors$3===void 0?void 0:_ncmDoors$3.RGBIdx])===null||_doorColorList$code3$===void 0?void 0:_doorColorList$code3$.appColor,lowerColor:doorColorList===null||doorColorList===void 0?void 0:(_doorColorList$code4=doorColorList.code)===null||_doorColorList$code4===void 0?void 0:(_doorColorList$code4$=_doorColorList$code4[ncmDoors===null||ncmDoors===void 0?void 0:(_ncmDoors$4=ncmDoors[1])===null||_ncmDoors$4===void 0?void 0:_ncmDoors$4.RGBIdx])===null||_doorColorList$code4$===void 0?void 0:_doorColorList$code4$.appColor,doorInfo:doorInfo,lcdThumbnail:lcdThumbnail,isMoodUp:isMoodUp,doorColorList:[],canSelectDoor:true,isShowVideo:false,prevImage:"",prevVideo:"",useBackground:false,selectedDoorFixedToBottom:(_utilityService$getCu3=(_utilityService$getCu4=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].getCurrentPathName())===null||_utilityService$getCu4===void 0?void 0:_utilityService$getCu4.includes("colorTone"))!==null&&_utilityService$getCu3!==void 0?_utilityService$getCu3:false})}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_15__["default"],{disabled:!isColorCollectionOn()||!isEnable(),isOn:isNCMColorOn(),currentDoorRGB:currentDoorRGB,doorColorList:doorColorList,backgroundImg:getBackgroundImg(),isThemeMode:isThemeMode,onClickDoor:onClickDoor,ncmDoors:ncmDoors,canSelectDoor:true,selectedDoorId:selectedDoorId,useBackground:false,refType:refType,style:{marginTop:"24px",marginBottom:"32px",width:"100%"},product:product,isSoundIconShow:false,isColorToneCtrl:true,isColorToneV2Ctrl:upVersion==="V2"})}),upVersion==="V1"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{align:"center",textCode:"Type_A07",color:theme.colorSet.on_surface_variant,disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_SPRING_THEME_USED_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXXL,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},direction:"column",align:"flex-start",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesTitle,{disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_HOW_TO_ADJUST_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesContents,{disabled:!isColorCollectionOn()||!isEnable(),children:t(adjustGuide01)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesContents,{disabled:!isColorCollectionOn()||!isEnable(),children:t(adjustGuide02)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{style:{marginTop:4},color:theme.colorSet.on_surface_variant,textCode:"Type_A07",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_HOW_TO_ADJUST_GUIDE_3_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXXL,{}),colorToneCard(),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesTitle,{style:{marginTop:16},disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_ADJUST_TIPS_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesContents,{disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_ADJUST_TIPS_GUIDE_1_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(DesContents,{disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_ADJUST_TIPS_GUIDE_2_S")})]})]})})})})]})})});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_NCM01_Color_ColorTone);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM01_Color/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_component_GRP_NcmFilterBox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/component/GRP/NcmFilterBox.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRM/ncmUtil.js");
/* harmony import */ var wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRM/uiUtility.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_resource_common_image_moodLighting_ic_music_png__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/resource/common/image/moodLighting/ic_music.png");
/* harmony import */ var wrm_GRM_resource_common_image_moodLighting_ic_music_off_fill_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/resource/common/image/moodLighting/ic_music_off_fill.png");
/* harmony import */ var _component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/component/GRP/NcmDoorColor.js");
/* harmony import */ var _component_common_StyledCard__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/component/common/StyledCard.js");
/* harmony import */ var _lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/wrm/GRM/lib/GRP/badgeController.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./src/wrm/GRM/lib/common/core/upgradableProvider.js");
/* harmony import */ var _lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./src/wrm/GRM/lib/common/ncmConstant.js");
/* harmony import */ var _NcmSelector_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./src/wrm/GRM/screen/GRP/GRP_NCM01_Color/NcmSelector.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__);
/*
문짝 배치 
---------
| 1 | 2 |
---------
| 3 | 4 |
---------
*/const ContentSubList=(0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({})`
    ${""/* width: 100%; */}
    ${""/* height: calc(100vh - 56px); */}
    ${""/* overflow: scroll; */}
    ${""/* -webkit-overflow-scrolling: touch; */}
`;// const VIEW_MORE_IDX = -1;
let fromDelete=false;const GRP_NCM01_Color=props=>{var _product$modelJson$Co,_carpetModel$colorTyp,_product$modelJson$Co2,_product$modelJson$Co3,_carpetModel$musicCol,_carpetModel$musicLig,_carpetModel$colorTyp2,_carpetModel$colorCol,_carpetModel$colorCol2,_carpetModel$colorTyp8,_carpetModel$door1Col10,_carpetModel$door2Col2,_carpetModel$door3Col2,_carpetModel$door4Col2,_carpetModel$colorCol6,_carpetModel$ncmMode4,_carpetModel$colorCol10,_product$config,_carpetModel$door1Col13,_carpetModel$door1Col14,_carpetModel$door1Col15,_carpetModel$ncmKnock,_carpetModel$door1Col16,_carpetModel$door1Col17,_carpetModel$door1Col18,_carpetModel$ncmKnock2,_setDurationTime;// Get product by product ID
const{productId}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const isOspCase=wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_8__["default"].isOspProduct(product);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_18__.useCarpetGRP)(product,`GRP_NCM01_Color`,false,false);// eslint-disable-next-line
const[carpetModel]=carpet.getModel();const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const refType=((_product$modelJson$Co=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co===void 0?void 0:_product$modelJson$Co.refType)||"DEFAULT";const DURATIONDESC="@CP_NCM_LED_DURATION_DESC_W";const temp_DURATIONDESC_label=t(DURATIONDESC).split(":",2);const temp_DURATIONDESC_label_time=t(temp_DURATIONDESC_label[1]).split("-",2);const DURATIONDESC_label=t(temp_DURATIONDESC_label[0])+t("@WN_WINE_PRICE_TB_W",{$0:temp_DURATIONDESC_label_time[0],$1:temp_DURATIONDESC_label_time[1]});// 필터 Chip
const[selectedThemeCategory,setThemeCategory]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("Season");const[selectedColorCategory,setColorCategory]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("Objet");// const [ncmColorSetTotal, setNcmColorSetTotal] = useState([]);
// const [ncmThemeSetTotal, setNcmThemeSetTotal] = useState([]);
const[ncmColorSetTotal,setNcmColorSetTotal]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmColorInfoAtom);const[ncmThemeSetTotal,setNcmThemeSetTotal]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmThemeInfoAtom);const[ncmColorSet,setNcmColorSet]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const[ncmThemeSet,setNcmThemeSet]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const[ncmMyColorSet,setNcmMyColorSet]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const[ncmMyColorTotalSet,setNcmMyColorTotalSet]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const[ncmMyThemeSet,setNcmMyThemeSet]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const[mediaStateAtom,setMediaStateAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmMediaStateAtom);const[playListAtom,setPlayListAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmPlayListAtom);// Theme 적용시 사용할 도어 전체 컬러Set
// 개별 컬러 사용시에는 사용하면 안 됨.
// eslint-disable-next-line
const[currentColorList,setCurrentColorList]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(ncmThemeSet.find(item=>{var _carpetModel$door1Col;return item.id===((_carpetModel$door1Col=carpetModel.door1ColorId)===null||_carpetModel$door1Col===void 0?void 0:_carpetModel$door1Col.value)+"";}));const[doorColorList,setDoorColorList]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(currentColorList||ncmColorSetTotal[0]);const[soundIconStatus,setSoundIconStatus]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});const isThemeMode=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp=carpetModel.colorType)===null||_carpetModel$colorTyp===void 0?void 0:_carpetModel$colorTyp.value)==="THEME";// const productShape = product.modelJson.Config.ncmInfo?.shape;
const backgroundImg=(_product$modelJson$Co2=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co2===void 0?void 0:_product$modelJson$Co2.backgroundImg;const backgroundImgOff=(_product$modelJson$Co3=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co3===void 0?void 0:_product$modelJson$Co3.backgroundImgOff;const ncmInfo=product.modelJson.Config.ncmInfo;const ncmDoors=ncmInfo===null||ncmInfo===void 0?void 0:ncmInfo.doors;const isMusicCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol===void 0?void 0:_carpetModel$musicCol.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON;const isPartyModeOn=((_carpetModel$musicLig=carpetModel.musicLight)===null||_carpetModel$musicLig===void 0?void 0:_carpetModel$musicLig.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF;// 개별Color 적용시 각 도어의 현재 컬러RBD
const currentDoorRGB={tl:ncmColorSetTotal.find(item=>{var _carpetModel$door1Col2;return item.id===((_carpetModel$door1Col2=carpetModel.door1ColorId)===null||_carpetModel$door1Col2===void 0?void 0:_carpetModel$door1Col2.value)+"";}),tr:ncmColorSetTotal.find(item=>{var _carpetModel$door2Col;return item.id===((_carpetModel$door2Col=carpetModel.door2ColorId)===null||_carpetModel$door2Col===void 0?void 0:_carpetModel$door2Col.value)+"";}),bl:ncmColorSetTotal.find(item=>{var _carpetModel$door3Col;return item.id===((_carpetModel$door3Col=carpetModel.door3ColorId)===null||_carpetModel$door3Col===void 0?void 0:_carpetModel$door3Col.value)+"";}),br:ncmColorSetTotal.find(item=>{var _carpetModel$door4Col;return item.id===((_carpetModel$door4Col=carpetModel.door4ColorId)===null||_carpetModel$door4Col===void 0?void 0:_carpetModel$door4Col.value)+"";})};// 선택한 문 id : "1", "2", "3", "4"
const[selectedDoorId,setSelectedDoorId]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("1");// 선택한 테마 id : 1, 2, 3, 4
const[selectedTheme,setSelectedThemeId]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);//value저장
// 선택한 색상 id : "1", "2", "3", "4"
const[selectedColor,setSelectedColor]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);//value저장
const[mainTab,setMainTab]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(((_carpetModel$colorTyp2=carpetModel.colorType)===null||_carpetModel$colorTyp2===void 0?void 0:_carpetModel$colorTyp2.value)==="THEME"?0:1);const[,setIsColorOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);const[nowPlayingState,setNowPlayingState]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmNowPlayingStateAtom);const lightTimeH=Math.floor(Number((_carpetModel$colorCol=carpetModel.colorCollectionTime)===null||_carpetModel$colorCol===void 0?void 0:_carpetModel$colorCol.value)/60);const lightTimeM=Math.floor(Number(((_carpetModel$colorCol2=carpetModel.colorCollectionTime)===null||_carpetModel$colorCol2===void 0?void 0:_carpetModel$colorCol2.value)%60));const[lightTimeInfo,setLightTimeInfo]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({hour:lightTimeH||0,min:lightTimeM||0});const[lightTimeInfoT,setLightTimeInfoT]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({hour:lightTimeInfo.hour||0,min:lightTimeInfo.min||0});const[mainTabValue,setMainTabValue]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const[isSupportArtist,setIsSupportArtist]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isShowArtistNewBadge,setIsShowArtistNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isSupportDoorKnockOn,setIsSupportDoorKnockOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);// const [isShowLoader, setIsShowLoader] = useState(true);
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{if(!isSupportArtist){return;}if(mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB){// 아티스트 컬렉션 배지 끄기
if(isShowArtistNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_17__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.UPGRADE_CENTER.UPGRADE_NCM_ARTIST_COLLECTION_ID);}}},[mainTabValue,isShowArtistNewBadge]);const updateSelectedItem=function(){var _carpetModel$colorTyp3,_carpetModel$colorTyp4;let isSelectedDoor=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;// Theme
let tabTextValue=carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp3=carpetModel.colorType)===null||_carpetModel$colorTyp3===void 0?void 0:_carpetModel$colorTyp3.value;let newColorList={};if(((_carpetModel$colorTyp4=carpetModel.colorType)===null||_carpetModel$colorTyp4===void 0?void 0:_carpetModel$colorTyp4.value)==="THEME"){var _newColorList,_carpetModel$door1Col4,_newColorList2;newColorList=ncmThemeSetTotal.find(item=>{var _carpetModel$door1Col3;return item.id===((_carpetModel$door1Col3=carpetModel.door1ColorId)===null||_carpetModel$door1Col3===void 0?void 0:_carpetModel$door1Col3.value)+"";});// 아티스트 컬렉션은 카테고리가 없음 -> 카테고리 시즌으로 처리
onChipselectTheme((_newColorList=newColorList)===null||_newColorList===void 0?void 0:_newColorList.category,true);// setThemeCategory(newColorList?.category);
setSelectedThemeId((_carpetModel$door1Col4=carpetModel.door1ColorId)===null||_carpetModel$door1Col4===void 0?void 0:_carpetModel$door1Col4.value);setSelectedColor(null);// Change All Door Color
setDoorColorList(newColorList);// 아티스트 컬렉션 Tab으로 변경
if(((_newColorList2=newColorList)===null||_newColorList2===void 0?void 0:_newColorList2.isArtist)==="Y"&&isSupportArtist){tabTextValue=_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB;}if(!isSelectedDoor){var _newColorList3;if(((_newColorList3=newColorList)===null||_newColorList3===void 0?void 0:_newColorList3.category)==="MyTheme"){tabTextValue=_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB;setColorCategory("MyTheme");}}}// 개별Color
else{var _carpetModel$featureN,_newColorList4,_newColorList5,_newColorList7;const featureName="door"+selectedDoorId+"ColorId";const value=((_carpetModel$featureN=carpetModel[featureName])===null||_carpetModel$featureN===void 0?void 0:_carpetModel$featureN.value)+""||"1";newColorList=ncmColorSetTotal.find(item=>{return item.id===value;})||ncmMyColorTotalSet.find(item=>{return item.id===value;});setSelectedThemeId(null);setSelectedColor((_newColorList4=newColorList)===null||_newColorList4===void 0?void 0:_newColorList4.id);if(((_newColorList5=newColorList)===null||_newColorList5===void 0?void 0:_newColorList5.category)==="MyColor"){var _newColorList6;setColorCategory((_newColorList6=newColorList)===null||_newColorList6===void 0?void 0:_newColorList6.category);}else if(((_newColorList7=newColorList)===null||_newColorList7===void 0?void 0:_newColorList7.category)==="DEFAULT_COLOR"){setColorCategory("Objet");}else{var _newColorList8;setColorCategory((_newColorList8=newColorList)===null||_newColorList8===void 0?void 0:_newColorList8.type);}}if(!isSelectedDoor){// Set Tab text value
if(tabTextValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB){setMainTab(0);}else if(tabTextValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB||!isSupportArtist){setMainTab(1);}else{setMainTab(2);}setMainTabValue(tabTextValue);}};const[moreBsToggled,setMoreBsToggled]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[continueTimeBs,setContinueTimeBs]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);// ??Hours ??Mins view
const[durationInfo,setDurationInfo]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const generateMinutsArr=(_hour,_hourMax,_step,_start,_minMax,suffix)=>{const hour=_hour||0;const hourMax=_hourMax||24;const step=_step||5;const minMax=_minMax||59;let minute=_start||0;let result=[];if(hour===hourMax){result=[{index:1,value:0,label:t("00")}];return result;}for(let idx=0;minute<=minMax;idx++,minute+=step){if(hour===0&&minute===0){continue;}//
result.push({index:idx,value:minute,label:t(minute<10?"0"+minute:""+minute)+t(suffix)});}return result;};// const setPlayMode = (cmd, value) => {
//     ncmUtil.setPlayMode(carpet, cmd, value);
// };
const playMusic=uniqueId=>{wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].playMusic(carpet,uniqueId);};const sendColorTime=min=>{const cmd="colorCollectionTime";const value=min+"";let vtParam={ctrlTarget:["DOOR_ALL"],reqDevType:"APP",productType:"NORMAL",vtData:{DOOR_ALL:[{cmd:cmd,type:"ABSOLUTE",value:value,roomType:"NONE"}]}};carpet.sendVtControl(vtParam,true,undefined,true);};const getPlayListInfo=playFirstSong=>{console.info(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId);playFirstSong=playFirstSong||false;// PlayList 조회
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"ncmPlayListInfo",undefined,{},true,false).then(res=>{var _res$value;// PlayListAtom set
const playList=((_res$value=res.value)===null||_res$value===void 0?void 0:_res$value.items)||[];setPlayListAtom(playList);if(playList.length>0){let songUniqueId=playList[0].playUniqueId;if(playFirstSong){playMusic(songUniqueId);}else{// ////////// 곡목변경시 DQ1에서 재생 멈춰서 앱에서 재생시켜주는 임시코드
// const s = playList.find((song) => {
//     return song.playIndex + "" === mediaStateAtom?.playIndex + "";
// });
// const isPlaying =
//     mediaStateAtom?.playState === ncmConstant.MUSIC_STATE.PLAYING;
// const isStop =
//     mediaStateAtom?.playState === ncmConstant.MUSIC_STATE.STOPPED;
// const setValue = isPlaying
//     ? ncmConstant.VALUE_MUSIC.PAUSE
//     : isStop
//     ? ncmConstant.MUSIC_STATE.PLAYING
//     : ncmConstant.VALUE_MUSIC.RESUME;
// if (s) {
//     setPlayMode(ncmConstant.CMD_MUSIC.MODE, setValue);
// } else {
//     playMusic(songUniqueId);
// }
///////////
}}});};const toggleMoreBottomSheet=()=>{setMoreBsToggled(preState=>!preState);};const toggleContinueTimeBs=()=>{setContinueTimeBs(preState=>!preState);};const onClickDoor=event=>{// My Collection
if(mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB){setSelectedDoorId(event.target.id);//string
}};const onBsCancel=()=>{setMoreBsToggled(false);};const getMixpanelDoorName=doorId=>{var _ncmDoors$filter,_ncmDoors$filter$;if(mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB||mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB||selectedColorCategory==="MyTheme"){return"";}const covertString={UPPER_L:"upper_left",UPPER_R:"upper_right",LOWER_L:"lower_left",LOWER_R:"lower_right"};return covertString[(_ncmDoors$filter=ncmDoors.filter(item=>String(item.doorId)===doorId))===null||_ncmDoors$filter===void 0?void 0:(_ncmDoors$filter$=_ncmDoors$filter[0])===null||_ncmDoors$filter$===void 0?void 0:_ncmDoors$filter$.doorName]||"";};const getMixpanelCategoryName=category=>{if(mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB){return"";}const convertString={Season:t("@CP_NCM_TERM_SEASON_W"),Place:t("@CP_NCM_TERM_PLACE_W"),Healing:t("@CP_NCM_TERM_HEALING_W"),Pop:t("@CP_NCM_TERM_POP_W"),Objet:t("@CP_NCM_TERM_OBJET_COLLECTION_W"),MyColor:t("@CP_NCM_TERM_MY_SELECTION_W"),Pantone:t("@CP_NCM_TERM_PANTONE_W"),MyTheme:t("@RE_UX35_NCM_MYTHEME_W")};return convertString[category]||"";};const onClickThemeOrColor=(item,index)=>{checkPartyModeEnable(false,item).then(sendPartyModeOff=>{if(mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB||mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB||selectedColorCategory==="MyTheme"){onClickTheme(item,index,sendPartyModeOff);}else{onClickColor(item,index,sendPartyModeOff);}const covertTabLabel={THEME:"@CP_NCM_TERM_THEME_W",ARTIST:"@RE_UX35_NCM_TERM_ARTIST_COLLECTION_W",COLOR:"@CP_NCM_TERM_MY_COLLECTION_W"};wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_15,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_15,{door_name:getMixpanelDoorName(selectedDoorId),color_category:mainTabValue?t(covertTabLabel[mainTabValue]):"",color_sub_category:getMixpanelCategoryName(mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB||mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB?selectedThemeCategory:selectedColorCategory),color_name:item.name||""}));});};// eslint-disable-next-line
const onClickColor=function(item,index){let sendPartyModeOff=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;setSelectedThemeId(null);const cmd="setColor";const cmd70="setColor70";const cmd2="setColorId";const key="DOOR_"+selectedDoorId;const colorCodeObj=item.code.find(colorItem=>colorItem.sortIdx+""===selectedDoorId+"");// RGB Code
const value=colorCodeObj.colorCode;// RGB Code for 70% brightness
const value70=colorCodeObj.color70;// color index
const value2=item.id+"";// 1. 선택한 도어에 대한 컬러값 설정
let vtParam={ctrlTarget:[key],reqDevType:"APP",productType:"NORMAL",vtData:{}};vtParam.vtData[key]=[// 100%
{cmd:cmd,type:"ABSOLUTE",value:value,roomType:"NONE"},// 70%
{cmd:cmd70,type:"ABSOLUTE",value:value70,roomType:"NONE"},// color Id
{cmd:cmd2,type:"ABSOLUTE",value:value2,roomType:"NONE"}];// 2. 선택 안 한 도어에 대한 컬러값 설정
for(let idx=0;idx<ncmDoors.length;idx++){var _doorColorList$code$d,_currentDoorRGB$door$,_currentDoorRGB$door$2,_currentDoorRGB$door$3,_currentDoorRGB$door$4;const door=ncmDoors[idx];const key2="DOOR_"+door.doorId;let color=undefined;//ncmColorSetTotal[2].code.colorCode; // undefined
let color70=undefined;//ncmColorSetTotal[2].code.color70; //undefined
let colorId=undefined;//ncmColorSetTotal[2].id; //undefined
if(door.doorId+""===selectedDoorId+""){continue;}const appColor=isThemeMode?doorColorList===null||doorColorList===void 0?void 0:(_doorColorList$code$d=doorColorList.code[door.RGBIdx])===null||_doorColorList$code$d===void 0?void 0:_doorColorList$code$d.appColor:((_currentDoorRGB$door$=currentDoorRGB[door.keyword])===null||_currentDoorRGB$door$===void 0?void 0:(_currentDoorRGB$door$2=_currentDoorRGB$door$.code[door.RGBIdx])===null||_currentDoorRGB$door$2===void 0?void 0:_currentDoorRGB$door$2.appColor)||((_currentDoorRGB$door$3=currentDoorRGB[door.keyword])===null||_currentDoorRGB$door$3===void 0?void 0:(_currentDoorRGB$door$4=_currentDoorRGB$door$3.code[0])===null||_currentDoorRGB$door$4===void 0?void 0:_currentDoorRGB$door$4.appColor);// Color 정보
let colorInfo=ncmColorSetTotal.find(_item=>{var _item$code$door$RGBId;return _item.category===door.category&&((_item$code$door$RGBId=_item.code[door.RGBIdx])===null||_item$code$door$RGBId===void 0?void 0:_item$code$door$RGBId.appColor)===appColor;});const themeColorSet=ncmThemeSetTotal.find(item=>{var _carpetModel$door1Col5;return item.id===((_carpetModel$door1Col5=carpetModel.door1ColorId)===null||_carpetModel$door1Col5===void 0?void 0:_carpetModel$door1Col5.value)+"";});// 위에서 조회되지 않았으면 마이 컬러
let checkColorId="";if(isThemeMode){var _themeColorSet$code,_themeColorSet$code$d;if(typeof(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code=themeColorSet.code)===null||_themeColorSet$code===void 0?void 0:(_themeColorSet$code$d=_themeColorSet$code[door.RGBIdx])===null||_themeColorSet$code$d===void 0?void 0:_themeColorSet$code$d.myColorId)!=="undefined"){var _themeColorSet$code2,_themeColorSet$code2$;checkColorId=themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code2=themeColorSet.code)===null||_themeColorSet$code2===void 0?void 0:(_themeColorSet$code2$=_themeColorSet$code2[door.RGBIdx])===null||_themeColorSet$code2$===void 0?void 0:_themeColorSet$code2$.myColorId;}}else{var _currentDoorRGB$door$5;checkColorId=(_currentDoorRGB$door$5=currentDoorRGB[door.keyword])===null||_currentDoorRGB$door$5===void 0?void 0:_currentDoorRGB$door$5.id;}if(typeof colorInfo==="undefined"){// 마이 컬러의 경우 컬러의 id도 체크해야함. 동일한 appColor를 가진 마이 컬러 여러개 존재 가능
colorInfo=ncmColorSetTotal.find(_item=>{var _item$code$;return _item.category==="MyColor"&&((_item$code$=_item.code[0])===null||_item$code$===void 0?void 0:_item$code$.appColor)===appColor&&_item.id===checkColorId;});}// 위에서 조회되지 않았으면 사용자 컬러
if(typeof colorInfo==="undefined"){colorInfo=ncmColorSetTotal.find(_item=>{var _item$code$door$RGBId2;return _item.category==="DEFAULT_COLOR"&&((_item$code$door$RGBId2=_item.code[door.RGBIdx])===null||_item$code$door$RGBId2===void 0?void 0:_item$code$door$RGBId2.appColor)===appColor&&_item.id===checkColorId;});}// 이미 삭제된 마이컬러는 선셋 블루 or 선셋 레드로 변경
if(typeof colorInfo==="undefined"){var _placeParisTheme$code;let colorCategory="";if(door.RGBIdx===0||door.RGBIdx===1){colorCategory="Upper";}else{colorCategory="Lower";}// 파리의 노을 컬러값
const placeParisTheme=ncmThemeSetTotal.find(item=>{return item.id==="7";});const appColor=(_placeParisTheme$code=placeParisTheme.code[door.RGBIdx])===null||_placeParisTheme$code===void 0?void 0:_placeParisTheme$code.appColor;const placeParisColor=ncmColorSetTotal.find(_item=>{var _item$code$door$RGBId3;return _item.category===colorCategory&&((_item$code$door$RGBId3=_item.code[door.RGBIdx])===null||_item$code$door$RGBId3===void 0?void 0:_item$code$door$RGBId3.appColor)===appColor;});colorInfo=placeParisColor;}if(colorInfo){var _colorInfo$code$door$,_colorInfo$code$door$2;color=((_colorInfo$code$door$=colorInfo.code[door.RGBIdx])===null||_colorInfo$code$door$===void 0?void 0:_colorInfo$code$door$.colorCode)||colorInfo.code[0].colorCode;color70=((_colorInfo$code$door$2=colorInfo.code[door.RGBIdx])===null||_colorInfo$code$door$2===void 0?void 0:_colorInfo$code$door$2.color70)||colorInfo.code[0].color70;colorId=colorInfo.id;}vtParam.ctrlTarget.push(key2);vtParam.vtData[key2]=[// 100%
{cmd:cmd,type:"ABSOLUTE",value:color,roomType:"NONE"},// 70%
{cmd:cmd70,type:"ABSOLUTE",value:color70,roomType:"NONE"},// color Id
{cmd:cmd2,type:"ABSOLUTE",value:colorId,roomType:"NONE"}];}if(sendPartyModeOff){vtParam.ctrlTarget.push("DOOR_ALL");vtParam.vtData["DOOR_ALL"]=[{cmd:"musicLight",type:"ABSOLUTE",value:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF,roomType:"NONE"}];}carpet.sendVtControl(vtParam,true,undefined,true);};const checkPartyModeEnable=(isSoundOnOffBtnClicked,item)=>{return new Promise((resolve,reject)=>{const isArtist=(item===null||item===void 0?void 0:item.isArtist)==="Y"||false;if(isMusicCollectionOn&&isPartyModeOn&&!isArtist){const btns=[{label:t("@CP_CANCEL_W"),event:()=>{reject();}},{label:isSoundOnOffBtnClicked?t("@RE_UX30_TERM_PLAY_W"):t("@RE_UX30_TERM_CHANGE_W"),event:()=>{resolve(true);}}];wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].showDialog("",isSoundOnOffBtnClicked?"@CP_NCM_POPUP_PARTY_MODE_OFF_GUIDE2_S":"@CP_NCM_POPUP_PARTY_MODE_OFF_GUIDE_S",btns);}else{resolve(false);}});};const isThemeMatchedSongPlay=()=>{if(isThemeMode){var _nowPlayingState$musi;const currentThemeItem=ncmThemeSetTotal.find(item=>{var _carpetModel$door1Col6;return item.id===(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col6=carpetModel.door1ColorId)===null||_carpetModel$door1Col6===void 0?void 0:_carpetModel$door1Col6.value)+"";});const currentGettyId=(currentThemeItem===null||currentThemeItem===void 0?void 0:currentThemeItem.gettyId)+"";return currentGettyId===(nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi=nowPlayingState.music)===null||_nowPlayingState$musi===void 0?void 0:_nowPlayingState$musi.songId)+"";}return false;};const onClickTheme=function(item,index){let sendPartyModeOff=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let colorList=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(doorColorList);// colorList = item.code;
setDoorColorList(colorList);// setSelectedThemeId(Number(item.id) - 1);
setSelectedColor(null);const cmd="setThemeId";// const cmdId = "setColorId";
const cmdRGB="setColor";const cmdRGB70="setColor70";const idValue=item.id+"";let vtParam={ctrlTarget:["DOOR_ALL","DOOR_1","DOOR_2","DOOR_3","DOOR_4"],// ctrlTarget: ["DOOR_ALL"],
reqDevType:"APP",productType:"NORMAL",vtData:{}};vtParam.vtData["DOOR_ALL"]=[{cmd:cmd,type:"ABSOLUTE",value:idValue,roomType:"NONE"}];if(sendPartyModeOff){vtParam.vtData["DOOR_ALL"].push({cmd:"musicLight",type:"ABSOLUTE",value:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF,roomType:"NONE"});}vtParam.vtData["DOOR_1"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:item.code[0].colorCode,roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:item.code[0].color70,roomType:"NONE"}];vtParam.vtData["DOOR_2"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:item.code[1].colorCode,roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:item.code[1].color70,roomType:"NONE"}];vtParam.vtData["DOOR_3"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:item.code[2].colorCode,roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:item.code[2].color70,roomType:"NONE"}];vtParam.vtData["DOOR_4"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:item.code[3].colorCode,roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:item.code[3].color70,roomType:"NONE"}];const ctrlParam={ctrlKey:"vtCtrl",command:"Set",dataSetList:vtParam,colorType:"THEME",//COLOR, MYCOLOR, MYTHEME
id:idValue// index : 1 ~ 4 => MYCOLOR일 때만 보냄
};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"ncmPairingCtrl",undefined,{colorCollectionCmd:ctrlParam},true,false,true).then(res=>{console.info(res);});if(isThemeMatchedSongPlay()){//현재 재생중인 곡과 색상테마가 테마 세트상태일 경우, 다른 색상/테마로 변경 시, 음악 중지
wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].setPlayMode(carpet,_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.CMD_MUSIC.MODE,_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.VALUE_MUSIC.STOP);}// soundTheme의 경우 해당 곡 플레이
// if (item.isSoundTheme === "Y") {
// if (carpetModel?.musicCollectionOnOff?.value === constant.TERM_OFF) {
//     const btns = [
//         {
//             label: t("@CP_NCM_TERM_NEXT_TIME_W"),
//             event: (e) => {},
//         },
//         {
//             label: t("@CP_IFTTT_UX35_GN_OPERATION_ON_ACT"),
//             event: (e) => {
//                 sendBasicVtControl("musicCollectionOnOff", "ON").then((res) => {
//                     playThemeMusic(item);
//                 }); //music collection on > play music
//             },
//         },
//     ];
//     utilityService.showDialog("", "@CP_NCM_TURN_ON_MUSIC_COLLECTION_S", btns);
// } else {
playThemeMusic(item);//힐링송은 뮤직컬렉션 ON/OFF 상관없이 재생
// }
// }
};const sendBasicVtControl=(cmd,value)=>{// const cmd = "musicLight";
let vtParam={ctrlTarget:["DOOR_ALL"],reqDevType:"APP",productType:"NORMAL",vtData:{DOOR_ALL:[{cmd:cmd,type:"ABSOLUTE",value:value,roomType:"NONE"}]}};return carpet.sendVtControl(vtParam,true,false,true);};const playThemeMusic=item=>{var _carpetModel$musicCol2;const isMusicCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol2=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol2===void 0?void 0:_carpetModel$musicCol2.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON;const isPlaying=mediaStateAtom.playState===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.MUSIC_STATE.PLAYING;const isArtist=(item===null||item===void 0?void 0:item.isArtist)==="Y"||false;// 1. Fetch Theme song list
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"ncmMusicDetail",undefined,{type:"ncmMusicDetail",themeId:isArtist?"Artist":"8"},// 힐링 Sound theme(8)
true,false).then(res=>{const themeDetailSongList=res.value||[];const songToAdd=themeDetailSongList.find(song=>{if(isArtist){return song.songTitle===item.gettyId;}else{return song.songId===item.gettyId;}});if(!songToAdd){return;}// 플레이리스트에 곡 추가
let addPlayListParams={item:[{songId:songToAdd.songId}]};// 1. play 가 필요 없는 경우(목록만 추가하는 경우)에는 아래만 추가, 기존 동작과 같은 경우 playOption 항목은 필요 없고 songId 만 전달
//  playOption : "reorder"
// 아티스트 컬렉션 : 뮤직컬렉션 Off or 음원 재생중 X => 음원 바로 재생 X
if(isArtist&&!(isPlaying&&isMusicCollectionOn)){addPlayListParams.playOption="reorder";}// 2. 힐링송이 일반 playList 에 추가되어야 할 경우 아래와 같이 추가 전달, 기존 동작과 같은 경우 songId 만 전달
//  songGroupType : "Artist"
// 아티스트 컬렉션 : themeId가 8(힐링송)인 경우
if(isArtist&&songToAdd.themeId==="8"){addPlayListParams.songGroupType="Artist";}wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"addNcmPlayList",undefined,addPlayListParams,true,false).then(res=>{console.info(res);getPlayListInfo(false);});});};const onClickMore=()=>{setMoreBsToggled(true);};const onClickSoundIcon=isOn=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_13,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_13,{is_toggle_on:isOn}));//sendControl;
let vtParam={ctrlTarget:["DOOR_ALL"],reqDevType:"APP",productType:"NORMAL",vtData:{DOOR_ALL:[{cmd:"ncmHealingSongEnable",type:"ABSOLUTE",value:isOn?_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF,roomType:"NONE"}]}};if(isOn){//ncmHealingSongEnable on하려고 하면 팝업 띄우고 파티 모드 끌지 선택지 제공
checkPartyModeEnable(true).then(sendPartyModeOff=>{if(sendPartyModeOff){//파티모드 끈다고 선택했으면, 파티모드 끄고 ncmHealingSongEnable on보냄
vtParam.vtData["DOOR_ALL"].push({cmd:"musicLight",type:"ABSOLUTE",value:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF,roomType:"NONE"});carpet.sendVtControl(vtParam,true,undefined,true).then(()=>{wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].textSpeech(t("@CP_NCM_TERM_SOUND_ICON_W")+" "+t("@RE_UX30_TERM_ON_EN_W"));});// 선택한 테마음원도 재생시킴
let currentItem=ncmThemeSet.find(item=>{var _carpetModel$door1Col7;return item.id===((_carpetModel$door1Col7=carpetModel.door1ColorId)===null||_carpetModel$door1Col7===void 0?void 0:_carpetModel$door1Col7.value)+"";});if((currentItem===null||currentItem===void 0?void 0:currentItem.isSoundTheme)==="Y"){playThemeMusic(currentItem);}}else{//파티모드가 꺼져있으면 그냥 on 전송
carpet.sendVtControl(vtParam,true,undefined,true).then(()=>{wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].textSpeech(t("@CP_NCM_TERM_SOUND_ICON_W")+" "+t("@RE_UX30_TERM_ON_EN_W"));});}});}else{//ncmHealingSongEnable off하려고 하면 그냥 보냄
carpet.sendVtControl(vtParam,true,undefined,true).then(()=>{wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].textSpeech(t("@CP_NCM_TERM_SOUND_ICON_W")+" "+t("@RE_UX30_TERM_OFF_EN_W"));});}};const goBack=()=>{carpet.back("GRP_NCM01_Main",{productId:productId});};const[isSupportPantone23VivaMagenta,setIsSupportPantone23VivaMagenta]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isShowPantone23VivaMagentaThemeNewBadge,setIsShowPantone23VivaMagentaThemeNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isShowPantone23VivaMagentaColorNewBadge,setIsShowPantone23VivaMagentaColorNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);// 마이 컬러, 마이 테마
const[isSupportMyColor,setIsSupportMyColor]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isShowMyColorNewBadge,setIsShowMyColorNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isSupportMyTheme,setIsSupportMyTheme]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isShowMyThemeNewBadge,setIsShowMyThemeNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const checkFoceOpenUpContents=()=>{let pantone23VivaMagentaContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportPantone23VivaMagenta(undefined,product);setIsSupportPantone23VivaMagenta(pantone23VivaMagentaContent.isSupport);if(pantone23VivaMagentaContent.isSupport){setIsShowPantone23VivaMagentaThemeNewBadge(pantone23VivaMagentaContent.isShowThemeNewBadge);setIsShowPantone23VivaMagentaColorNewBadge(pantone23VivaMagentaContent.isShowColorNewBadge);}// 아티스트 컬렉션
let artistCollectionContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportArtistCollection(undefined,product);setIsSupportArtist(artistCollectionContent.isSupport);if(artistCollectionContent.isSupport&&mainTabValue!==_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB){setIsShowArtistNewBadge(artistCollectionContent.isShowNewBadge);}// 노크온
let knockOnContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportDoorKnockOn(undefined,product);setIsSupportDoorKnockOn(knockOnContent.isSupport);// 마이 컬러
let myColorContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportMyColor(undefined,product);setIsSupportMyColor(myColorContent.isSupport);if(myColorContent.isSupport){setIsShowMyColorNewBadge(myColorContent.isShowNewBadge);}// 마이 테마
let myThemeContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportMyTheme(undefined,product);setIsSupportMyTheme(myThemeContent.isSupport);if(myThemeContent.isSupport){setIsShowMyThemeNewBadge(myThemeContent.isShowNewBadge);}};const fetchActivatedContents=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"activatedContents",undefined,{},true,true).then(res=>{var _res$rawData,_res$activatedContent;const activatedContentList=isOspCase?res===null||res===void 0?void 0:(_res$rawData=res.rawData)===null||_res$rawData===void 0?void 0:_res$rawData.ospAppList:res===null||res===void 0?void 0:res.activatedContents;if(isOspCase&&activatedContentList){let pantone23VivaMagentaContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportPantone23VivaMagenta(activatedContentList,product,isOspCase);setIsSupportPantone23VivaMagenta(pantone23VivaMagentaContent.isSupport);if(pantone23VivaMagentaContent.isSupport){setIsShowPantone23VivaMagentaThemeNewBadge(pantone23VivaMagentaContent.isShowThemeNewBadge);setIsShowPantone23VivaMagentaColorNewBadge(pantone23VivaMagentaContent.isShowColorNewBadge);}// 아티스트 컬렉션
let artistCollectionContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportArtistCollection(activatedContentList,product,isOspCase);setIsSupportArtist(artistCollectionContent.isSupport);if(artistCollectionContent.isSupport&&mainTabValue!==_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB){setIsShowArtistNewBadge(artistCollectionContent.isShowNewBadge);}// 노크온
let knockOnContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportDoorKnockOn(activatedContentList,product,isOspCase);setIsSupportDoorKnockOn(knockOnContent.isSupport);// 마이 컬러
let myColorContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportMyColor(activatedContentList,product,isOspCase);setIsSupportMyColor(myColorContent.isSupport);if(myColorContent.isSupport){setIsShowMyColorNewBadge(myColorContent.isShowNewBadge);}// 마이 테마
let myThemeContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportMyTheme(activatedContentList,product,isOspCase);setIsSupportMyTheme(myThemeContent.isSupport);if(myThemeContent.isSupport){setIsShowMyThemeNewBadge(myThemeContent.isShowNewBadge);}}if(!isOspCase&&(res===null||res===void 0?void 0:(_res$activatedContent=res.activatedContents)===null||_res$activatedContent===void 0?void 0:_res$activatedContent.length)>0){let pantone23VivaMagentaContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportPantone23VivaMagenta(res===null||res===void 0?void 0:res.activatedContents,product,false);setIsSupportPantone23VivaMagenta(pantone23VivaMagentaContent.isSupport);if(pantone23VivaMagentaContent.isSupport){setIsShowPantone23VivaMagentaThemeNewBadge(pantone23VivaMagentaContent.isShowThemeNewBadge);setIsShowPantone23VivaMagentaColorNewBadge(pantone23VivaMagentaContent.isShowColorNewBadge);}// 아티스트 컬렉션
let artistCollectionContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportArtistCollection(res===null||res===void 0?void 0:res.activatedContents,product,false);setIsSupportArtist(artistCollectionContent.isSupport);if(artistCollectionContent.isSupport&&mainTabValue!==_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB){setIsShowArtistNewBadge(artistCollectionContent.isShowNewBadge);}// 노크온
let knockOnContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportDoorKnockOn(res===null||res===void 0?void 0:res.activatedContents,product,false);setIsSupportDoorKnockOn(knockOnContent.isSupport);// 마이 컬러
let myColorContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportMyColor(res===null||res===void 0?void 0:res.activatedContents,product,false);setIsSupportMyColor(myColorContent.isSupport);if(myColorContent.isSupport){setIsShowMyColorNewBadge(myColorContent.isShowNewBadge);}// 마이 테마
let myThemeContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_20__.upgradableProvider.checkSupportMyTheme(res===null||res===void 0?void 0:res.activatedContents,product,false);setIsSupportMyTheme(myThemeContent.isSupport);if(myThemeContent.isSupport){setIsShowMyThemeNewBadge(myThemeContent.isShowNewBadge);}}else{setIsSupportArtist(false);setIsSupportPantone23VivaMagenta(false);setIsSupportDoorKnockOn(false);setIsSupportMyColor(false);setIsSupportMyTheme(false);}});};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{if(wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_8__["default"].isSupportUpgradeCenter(product)){fetchActivatedContents();}else{checkFoceOpenUpContents();}},[mainTabValue]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{fromDelete=false;carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);carpet.registerOnBackButtonCallback(goBack);init();return()=>{carpet.unregisterOnBackButtonCallback();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);// 도어컬러 변경시 렌더링
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$colorTyp5,_carpetModel$colorTyp6,_carpetModel$colorTyp7;// Update Door Color
const newColorList=ncmColorSetTotal.find(item=>{var _carpetModel$door1Col8;return item.id===((_carpetModel$door1Col8=carpetModel.door1ColorId)===null||_carpetModel$door1Col8===void 0?void 0:_carpetModel$door1Col8.value)+"";});const newThemeList=ncmThemeSetTotal.find(item=>{var _carpetModel$door1Col9;return item.id===((_carpetModel$door1Col9=carpetModel.door1ColorId)===null||_carpetModel$door1Col9===void 0?void 0:_carpetModel$door1Col9.value)+"";});setDoorColorList(((_carpetModel$colorTyp5=carpetModel.colorType)===null||_carpetModel$colorTyp5===void 0?void 0:_carpetModel$colorTyp5.value)==="THEME"?newThemeList:newColorList);if(((_carpetModel$colorTyp6=carpetModel.colorType)===null||_carpetModel$colorTyp6===void 0?void 0:_carpetModel$colorTyp6.value)==="THEME"){if(selectedThemeCategory==="Pantone"){_badgeControlForPantoneTheme(true);}else{_badgeControlForPantoneTheme(false);}if(selectedColorCategory==="MyTheme"){_badgeControlForMyTheme(true);}else{_badgeControlForMyTheme(false);}}if(((_carpetModel$colorTyp7=carpetModel.colorType)===null||_carpetModel$colorTyp7===void 0?void 0:_carpetModel$colorTyp7.value)==="COLOR"){if(selectedColorCategory==="MyColor"){_badgeControlForPantoneColor(true);_badgeControlForMyColor(true);}else{_badgeControlForPantoneColor(false);_badgeControlForMyColor(false);}}let timeOut=setTimeout(()=>{if(!fromDelete){// Update Selected Info.
updateSelectedItem();}fromDelete=false;},[500]);return()=>{clearTimeout(timeOut);};},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp8=carpetModel.colorType)===null||_carpetModel$colorTyp8===void 0?void 0:_carpetModel$colorTyp8.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col10=carpetModel.door1ColorId)===null||_carpetModel$door1Col10===void 0?void 0:_carpetModel$door1Col10.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door2Col2=carpetModel.door2ColorId)===null||_carpetModel$door2Col2===void 0?void 0:_carpetModel$door2Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door3Col2=carpetModel.door3ColorId)===null||_carpetModel$door3Col2===void 0?void 0:_carpetModel$door3Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door4Col2=carpetModel.door4ColorId)===null||_carpetModel$door4Col2===void 0?void 0:_carpetModel$door4Col2.value,ncmColorSetTotal,ncmThemeSetTotal,isSupportArtist]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$colorCol3,_carpetModel$colorCol4,_carpetModel$colorCol5;setLightTimeInfo({hour:Math.floor(Number(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol3=carpetModel.colorCollectionTime)===null||_carpetModel$colorCol3===void 0?void 0:_carpetModel$colorCol3.value)/60),min:Math.floor(Number(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol4=carpetModel.colorCollectionTime)===null||_carpetModel$colorCol4===void 0?void 0:_carpetModel$colorCol4.value)%60)});const txt=wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_8__["default"].convertMinToTimeText(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol5=carpetModel.colorCollectionTime)===null||_carpetModel$colorCol5===void 0?void 0:_carpetModel$colorCol5.value);setDurationInfo(txt);},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol6=carpetModel.colorCollectionTime)===null||_carpetModel$colorCol6===void 0?void 0:_carpetModel$colorCol6.value]);// 선택한도어 변경시 렌더링
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{let newMyColorSet=[];switch(selectedDoorId){case"1":{newMyColorSet=ncmMyColorTotalSet.filter(item=>{return item.code[0].sortIdx==="1";});break;}case"2":{newMyColorSet=ncmMyColorTotalSet.filter(item=>{return item.code[0].sortIdx==="2";});break;}case"3":{newMyColorSet=ncmMyColorTotalSet.filter(item=>{return item.code[0].sortIdx==="3";});break;}case"4":{newMyColorSet=ncmMyColorTotalSet.filter(item=>{return item.code[0].sortIdx==="4";});break;}}setNcmMyColorSet([...newMyColorSet]);},[ncmMyColorTotalSet,selectedDoorId]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{updateSelectedItem(true);},[selectedDoorId]);const clickTab=(e,key)=>{console.debug("050"," "+key);if(!isColorCollectionOn()||!isEnable())return;console.log("@@@ key : ",key);setMainTab(key);if(key===0){setMainTabValue(_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB);}else if(key===1&&isSupportArtist){setMainTabValue(_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB);}else{setMainTabValue(_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB);}};const sendColorCollectionOnOff=value=>{const p2=value===true?"ON":"OFF";let vtParam={ctrlTarget:["DOOR_ALL"],reqDevType:"APP",productType:"NORMAL",vtData:{DOOR_ALL:[{cmd:"colorCollectionOnOff",type:"ABSOLUTE",value:p2,roomType:"NONE"}]}};carpet.sendVtControl(vtParam,true,undefined,true);setIsColorOn(value);};const onMonitoring=data=>{var _data$refState,_data$refState2;console.log("onMonitoring!!!");console.log(data===null||data===void 0?void 0:(_data$refState=data.refState)===null||_data$refState===void 0?void 0:_data$refState.mediaState);setIsDisconnected(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].isDisconnected(product,data));// playListId 변경시 지금 재생 목록 수정
if(data!==null&&data!==void 0&&(_data$refState2=data.refState)!==null&&_data$refState2!==void 0&&_data$refState2.mediaState){var _data$refState3;setMediaStateAtom(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(data===null||data===void 0?void 0:(_data$refState3=data.refState)===null||_data$refState3===void 0?void 0:_data$refState3.mediaState));}};const onMonitoringError=data=>{console.info(data);};const init=data=>{console.info(data);// ncmColorInfo
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"ncmColorInfo",undefined,{},true,false).then(res=>{var _res$value2,_res$value2$myColor,_res$value4,_res$value4$myTheme;console.info(res.value);let _ncmColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(res.value.color);let _ncmThemeSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(res.value.theme);let _ncmDefaultColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(res.value.defaultColor);_ncmColorSet=[..._ncmColorSet,..._ncmDefaultColorSet];if((res===null||res===void 0?void 0:(_res$value2=res.value)===null||_res$value2===void 0?void 0:(_res$value2$myColor=_res$value2.myColor)===null||_res$value2$myColor===void 0?void 0:_res$value2$myColor.length)>0){var _res$value3;const _ncmMyColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(res===null||res===void 0?void 0:(_res$value3=res.value)===null||_res$value3===void 0?void 0:_res$value3.myColor);_ncmColorSet=[..._ncmColorSet,..._ncmMyColorSet];setNcmMyColorTotalSet(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(_ncmMyColorSet));}else{setNcmMyColorTotalSet([]);}if((res===null||res===void 0?void 0:(_res$value4=res.value)===null||_res$value4===void 0?void 0:(_res$value4$myTheme=_res$value4.myTheme)===null||_res$value4$myTheme===void 0?void 0:_res$value4$myTheme.length)>0){var _res$value5;const _ncmMyThemeSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(res===null||res===void 0?void 0:(_res$value5=res.value)===null||_res$value5===void 0?void 0:_res$value5.myTheme);_ncmThemeSet=[..._ncmThemeSet,..._ncmMyThemeSet];setNcmMyThemeSet(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(_ncmMyThemeSet));}else{setNcmMyThemeSet([]);}setNcmColorSetTotal(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(_ncmColorSet));setNcmThemeSetTotal(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(_ncmThemeSet));});// // 사용자 컬러 조회
// apiFeatureService
//     .fetchFeatureValue(product, "ncmUserColorInfo", undefined, {}, true, false)
//     .then((res) => {
//         let _userColor = cloneDeep(userColor);
//         Object.keys(_userColor)?.map((doorIdx) => {
//             const userColorItem = res?.value?.item?.find((item) => {
//                 return item.code[0].sortIdx === doorIdx;
//             });
//             if (typeof userColorItem !== "undefined") {
//                 _userColor[doorIdx] = userColorItem;
//             }
//         });
//         setUserColorOrigin(cloneDeep(res?.value?.item));
//         setUserColor(cloneDeep(_userColor));
//     });
};const onChipselectTheme=function(idx){let isFirst=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let disableBadge=false;switch(idx){case 0:case"Season":setThemeCategory("Season");break;case 1:case"Place":setThemeCategory("Place");break;case 2:case"Healing":setThemeCategory("Healing");break;case 3:case"Pop":setThemeCategory("Pop");break;//Pantone
case 4:case"Pantone":setThemeCategory("Pantone");disableBadge=true;break;default:setThemeCategory("Season");break;}if(!isFirst){_badgeControlForPantoneTheme(disableBadge);}};const onChipselectColor=idx=>{let disableBadge=false;let themeDisableBadge=false;switch(idx){case 0:setColorCategory("Objet");break;case 1:setColorCategory("MyColor");disableBadge=true;break;// todo : 마이 테마, 마이 컬러 지원 여부 체크
case 2:setColorCategory("MyTheme");themeDisableBadge=true;break;default:setColorCategory("Objet");break;}_badgeControlForPantoneColor(disableBadge);_badgeControlForMyColor(disableBadge);_badgeControlForMyTheme(themeDisableBadge);};const _badgeControlForPantoneTheme=disableNewBadge=>{if(!isSupportPantone23VivaMagenta){return;}if(disableNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_17__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.UPGRADE_CENTER.UPGRADE_NCM_PANTONE23_VIVA_MAGENTA_ID_THEME_BADGE_CONTROL);//다음부터는 배지 안보여주도록 삭제
}else{setIsShowPantone23VivaMagentaThemeNewBadge(_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_17__["default"].isShowNcmColorThemeNewBadge());}};const _badgeControlForPantoneColor=disableNewBadge=>{if(!isSupportPantone23VivaMagenta){return;}if(disableNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_17__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.UPGRADE_CENTER.UPGRADE_NCM_PANTONE23_VIVA_MAGENTA_ID_COLOR_BADGE_CONTROL);//다음부터는 배지 안보여주도록 삭제
}else{setIsShowPantone23VivaMagentaColorNewBadge(_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_17__["default"].isShowNcmColorMyCollectionNewBadge());}};const _badgeControlForMyColor=disableNewBadge=>{if(!isSupportMyColor){return;}if(disableNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_17__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.UPGRADE_CENTER.UPGRADE_NCM_MY_COLOR_ID);//다음부터는 배지 안보여주도록 삭제
}else{setIsShowMyColorNewBadge(_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_17__["default"].isShowNcmMyColorNewBadge());}};const _badgeControlForMyTheme=disableNewBadge=>{if(!isSupportMyTheme){return;}if(disableNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_17__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.UPGRADE_CENTER.UPGRADE_NCM_MY_THEME_ID);//다음부터는 배지 안보여주도록 삭제
}else{setIsShowMyThemeNewBadge(_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_17__["default"].isShowNcmMyThemeNewBadge());}};const isColorCollectionOn=()=>{var _carpetModel$colorCol7;return((_carpetModel$colorCol7=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol7===void 0?void 0:_carpetModel$colorCol7.value)==="ON";};const isEnable=()=>{var _carpetModel$ncmMode;return(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON&&!isDisconnected;};const newProps={...props,carpetModel,isThemeModeSelected:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB||mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB,currentCategory:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB||mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB?selectedThemeCategory:selectedColorCategory,onChipselect:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB||mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB?onChipselectTheme:onChipselectColor};const badgeProps={...props,isSupportPantone23VivaMagenta:isSupportPantone23VivaMagenta,isShowPantone23VivaMagentaThemeNewBadge:isShowPantone23VivaMagentaThemeNewBadge,isShowPantone23VivaMagentaColorNewBadge:isShowPantone23VivaMagentaColorNewBadge,isShowMyColorNewBadge:isShowMyColorNewBadge,isShowMyThemeNewBadge:isShowMyThemeNewBadge};const isNCMColorOn=()=>{var _carpetModel$ncmMode2,_carpetModel$colorCol8,_carpetModel$musicLig2;const isNCMOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode2=carpetModel.ncmMode)===null||_carpetModel$ncmMode2===void 0?void 0:_carpetModel$ncmMode2.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON;const isColorCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol8=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol8===void 0?void 0:_carpetModel$colorCol8.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON;// const isMusicCollectionOn = carpetModel?.musicCollectionOnOff?.value === constant.TERM_ON;
const isLGMusicPlay=(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.MUSIC_STATE.PLAYING;// const isBTMusicPlay = mediaStateAtom?.btState === ncmConstant.MUSIC_STATE.PLAYING;
const isPartyModeOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig2=carpetModel.musicLight)===null||_carpetModel$musicLig2===void 0?void 0:_carpetModel$musicLig2.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF;if(!isNCMOn){return false;}else if(!isColorCollectionOn&&isLGMusicPlay&&!isPartyModeOn){return false;}else if(!isColorCollectionOn&&!isLGMusicPlay&&!isPartyModeOn){return false;}else if(!isColorCollectionOn&&!isLGMusicPlay&&isPartyModeOn){return false;}else{return true;}};const getBackgroundImg=()=>{return isNCMColorOn()?backgroundImg:backgroundImgOff;};const getCurrentSongInfo=()=>{if(!playListAtom||!(mediaStateAtom!==null&&mediaStateAtom!==void 0&&mediaStateAtom.playIndex)||playListAtom.length===0){return undefined;}let playIdx=mediaStateAtom.playIndex;const music=playListAtom[playIdx];return music;};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$ncmHeali,_carpetModel$ncmHeali2;const hasSoundItem=!!ncmThemeSet.find(item=>item.isSoundTheme==="Y");const _soundIconStatus={isShow:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB&&hasSoundItem,value:(_carpetModel$ncmHeali=carpetModel.ncmHealingSongEnable)===null||_carpetModel$ncmHeali===void 0?void 0:_carpetModel$ncmHeali.value,label:(_carpetModel$ncmHeali2=carpetModel.ncmHealingSongEnable)===null||_carpetModel$ncmHeali2===void 0?void 0:_carpetModel$ncmHeali2.label,onClick:onClickSoundIcon};setSoundIconStatus(_soundIconStatus);},[mainTabValue,ncmThemeSet,carpetModel.ncmHealingSongEnable]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setNcmThemeSet(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(ncmThemeSetTotal).filter(item=>{return item.category===selectedThemeCategory&&item.isArtist!=="Y";}));if(mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB){setNcmThemeSet(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(ncmThemeSetTotal).filter(item=>{return item.isArtist==="Y";}));}},[ncmThemeSetTotal,selectedThemeCategory,mainTabValue]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setNcmColorSet(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(ncmColorSetTotal).filter(item=>{return item.type===selectedColorCategory;}));},[ncmColorSetTotal,selectedColorCategory]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setNowPlayingState({state:(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)+"",music:getCurrentSongInfo()});},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState,mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playIndex]);//Adjust animation orientation
const[isLandscapeMode,setIsLandScapeMode]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const setOrientation=()=>{if(window.innerWidth>window.innerHeight){setIsLandScapeMode(true);}else{setIsLandScapeMode(false);}};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setOrientation();window.addEventListener("resize",setOrientation);window.addEventListener("orientationchange",setOrientation);return()=>{window.removeEventListener("resize",setOrientation);window.removeEventListener("orientationchange",setOrientation);};},[]);const cancel_time=()=>{setLightTimeInfoT({...lightTimeInfo});toggleContinueTimeBs();};const confirm_time=()=>{setLightTimeInfo({...lightTimeInfoT});let hourMin=Number(lightTimeInfoT.hour)*60;let min=Number(lightTimeInfoT.min);let total=Math.floor(hourMin+min);let hourText=lightTimeInfoT.hour<10?"0"+lightTimeInfoT.hour:lightTimeInfoT.hour;let minText=lightTimeInfoT.min<10?"0"+lightTimeInfoT.min:lightTimeInfoT.min;sendColorTime(total);toggleContinueTimeBs();wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_24,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_24,{duration_time:hourText+":"+minText}));};const callback_time=(e,v)=>{setLightTimeInfoT({...lightTimeInfoT,[v.name]:v.value});};const getConfirmDisable=()=>{const col1NotChanged=lightTimeInfo.hour===lightTimeInfoT.hour;const col2NotChanged=lightTimeInfo.min===lightTimeInfoT.min;return col1NotChanged&&col2NotChanged;};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setLightTimeInfoT({...lightTimeInfo});},[lightTimeInfo]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{if(lightTimeInfoT.hour===0){if(lightTimeInfoT.min<5){setLightTimeInfoT({...lightTimeInfoT,min:5});}}else if(lightTimeInfoT.hour===3){setLightTimeInfoT({...lightTimeInfoT,min:0});}},[lightTimeInfoT.hour]);const setDurationTime=()=>{let timeListObj=[["hour",t("@CP_TERM_TIME_2_W")],["min",t("@CP_TERM_MINUTE_W")]];let timeList=[];timeListObj.map(targetKey=>{let timeObj={};timeObj.name=targetKey[0];timeObj.unit=targetKey[1];if(timeObj.name==="hour"){timeObj.list=[{index:1,value:0,label:t("0")},{index:2,value:1,label:t("1")},{index:3,value:2,label:t("2")},{index:4,value:3,label:t("3")}];}else{timeObj.list=generateMinutsArr(lightTimeInfoT.hour,3);}timeList.push(timeObj);});return timeList;};const goArtistInfo=()=>{var _carpetModel$door1Col11;//console.debug("goNickNameEdit()");
carpet.go("GRP_NCM01_Color/artistInfo",{productId:productId,artistId:((_carpetModel$door1Col11=carpetModel.door1ColorId)===null||_carpetModel$door1Col11===void 0?void 0:_carpetModel$door1Col11.value)+""},undefined,"001");};const goAddThemeOrColor=type=>{//console.debug("goNickNameEdit()");
if(type==="myTheme"){carpet.go("GRP_NCM01_Color/myThemeAdd",{productId:productId},undefined,"001");}else{carpet.go("GRP_NCM01_Color/myColorAdd",{productId:productId,selectedDoorId:selectedDoorId},undefined,"001");}};const ncmChangeNameMyThemeMyColor=(selectedEditItem,editName)=>{let param={deviceId:productId,colorType:selectedEditItem.category,colorId:selectedEditItem.id,name:editName};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"ncmChangeNameMyThemeMyColor",undefined,param,true,false).then(res=>{fromDelete=true;if((res===null||res===void 0?void 0:res.valueStatus)==="normal"){init();}});};const placeParisColorAll=function(){let sendPartyModeOff=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;setSelectedThemeId(null);const cmd="setColor";const cmd70="setColor70";const cmd2="setColorId";let vtParam={ctrlTarget:[],reqDevType:"APP",productType:"NORMAL",vtData:{}};// 썬셋 블루
const UpperColor=ncmColorSetTotal.find(_item=>{return _item.id==="33";});// 썬셋 레드
const LowerColor=ncmColorSetTotal.find(_item=>{return _item.id==="34";});for(let idx=0;idx<ncmDoors.length;idx++){const door=ncmDoors[idx];const key="DOOR_"+door.doorId;const targetColor=idx<2?UpperColor:LowerColor;vtParam.ctrlTarget.push(key);vtParam.vtData[key]=[// 100%
{cmd:cmd,type:"ABSOLUTE",value:targetColor.code[idx].colorCode,roomType:"NONE"},// 70%
{cmd:cmd70,type:"ABSOLUTE",value:targetColor.code[idx].color70,roomType:"NONE"},// color Id
{cmd:cmd2,type:"ABSOLUTE",value:targetColor.id,roomType:"NONE"}];}if(sendPartyModeOff){vtParam.ctrlTarget.push("DOOR_ALL");vtParam.vtData["DOOR_ALL"]=[{cmd:"musicLight",type:"ABSOLUTE",value:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF,roomType:"NONE"}];}carpet.sendVtControl(vtParam,true,undefined,true);};const ncmDeleteMyThemeMyColor=selectedEditItem=>{var _carpetModel$door1Col12;fromDelete=true;let param={deviceId:productId};param.item=[{colorType:selectedEditItem.category,colorId:selectedEditItem.id}];// 파리의 노을 컬러값
const placeParisTheme=ncmThemeSetTotal.find(item=>{return item.id==="7";});// 선택된 테마 삭제시 > 파리의 노을로 변경
if(isThemeMode&&(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col12=carpetModel.door1ColorId)===null||_carpetModel$door1Col12===void 0?void 0:_carpetModel$door1Col12.value)+""===selectedEditItem.id&&selectedEditItem.category==="MyTheme"){fromDelete=false;// 파티모드 켜져있으면, 파티모드 꺼줌??
placeParisColorAll(isMusicCollectionOn&&isPartyModeOn);}// 선택된 마이 컬러 삭제시 > 해당 문만 파리의 노을 컬러로 변경
if(!isThemeMode&&selectedEditItem.category==="MyColor"){let selectedMyColorDoor=undefined;selectedMyColorDoor=Object.keys(currentDoorRGB).find(key=>currentDoorRGB[key].id===selectedEditItem.id);if(typeof selectedMyColorDoor!=="undefined"){var _placeParisTheme$code2;let colorCategory="";if(selectedMyColorDoor==="bl"||selectedMyColorDoor==="br"){colorCategory="Lower";}else{colorCategory="Upper";}let doorIdx=0;switch(selectedMyColorDoor){case"tl":{doorIdx=0;break;}case"tr":{doorIdx=1;break;}case"bl":{doorIdx=2;break;}case"br":{doorIdx=3;break;}}const appColor=(_placeParisTheme$code2=placeParisTheme.code[doorIdx])===null||_placeParisTheme$code2===void 0?void 0:_placeParisTheme$code2.appColor;const placeParisColor=ncmColorSetTotal.find(_item=>{var _item$code$doorIdx;return _item.category===colorCategory&&((_item$code$doorIdx=_item.code[doorIdx])===null||_item$code$doorIdx===void 0?void 0:_item$code$doorIdx.appColor)===appColor;});fromDelete=false;onClickColor(placeParisColor,"",isMusicCollectionOn&&isPartyModeOn);}}wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"ncmDeleteMyThemeMyColor",undefined,param,true,false).then(res=>{if((res===null||res===void 0?void 0:res.valueStatus)==="normal"){init();}});};const onClickBs=(cmd,selectedEditItem,editName)=>{if(cmd==="DELETE"){ncmDeleteMyThemeMyColor(selectedEditItem);}else{ncmChangeNameMyThemeMyColor(selectedEditItem,editName);}};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$ncmMode3,_carpetModel$colorCol9;const isEnable=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode3=carpetModel.ncmMode)===null||_carpetModel$ncmMode3===void 0?void 0:_carpetModel$ncmMode3.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON&&!isDisconnected;const isColorCollectionOn=((_carpetModel$colorCol9=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol9===void 0?void 0:_carpetModel$colorCol9.value)==="ON";if(continueTimeBs&&(!isEnable||!isColorCollectionOn)){cancel_time();}},[isDisconnected,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode4=carpetModel.ncmMode)===null||_carpetModel$ncmMode4===void 0?void 0:_carpetModel$ncmMode4.value,(_carpetModel$colorCol10=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol10===void 0?void 0:_carpetModel$colorCol10.value,continueTimeBs]);// 컬러컬렉션 안내 팝업 , 컬러모드 ON -> OFF 시 작동
const[selectedOption,setSelectedOption]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const checkedDontShowColorCollectionOnFlag=(_product$config=product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.PRODUCT_CONFIG.KEY_COLOR_COLLECTION_ON_POPUP_GUIDE_DONT_SHOW_AGAIN))!==null&&_product$config!==void 0?_product$config:false;const[dontShowColorCollectionOnFlag,setDontShowColorCollectionOnFlag]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(checkedDontShowColorCollectionOnFlag);const[isShowColorCollectionOnPopUp,setIsShowColorCollectionOnPopUp]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const onChangePopupDontSHowAgainColorCollectionOnFlag=e=>{setDontShowColorCollectionOnFlag(e.target.checked);};const onConfirmPopupDontShowAgainColorCollection=()=>{sendBasicVtControl("colorCollectionOnOff",selectedOption);if(!dontShowColorCollectionOnFlag){return;}product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.PRODUCT_CONFIG.KEY_COLOR_COLLECTION_ON_POPUP_GUIDE_DONT_SHOW_AGAIN,dontShowColorCollectionOnFlag);};//end
return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[isLandscapeMode?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t("@CP_NCM_TERM_COLOR_COLLECTION_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(ContentSubList,{style:{width:"100%",webkitOverflowScrolling:"touch",overflow:"scroll",height:"calc(100vh - 56px)"},disabled:!isEnable(),"aria-hidden":!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",overflow:"hidden",flexDirection:"row",alignItems:"flex-start"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column",float:"left",overflow:"scroll",height:"calc(100vh - 68px)",justifyContent:"flex-start"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:[mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB&&isThemeMode&&typeof _lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_INFO[((_carpetModel$door1Col13=carpetModel.door1ColorId)===null||_carpetModel$door1Col13===void 0?void 0:_carpetModel$door1Col13.value)+""]!=="undefined"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{zIndex:"5",position:"absolute",top:"88px",left:"20px",width:"80px",minHeight:"190px"},direction:"column",align:"flex-start",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A08",Weight:"Bold",maxLine:2,disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:t(_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_INFO[((_carpetModel$door1Col14=carpetModel.door1ColorId)===null||_carpetModel$door1Col14===void 0?void 0:_carpetModel$door1Col14.value)+""].title)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A08",maxLine:2,disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:t(_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_INFO[((_carpetModel$door1Col15=carpetModel.door1ColorId)===null||_carpetModel$door1Col15===void 0?void 0:_carpetModel$door1Col15.value)+""].description)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.LabelButton,{tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.NCM_GO_ARTIST_INFO_BTN+"_landscape",style:{marginTop:11},onClick:goArtistInfo,disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),type:"arrow",children:t("@CP_IFTTT_SEE_MORE_W")})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},role:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB?"":"text",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_15__["default"],{disabled:!isColorCollectionOn()||!isEnable(),isOn:isNCMColorOn(),currentDoorRGB:currentDoorRGB,doorColorList:doorColorList,backgroundImg:getBackgroundImg(),isThemeMode:isThemeMode,onClickDoor:onClickDoor,ncmDoors:ncmDoors,canSelectDoor:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB&&selectedColorCategory!=="MyTheme",selectedDoorId:selectedDoorId,useBackground:false,refType:refType,product:product,knockOnSwitchOn:isSupportDoorKnockOn?(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmKnock=carpetModel.ncmKnockOnOffEnable)===null||_carpetModel$ncmKnock===void 0?void 0:_carpetModel$ncmKnock.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_SET:true,isMyCollection:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB&&selectedColorCategory!=="MyTheme",marginBottom:8})}),(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.isShow)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{justify:"center",style:{zIndex:"5",position:"absolute",top:"24px",right:"24px",width:"32px",height:"32px",borderRadius:"100%",backgroundColor:(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF?theme.colorSet.surface:theme.colorSet.main_variant,border:`1px solid ${(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF?theme.colorSet.outline:theme.colorSet.main_variant}`},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{color:(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF?theme.colorSet.on_surface:"#ffffff",disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),icon:(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF?wrm_GRM_resource_common_image_moodLighting_ic_music_off_fill_png__WEBPACK_IMPORTED_MODULE_14__["default"]:wrm_GRM_resource_common_image_moodLighting_ic_music_png__WEBPACK_IMPORTED_MODULE_13__["default"],"aria-label":t("@CP_NCM_TERM_SOUND_ICON_W")+" "+t(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.label),size:24,onClick:()=>{const isOnToggle=(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF;soundIconStatus.onClick(isOnToggle);}})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),direction:"column",align:"center",justify:"center",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A07",disabled:!isColorCollectionOn()||!isEnable(),align:"center",style:{wordBreak:"keep-all"},children:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB||selectedColorCategory==="MyTheme"?t("@CP_NCM_THEME_DESC_S"):mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB?t("@CP_NCM_COLOR_DESC_S"):isPartyModeOn&&isMusicCollectionOn?t("@RE_UX35_NCM_ART_DESC_2_S"):t("@RE_UX35_NCM_ART_DESC_S")})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column",float:"right",overflow:"scroll",height:"calc(100vh - 68px)",justifyContent:"flex-start"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ScrollContainer,{style:{flexGrow:1,width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",padding:"0px 20px 20px 20px"},direction:"column",align:"flex-start",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_component_common_StyledCard__WEBPACK_IMPORTED_MODULE_16__["default"],{disabled:!isEnable(),style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:"master1",disabled:!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{id:"ncm_colorcollection_color_mode_switch",tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SWITCH_BTN+"ncm01_colorcollection_color_mode_switch_landscape",checked:isColorCollectionOn(),onChange:e=>{sendColorCollectionOnOff(e.target.checked);setIsColorOn(e.target.checked);if(!checkedDontShowColorCollectionOnFlag&&!e.target.checked){setIsShowColorCollectionOnPopUp(true);setSelectedOption("OFF");}else{sendBasicVtControl("colorCollectionOnOff","ON");}wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_12,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_12,{is_toggle_on:e.target.checked}));// if (e.target.checked)
},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_NCM_TERM_COLOR_COLLECTION_W")})})})})}),isSupportArtist?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.SegControlTabbar,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),selected:mainTab,onTabClick:clickTab,type:"block",style:{marginTop:"28px",marginBottom:"20px",width:"100%",opacity:!isColorCollectionOn()||!isEnable()?0.35:1},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tab,{name:"THEME",newBadge:isShowPantone23VivaMagentaThemeNewBadge,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},justify:"center",align:"flex-start",children:t("@CP_NCM_TERM_THEME_W")})},"THEME"),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tab,{name:"ARTIST",newBadge:isShowArtistNewBadge,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},justify:"center",align:"flex-start",children:t("@RE_UX35_NCM_TERM_ARTIST_COLLECTION_W")})},"ARTIST"),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tab,{name:"COLOR",newBadge:isShowPantone23VivaMagentaColorNewBadge||isShowMyColorNewBadge||isShowMyThemeNewBadge,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},justify:"center",align:"flex-start",children:t("@CP_NCM_TERM_MY_COLLECTION_W")})},"COLOR")]}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.SegControlTabbar,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),selected:mainTab,onTabClick:clickTab,type:"block",style:{marginTop:"28px",marginBottom:"20px",width:"100%",opacity:!isColorCollectionOn()||!isEnable()?0.35:1},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tab,{name:"THEME",newBadge:isShowPantone23VivaMagentaThemeNewBadge,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},justify:"center",align:"flex-start",children:t("@CP_NCM_TERM_THEME_W")})},"THEME"),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tab,{name:"COLOR",newBadge:isShowPantone23VivaMagentaColorNewBadge||isShowMyColorNewBadge||isShowMyThemeNewBadge,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},justify:"center",align:"flex-start",children:t("@CP_NCM_TERM_MY_COLLECTION_W")})},"COLOR")]}),mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.SlideItem,{justify:"space-between",disabled:!isColorCollectionOn()||!isEnable(),style:{width:"100%"},"aria-hidden":!isColorCollectionOn()||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(wrm_GRM_component_GRP_NcmFilterBox__WEBPACK_IMPORTED_MODULE_5__["default"],{disabled:!isColorCollectionOn()||!isEnable(),...newProps,...badgeProps}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_NcmSelector_js__WEBPACK_IMPORTED_MODULE_22__["default"],{type:"theme",content:ncmThemeSet,isShort:true,onClick:onClickThemeOrColor,onClickMore:onClickMore,selectedIdx:selectedTheme+"",ncmInfo:ncmInfo,disabled:!isColorCollectionOn()||!isEnable(),...badgeProps})]}),mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SlideItem,{justify:"space-between",disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_NcmSelector_js__WEBPACK_IMPORTED_MODULE_22__["default"],{type:"theme",content:ncmThemeSet,isShort:true,onClick:onClickThemeOrColor,onClickMore:onClickMore,selectedIdx:selectedTheme+"",ncmInfo:ncmInfo,disabled:!isColorCollectionOn()||!isEnable(),...badgeProps})}),mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.SlideItem,{justify:"space-between",disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),style:{width:"100%"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(wrm_GRM_component_GRP_NcmFilterBox__WEBPACK_IMPORTED_MODULE_5__["default"],{isShowMyTheme:isSupportMyTheme,disabled:!isColorCollectionOn()||!isEnable(),...newProps,...badgeProps}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_NcmSelector_js__WEBPACK_IMPORTED_MODULE_22__["default"],{onClickBs:onClickBs,goAddThemeOrColor:goAddThemeOrColor,isShowAddMyTheme:selectedColorCategory==="MyTheme"&&isSupportMyTheme,isShowAddMyColor:selectedColorCategory==="MyColor"&&isSupportMyColor,type:selectedColorCategory!=="MyTheme"?"color":"theme",content:selectedColorCategory!=="MyTheme"?ncmColorSet:ncmMyThemeSet,myColorContent:ncmMyColorSet,isShort:true,onClick:onClickThemeOrColor,onClickMore:onClickMore,selectedIdx:selectedColorCategory==="MyTheme"?selectedTheme+"":selectedColor+"",selectedDoorId:selectedDoorId,ncmInfo:ncmInfo,disabled:!isColorCollectionOn()||!isEnable(),...badgeProps})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_component_common_StyledCard__WEBPACK_IMPORTED_MODULE_16__["default"],{disabled:!isColorCollectionOn()||!isEnable(),style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{disabled:!isColorCollectionOn()||!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.NCM_DURATION_CARD_TITLE,navNext:true,onClick:()=>{toggleContinueTimeBs();//sendColorTime(1);
},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_NCM_LED_DURATION_TIME_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{color:theme.colorSet.main_variant2,children:t(durationInfo)})]})})})}),libs__WEBPACK_IMPORTED_MODULE_1__.Environment.getCountryCode()==="KR"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.GuideTextContents,{listType:"disc",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.GuideText,{color:theme.colorSet.on_surface_variant,textCode:"Type_A07",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX50_NCM_DISCLAIMER_1_S",{$0:t("@CP_NCM_TERM_COLOR_ALARM_W"),$1:t("@CP_NCM_TERM_NIGHT_MOOD_ALARM_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.GuideText,{color:theme.colorSet.on_surface_variant,textCode:"Type_A07",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX50_NCM_DISCLAIMER_2_S",{$0:t("@CP_NCM_TERM_NIGHT_MOOD_ALARM_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.GuideText,{color:theme.colorSet.on_surface_variant,textCode:"Type_A07",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX50_NCM_DISCLAIMER_3_S")})]})})]})})})]})})})]})}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t("@CP_NCM_TERM_COLOR_COLLECTION_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(ContentSubList,{style:{width:"100%",webkitOverflowScrolling:"touch",overflow:"scroll"},disabled:!isEnable(),"aria-hidden":!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",overflow:"hidden",flexDirection:"column",alignItems:"baseline"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column",overflow:"scroll"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_component_common_StyledCard__WEBPACK_IMPORTED_MODULE_16__["default"],{disabled:!isEnable(),style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:"master2",disabled:!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{id:"ncm_colorcollection_color_mode_switch",tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SWITCH_BTN+"ncm01_colorcollection_color_mode_switch",checked:isColorCollectionOn(),onChange:e=>{sendColorCollectionOnOff(e.target.checked);setIsColorOn(e.target.checked);if(!checkedDontShowColorCollectionOnFlag&&!e.target.checked){setIsShowColorCollectionOnPopUp(true);setSelectedOption("OFF");}else{sendBasicVtControl("colorCollectionOnOff","ON");}wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_12,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_12,{is_toggle_on:e.target.checked}));},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_NCM_TERM_COLOR_COLLECTION_W")})})})})}),mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB&&isThemeMode&&typeof _lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_INFO[((_carpetModel$door1Col16=carpetModel.door1ColorId)===null||_carpetModel$door1Col16===void 0?void 0:_carpetModel$door1Col16.value)+""]!=="undefined"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{zIndex:"5",position:"absolute",top:"88px",left:"20px",width:"80px",minHeight:"190px"},direction:"column",align:"flex-start",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A09",weight:"Bold",maxLine:2,disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:t(_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_INFO[((_carpetModel$door1Col17=carpetModel.door1ColorId)===null||_carpetModel$door1Col17===void 0?void 0:_carpetModel$door1Col17.value)+""].title)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A08",maxLine:2,disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:t(_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_INFO[((_carpetModel$door1Col18=carpetModel.door1ColorId)===null||_carpetModel$door1Col18===void 0?void 0:_carpetModel$door1Col18.value)+""].description)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.LabelButton,{tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.NCM_GO_ARTIST_INFO_BTN,style:{marginTop:11},onClick:goArtistInfo,disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),type:"arrow",children:t("@CP_IFTTT_SEE_MORE_W")})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},role:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB?"":"text",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_15__["default"],{disabled:!isColorCollectionOn()||!isEnable(),isOn:isNCMColorOn(),currentDoorRGB:currentDoorRGB,doorColorList:doorColorList,backgroundImg:getBackgroundImg(),isThemeMode:isThemeMode,onClickDoor:onClickDoor,ncmDoors:ncmDoors,canSelectDoor:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB&&selectedColorCategory!=="MyTheme",selectedDoorId:selectedDoorId,useBackground:false,refType:refType,style:{width:"100%"},product:product,isSoundIconShow:soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.isShow,knockOnSwitchOn:isSupportDoorKnockOn?(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmKnock2=carpetModel.ncmKnockOnOffEnable)===null||_carpetModel$ncmKnock2===void 0?void 0:_carpetModel$ncmKnock2.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_SET:true,isMyCollection:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB&&selectedColorCategory!=="MyTheme"})}),(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.isShow)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{justify:"center",style:{zIndex:"5",position:"absolute",top:"92px",right:"24px",height:"32px",width:"32px",backgroundColor:(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF?theme.colorSet.surface:theme.colorSet.main_variant,border:`1px solid ${(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF?theme.colorSet.outline:theme.colorSet.main_variant}`,borderRadius:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{color:(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF?theme.colorSet.on_surface:"#ffffff",disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),icon:(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF?wrm_GRM_resource_common_image_moodLighting_ic_music_off_fill_png__WEBPACK_IMPORTED_MODULE_14__["default"]:wrm_GRM_resource_common_image_moodLighting_ic_music_png__WEBPACK_IMPORTED_MODULE_13__["default"],"aria-label":t("@CP_NCM_TERM_SOUND_ICON_W")+" "+t(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.label),size:24,onClick:()=>{const isOnToggle=(soundIconStatus===null||soundIconStatus===void 0?void 0:soundIconStatus.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_OFF;soundIconStatus.onClick(isOnToggle);}})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column",overflow:"scroll",maxHeight:"calc(100vh - 320px - 56px)"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ScrollContainer,{style:{flexGrow:1,width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",align:"center",justify:"center",style:{width:"100%"},"aria-hidden":!isColorCollectionOn()||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{disabled:!isColorCollectionOn()||!isEnable(),direction:"column",align:"center",justify:"center",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A07",disabled:!isColorCollectionOn()||!isEnable(),align:"center",style:{wordBreak:"keep-all"},children:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB||selectedColorCategory==="MyTheme"?t("@CP_NCM_THEME_DESC_S"):mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB?t("@CP_NCM_COLOR_DESC_S"):isPartyModeOn&&isMusicCollectionOn?t("@RE_UX35_NCM_ART_DESC_2_S"):t("@RE_UX35_NCM_ART_DESC_S")})}),isSupportArtist?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.SegControlTabbar,{selected:mainTab,onTabClick:clickTab,type:"block",style:{marginTop:"28px",marginBottom:"20px",width:"100%",opacity:!isColorCollectionOn()||!isEnable()?0.35:1},disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tab,{name:"THEME",newBadge:isShowPantone23VivaMagentaThemeNewBadge,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},justify:"center",align:"flex-start",children:t("@CP_NCM_TERM_THEME_W")})},"THEME"),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tab,{name:"ARTIST",newBadge:isShowArtistNewBadge,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},justify:"center",align:"flex-start",children:t("@RE_UX35_NCM_TERM_ARTIST_COLLECTION_W")})},"ARTIST"),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tab,{name:"COLOR",newBadge:isShowPantone23VivaMagentaColorNewBadge||isShowMyColorNewBadge||isShowMyThemeNewBadge,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},justify:"center",align:"flex-start",children:t("@CP_NCM_TERM_MY_COLLECTION_W")})},"COLOR")]}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.SegControlTabbar,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),selected:mainTab,onTabClick:clickTab,type:"block",style:{marginTop:"28px",marginBottom:"20px",width:"100%",opacity:!isColorCollectionOn()||!isEnable()?0.35:1},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tab,{name:"THEME",newBadge:isShowPantone23VivaMagentaThemeNewBadge,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},justify:"center",align:"flex-start",children:t("@CP_NCM_TERM_THEME_W")})},"THEME"),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Tab,{name:"COLOR",newBadge:isShowPantone23VivaMagentaColorNewBadge||isShowMyColorNewBadge||isShowMyThemeNewBadge,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},justify:"center",align:"flex-start",children:t("@CP_NCM_TERM_MY_COLLECTION_W")})},"COLOR")]}),mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.SlideItem,{justify:"space-between",disabled:!isColorCollectionOn()||!isEnable(),style:{width:"100%"},"aria-hidden":!isColorCollectionOn()||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(wrm_GRM_component_GRP_NcmFilterBox__WEBPACK_IMPORTED_MODULE_5__["default"],{disabled:!isColorCollectionOn()||!isEnable(),...newProps,...badgeProps}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_NcmSelector_js__WEBPACK_IMPORTED_MODULE_22__["default"],{type:"theme",content:ncmThemeSet,isShort:true,onClick:onClickThemeOrColor,onClickMore:onClickMore,selectedIdx:selectedTheme+"",ncmInfo:ncmInfo,disabled:!isColorCollectionOn()||!isEnable(),...badgeProps})]}),mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.ARTIST_TAB&&isSupportArtist&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SlideItem,{justify:"space-between",disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_NcmSelector_js__WEBPACK_IMPORTED_MODULE_22__["default"],{type:"theme",content:ncmThemeSet,isShort:true,onClick:onClickThemeOrColor,onClickMore:onClickMore,selectedIdx:selectedTheme+"",ncmInfo:ncmInfo,disabled:!isColorCollectionOn()||!isEnable(),...badgeProps})}),mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.COLOR_TAB&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.SlideItem,{justify:"space-between",disabled:!isColorCollectionOn()||!isEnable(),style:{width:"100%"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(wrm_GRM_component_GRP_NcmFilterBox__WEBPACK_IMPORTED_MODULE_5__["default"],{isShowMyTheme:isSupportMyTheme,disabled:!isColorCollectionOn()||!isEnable(),...newProps,...badgeProps}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_NcmSelector_js__WEBPACK_IMPORTED_MODULE_22__["default"],{onClickBs:onClickBs,goAddThemeOrColor:goAddThemeOrColor,isShowAddMyTheme:selectedColorCategory==="MyTheme"&&isSupportMyTheme,isShowAddMyColor:selectedColorCategory==="MyColor"&&isSupportMyColor,type:selectedColorCategory!=="MyTheme"?"color":"theme",content:selectedColorCategory!=="MyTheme"?ncmColorSet:ncmMyThemeSet,myColorContent:ncmMyColorSet,isShort:true,onClick:onClickThemeOrColor,onClickMore:onClickMore,selectedIdx:selectedColorCategory==="MyTheme"?selectedTheme+"":selectedColor+"",selectedDoorId:selectedDoorId,ncmInfo:ncmInfo,disabled:!isColorCollectionOn()||!isEnable(),...badgeProps})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_component_common_StyledCard__WEBPACK_IMPORTED_MODULE_16__["default"],{disabled:!isColorCollectionOn()||!isEnable(),style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{disabled:!isColorCollectionOn()||!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.NCM_DURATION_CARD_TITLE,navNext:true,onClick:()=>{toggleContinueTimeBs();//sendColorTime(1);
},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_NCM_LED_DURATION_TIME_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{color:theme.colorSet.main_variant2,children:t(durationInfo)})]})})})}),libs__WEBPACK_IMPORTED_MODULE_1__.Environment.getCountryCode()==="KR"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.GuideTextContents,{listType:"disc",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.GuideText,{color:theme.colorSet.on_surface_variant,textCode:"Type_A07",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX50_NCM_DISCLAIMER_1_S",{$0:t("@CP_NCM_TERM_COLOR_ALARM_W"),$1:t("@CP_NCM_TERM_NIGHT_MOOD_ALARM_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.GuideText,{color:theme.colorSet.on_surface_variant,textCode:"Type_A07",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX50_NCM_DISCLAIMER_2_S",{$0:t("@CP_NCM_TERM_NIGHT_MOOD_ALARM_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.GuideText,{color:theme.colorSet.on_surface_variant,textCode:"Type_A07",disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX50_NCM_DISCLAIMER_3_S")})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXXL,{})]})})})]})})})]})}),moreBsToggled&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheet,{isShow:moreBsToggled,isFixed:true,onBackKeyPress:toggleMoreBottomSheet,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetHeader,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetBody,{children:mainTabValue===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_21__.ncmConstant.THEME_TAB?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_NcmSelector_js__WEBPACK_IMPORTED_MODULE_22__["default"],{type:"theme",content:ncmThemeSet,isShort:false,onClick:onClickThemeOrColor,onClickMore:onClickMore,selectedIdx:selectedTheme+"",...badgeProps}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_NcmSelector_js__WEBPACK_IMPORTED_MODULE_22__["default"],{type:"color",content:ncmColorSet,isShort:false,onClick:onClickThemeOrColor,onClickMore:onClickMore,selectedIdx:selectedColor+"",...badgeProps})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetFooter,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{type:"command",align:"stretch",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{type:"command",weight:"Bold",onClick:()=>{onBsCancel("time");},children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{type:"command",weight:"Bold",onClick:()=>{onBsCancel("time");},children:t("@CP_CONFIRM_W")})]})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheet,{isShow:continueTimeBs,isFixed:true,onBackKeyPress:cancel_time,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetHeader,{delegateFocus:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{align:"baseline",direction:"column",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A12",weight:"Bold",color:theme.colorSet.on_background,tabIndex:"0",role:"heading","aria-level":"1",children:t("@CP_NCM_LED_DURATION_TIME_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXXS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{maxLine:2,textCode:"Type_A06",color:theme.colorSet.on_surface_variant,"aria-label":t(DURATIONDESC_label),role:"text",children:t("@CP_NCM_LED_DURATION_DESC_W")})]})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetBody,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Picker,{callback:callback_time,children:(_setDurationTime=setDurationTime())===null||_setDurationTime===void 0?void 0:_setDurationTime.map((item,idx)=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.PickerValues,{name:item.name,value:lightTimeInfoT[item.name],unit:item.unit,children:item.list.map(data=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.PickerValue,{value:data.value,children:data.label},data.label);})},idx);})})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetFooter,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{align:"stretch",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",type:"tertiary_a",onClick:cancel_time,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.CANEL_BTN+"ncm01_duration_bs_cancel",children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{type:"primary",onClick:confirm_time,disabled:getConfirmDisable(),tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.CONFIRM_BTN+"ncm01_duration_bs_confirm",children:t("@CP_CONFIRM_W")})]})})]},"NCM_LED_DURATION_TIME"),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowColorCollectionOnPopUp,onBackKeyPress:()=>{// setIsShowColorCollectionOnPopUp(false);
},btns:[{event:()=>{onConfirmPopupDontShowAgainColorCollection();setIsShowColorCollectionOnPopUp(false);},label:t("@CP_CONFIRM_W")}],children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX35_POPUP_COLOR_COLLECTION_GUIDE_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Checkbox,{onChange:onChangePopupDontSHowAgainColorCollectionOnFlag,checked:dontShowColorCollectionOnFlag,name:"dontShowAgainCOLOR_COLLECTION_ON",id:"dontShowAgainCOLOR_COLLECTION_ON",style:{marginTop:10},children:t("@CP_UX30_DO_NOT_SHOW_AGAIN")})]})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_NCM01_Color);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM01_Color/myColorAdd.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var libs_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/libs/util/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_component_common_InputBoxListItemComponent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/component/common/InputBoxListItemComponent.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_screen_GRP_GRP_NCM01_Color_customColorPalette__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/screen/GRP/GRP_NCM01_Color/customColorPalette.js");
/* harmony import */ var _component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/component/GRP/NcmDoorColor.js");
/* harmony import */ var _lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/lib/GRM/uiUtility.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__);
/*
문짝 배치 
---------
| 1 | 2 |
---------
| 3 | 4 |
---------
*/const ContentSubList=(0,styled_components__WEBPACK_IMPORTED_MODULE_18__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({})`
    ${""/* width: 100%; */}
    ${""/* height: calc(100vh - 56px); */}
    ${""/* overflow: scroll; */}
    ${""/* -webkit-overflow-scrolling: touch; */}
`;const TitleText=(0,styled_components__WEBPACK_IMPORTED_MODULE_18__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Text).attrs(_ref=>{let{theme}=_ref;return{textCode:"Type_A08",weight:"Medium",color:theme.colorSet.on_surface_variant};})``;const AsteriskText=(0,styled_components__WEBPACK_IMPORTED_MODULE_18__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Text).attrs(_ref2=>{let{theme}=_ref2;return{textCode:"Type_A08",color:theme.colorSet.error};})`
    padding-left: 6px;
    text-align: top;
`;const GRP_NCM01_MyColorAdd=()=>{var _carpetModel$colorTyp,_product$modelJson$Co,_product$modelJson$Co2,_carpetModel$door1Col3,_carpetModel$door2Col2,_carpetModel$door3Col2,_carpetModel$door4Col2;// Get product by product ID
const{productId,selectedDoorId}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_15__.useCarpetGRP)(product,`GRP_NCM01_Color`,false,false);// eslint-disable-next-line
const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const isThemeMode=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp=carpetModel.colorType)===null||_carpetModel$colorTyp===void 0?void 0:_carpetModel$colorTyp.value)==="THEME";const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const refType=((_product$modelJson$Co=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co===void 0?void 0:_product$modelJson$Co.refType)||"DEFAULT";const[ncmColorSetTotal,setNcmColorSetTotal]=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmColorInfoAtom);const[ncmThemeSetTotal,setNcmThemeSetTotal]=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmThemeInfoAtom);const backgroundImg=(_product$modelJson$Co2=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co2===void 0?void 0:_product$modelJson$Co2.backgroundImg;const ncmInfo=product.modelJson.Config.ncmInfo;const ncmDoors=ncmInfo===null||ncmInfo===void 0?void 0:ncmInfo.doors;const[selectedCustomColorId,setSelectedCustomColorId]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)("");// 개별Color 적용시 각 도어의 현재 컬러RBD
const[currentDoorRGB,setCurrentDoorRGB]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)({});// 사용자 컬러
const[userColorOrigin,setUserColorOrigin]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)({1:{},2:{},3:{},4:{}});(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{if(isThemeMode){var _themeColorSet$code7,_themeColorSet$code7$,_themeColorSet$code8,_themeColorSet$code8$,_themeColorSet$code9,_themeColorSet$code9$,_themeColorSet$code10,_themeColorSet$code11;const themeColorSet=ncmThemeSetTotal.find(item=>{var _carpetModel$door1Col;return item.id===((_carpetModel$door1Col=carpetModel.door1ColorId)===null||_carpetModel$door1Col===void 0?void 0:_carpetModel$door1Col.value)+"";});const getCategory=(colorType,position)=>{let type="";if(colorType==="Default"||typeof colorType==="undefined"){type=position;// Upper, Lower
}else{type=colorType;// MyColor
}return type;};const getColorItem=(doorIdx,category)=>{var _userColorOrigin,_themeColorSet$code5,_themeColorSet$code5$;// category = "Upper" or "Lower" or "MyColor"
let colorInfo=ncmColorSetTotal.find(_item=>{var _themeColorSet$code,_themeColorSet$code$d;// 마이컬러의 경우 컬러 id도 체크해야함. 동일한 컬러로 여러개 등록되어있을 수 있음.
if(typeof(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code=themeColorSet.code)===null||_themeColorSet$code===void 0?void 0:(_themeColorSet$code$d=_themeColorSet$code[doorIdx])===null||_themeColorSet$code$d===void 0?void 0:_themeColorSet$code$d.myColorId)!=="undefined"){var _item$code$doorIdx,_item$code$,_themeColorSet$code2,_themeColorSet$code2$,_themeColorSet$code3,_themeColorSet$code3$;return _item.category===category&&(((_item$code$doorIdx=_item.code[doorIdx])===null||_item$code$doorIdx===void 0?void 0:_item$code$doorIdx.appColor)||((_item$code$=_item.code[0])===null||_item$code$===void 0?void 0:_item$code$.appColor))===(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code2=themeColorSet.code)===null||_themeColorSet$code2===void 0?void 0:(_themeColorSet$code2$=_themeColorSet$code2[doorIdx])===null||_themeColorSet$code2$===void 0?void 0:_themeColorSet$code2$.appColor)&&_item.id===(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code3=themeColorSet.code)===null||_themeColorSet$code3===void 0?void 0:(_themeColorSet$code3$=_themeColorSet$code3[doorIdx])===null||_themeColorSet$code3$===void 0?void 0:_themeColorSet$code3$.myColorId);}else{var _item$code$doorIdx2,_item$code$2,_themeColorSet$code4,_themeColorSet$code4$;return _item.category===category&&(((_item$code$doorIdx2=_item.code[doorIdx])===null||_item$code$doorIdx2===void 0?void 0:_item$code$doorIdx2.appColor)||((_item$code$2=_item.code[0])===null||_item$code$2===void 0?void 0:_item$code$2.appColor))===(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code4=themeColorSet.code)===null||_themeColorSet$code4===void 0?void 0:(_themeColorSet$code4$=_themeColorSet$code4[doorIdx])===null||_themeColorSet$code4$===void 0?void 0:_themeColorSet$code4$.appColor);}});// 사용자 컬러 체크
if(typeof colorInfo==="undefined"&&(userColorOrigin===null||userColorOrigin===void 0?void 0:(_userColorOrigin=userColorOrigin[doorIdx+1+""])===null||_userColorOrigin===void 0?void 0:_userColorOrigin.id)===(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code5=themeColorSet.code)===null||_themeColorSet$code5===void 0?void 0:(_themeColorSet$code5$=_themeColorSet$code5[doorIdx])===null||_themeColorSet$code5$===void 0?void 0:_themeColorSet$code5$.myColorId)){var _themeColorSet$code6;let _userColor={...(userColorOrigin===null||userColorOrigin===void 0?void 0:userColorOrigin[doorIdx+1+""])};_userColor.code[0]=themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code6=themeColorSet.code)===null||_themeColorSet$code6===void 0?void 0:_themeColorSet$code6[doorIdx];colorInfo={..._userColor};}// 이미 삭제된 마이 컬러는 선셋 블루 or 선셋 레드로 변경
if(typeof colorInfo==="undefined"){var _placeParisTheme$code;let colorCategory="";if(doorIdx===0||doorIdx===1){colorCategory="Upper";}else{colorCategory="Lower";}// 파리의 노을 컬러값
const placeParisTheme=ncmThemeSetTotal.find(item=>{return item.id==="7";});const appColor=(_placeParisTheme$code=placeParisTheme.code[doorIdx])===null||_placeParisTheme$code===void 0?void 0:_placeParisTheme$code.appColor;const placeParisColor=ncmColorSetTotal.find(_item=>{var _item$code$doorIdx3;return _item.category===colorCategory&&((_item$code$doorIdx3=_item.code[doorIdx])===null||_item$code$doorIdx3===void 0?void 0:_item$code$doorIdx3.appColor)===appColor;});colorInfo=placeParisColor;}return colorInfo;};// myColorType
setCurrentDoorRGB({tl:getColorItem(0,getCategory(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code7=themeColorSet.code)===null||_themeColorSet$code7===void 0?void 0:(_themeColorSet$code7$=_themeColorSet$code7[0])===null||_themeColorSet$code7$===void 0?void 0:_themeColorSet$code7$.myColorType,"Upper")),tr:getColorItem(1,getCategory(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code8=themeColorSet.code)===null||_themeColorSet$code8===void 0?void 0:(_themeColorSet$code8$=_themeColorSet$code8[1])===null||_themeColorSet$code8$===void 0?void 0:_themeColorSet$code8$.myColorType,"Upper")),bl:getColorItem(2,getCategory(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code9=themeColorSet.code)===null||_themeColorSet$code9===void 0?void 0:(_themeColorSet$code9$=_themeColorSet$code9[2])===null||_themeColorSet$code9$===void 0?void 0:_themeColorSet$code9$.myColorType,"Lower")),br:getColorItem(3,getCategory(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code10=themeColorSet.code)===null||_themeColorSet$code10===void 0?void 0:(_themeColorSet$code11=_themeColorSet$code10[3])===null||_themeColorSet$code11===void 0?void 0:_themeColorSet$code11.myColorType,"Lower"))});}else{setCurrentDoorRGB({tl:ncmColorSetTotal.find(item=>{var _carpetModel$door1Col2;return item.id===((_carpetModel$door1Col2=carpetModel.door1ColorId)===null||_carpetModel$door1Col2===void 0?void 0:_carpetModel$door1Col2.value)+"";}),tr:ncmColorSetTotal.find(item=>{var _carpetModel$door2Col;return item.id===((_carpetModel$door2Col=carpetModel.door2ColorId)===null||_carpetModel$door2Col===void 0?void 0:_carpetModel$door2Col.value)+"";}),bl:ncmColorSetTotal.find(item=>{var _carpetModel$door3Col;return item.id===((_carpetModel$door3Col=carpetModel.door3ColorId)===null||_carpetModel$door3Col===void 0?void 0:_carpetModel$door3Col.value)+"";}),br:ncmColorSetTotal.find(item=>{var _carpetModel$door4Col;return item.id===((_carpetModel$door4Col=carpetModel.door4ColorId)===null||_carpetModel$door4Col===void 0?void 0:_carpetModel$door4Col.value)+"";})});}},[ncmColorSetTotal,isThemeMode,ncmThemeSetTotal,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col3=carpetModel.door1ColorId)===null||_carpetModel$door1Col3===void 0?void 0:_carpetModel$door1Col3.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door2Col2=carpetModel.door2ColorId)===null||_carpetModel$door2Col2===void 0?void 0:_carpetModel$door2Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door3Col2=carpetModel.door3ColorId)===null||_carpetModel$door3Col2===void 0?void 0:_carpetModel$door3Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door4Col2=carpetModel.door4ColorId)===null||_carpetModel$door4Col2===void 0?void 0:_carpetModel$door4Col2.value,userColorOrigin]);(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{var _currentDoorRGB$posit;let position="";switch(selectedDoorId){case"1":{position="tl";break;}case"2":{position="tr";break;}case"3":{position="bl";break;}case"4":{position="br";break;}}let fromMyColorCustumColorId=((_currentDoorRGB$posit=currentDoorRGB[position])===null||_currentDoorRGB$posit===void 0?void 0:_currentDoorRGB$posit.category)==="MyColor"?currentDoorRGB[position].code[0].customColorId:undefined;if(typeof fromMyColorCustumColorId!=="undefined"){setSelectedCustomColorId(fromMyColorCustumColorId);}if(_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_14__["default"].hasOwnPropertyCheck(currentDoorRGB===null||currentDoorRGB===void 0?void 0:currentDoorRGB[position],"customColorId")){setSelectedCustomColorId(currentDoorRGB===null||currentDoorRGB===void 0?void 0:currentDoorRGB[position].customColorId);}},[currentDoorRGB]);const onClickColor=color=>{switch(selectedDoorId){case"1":{setCurrentDoorRGB({...currentDoorRGB,tl:{...color}});break;}case"2":{setCurrentDoorRGB({...currentDoorRGB,tr:{...color}});break;}case"3":{setCurrentDoorRGB({...currentDoorRGB,bl:{...color}});break;}case"4":{setCurrentDoorRGB({...currentDoorRGB,br:{...color}});break;}}};const goBack=()=>{carpet.back("GRP_NCM01_Color",{productId:productId});};(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);carpet.registerOnBackButtonCallback(goBack);init();return()=>{carpet.unregisterOnBackButtonCallback();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);const onMonitoring=data=>{var _data$refState;console.log("onMonitoring!!!");console.log(data===null||data===void 0?void 0:(_data$refState=data.refState)===null||_data$refState===void 0?void 0:_data$refState.mediaState);setIsDisconnected(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].isDisconnected(product,data));};const onMonitoringError=data=>{console.info(data);};const init=data=>{console.info(data);// ncmColorInfo
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.fetchFeatureValue(product,"ncmColorInfo",undefined,{},true,false).then(res=>{var _res$value,_res$value$myColor,_res$value3,_res$value3$myTheme;console.info(res.value);let _ncmColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(res.value.color);let _ncmThemeSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(res.value.theme);let _ncmDefaultColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(res.value.defaultColor);_ncmColorSet=[..._ncmColorSet,..._ncmDefaultColorSet];if((res===null||res===void 0?void 0:(_res$value=res.value)===null||_res$value===void 0?void 0:(_res$value$myColor=_res$value.myColor)===null||_res$value$myColor===void 0?void 0:_res$value$myColor.length)>0){var _res$value2;const _ncmMyColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(res===null||res===void 0?void 0:(_res$value2=res.value)===null||_res$value2===void 0?void 0:_res$value2.myColor);_ncmColorSet=[..._ncmColorSet,..._ncmMyColorSet];}if((res===null||res===void 0?void 0:(_res$value3=res.value)===null||_res$value3===void 0?void 0:(_res$value3$myTheme=_res$value3.myTheme)===null||_res$value3$myTheme===void 0?void 0:_res$value3$myTheme.length)>0){var _res$value4;const _ncmMyThemeSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(res===null||res===void 0?void 0:(_res$value4=res.value)===null||_res$value4===void 0?void 0:_res$value4.myTheme);_ncmThemeSet=[..._ncmThemeSet,..._ncmMyThemeSet];}setNcmColorSetTotal(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(_ncmColorSet));setNcmThemeSetTotal(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(_ncmThemeSet));});// 사용자 컬러 조회
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.fetchFeatureValue(product,"ncmUserColorInfo",undefined,{},true,false).then(res=>{var _res$value5,_Object$keys;let result=res===null||res===void 0?void 0:(_res$value5=res.value)===null||_res$value5===void 0?void 0:_res$value5.item;let _userColor=(0,libs_util__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(userColorOrigin);(_Object$keys=Object.keys(_userColor))===null||_Object$keys===void 0?void 0:_Object$keys.map(doorIdx=>{const userColorItem=result===null||result===void 0?void 0:result.find(item=>{return item.code[0].sortIdx===doorIdx;});if(typeof userColorItem!=="undefined"){_userColor[doorIdx]=userColorItem;}});setUserColorOrigin((0,libs_util__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(_userColor));});};const isColorCollectionOn=()=>{var _carpetModel$colorCol;return((_carpetModel$colorCol=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol===void 0?void 0:_carpetModel$colorCol.value)==="ON";};const isEnable=()=>{var _carpetModel$ncmMode;return(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.TERM_ON&&!isDisconnected;};const getBackgroundImg=()=>{return backgroundImg;};//Adjust animation orientation
const[isLandscapeMode,setIsLandScapeMode]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const setOrientation=()=>{if(window.innerWidth>window.innerHeight){setIsLandScapeMode(true);}else{setIsLandScapeMode(false);}};(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{setOrientation();window.addEventListener("resize",setOrientation);window.addEventListener("orientationchange",setOrientation);return()=>{window.removeEventListener("resize",setOrientation);window.removeEventListener("orientationchange",setOrientation);};},[]);//컬러 이름
const textFieldRef=(0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);const[colorName,setColorName]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)("");const saveMyColor=()=>{const cmdRGB="setColor";const cmdRGB70="setColor70";const cmdId="setColorId";let param={deviceId:productId};param.colorType="MyColor";param.name=colorName;let position="";switch(selectedDoorId){case"1":{position="tl";break;}case"2":{position="tr";break;}case"3":{position="bl";break;}case"4":{position="br";break;}}let colorItem=[{doorIdx:selectedDoorId,customColorId:currentDoorRGB[position].customColorId||currentDoorRGB[position].code[0].customColorId,myColorType:"MyColor"}];param.item=[...colorItem];let vtParam={ctrlTarget:["DOOR_1","DOOR_2","DOOR_3","DOOR_4"],reqDevType:"APP",productType:"NORMAL",vtData:{}};const getColorCode=(item,index)=>{if(typeof item.code==="string"){return item.code;}else if(typeof item.code==="undefined"){return item.colorCode;}else{if(item.code.length===1){return item.code[0].colorCode;}else{return item.code[index].colorCode;}}};const getColorCode70=(item,index)=>{if(typeof item.code==="string"){return item.color70;}else if(typeof item.code==="undefined"){return item.color70;}else{if(item.code.length===1){return item.code[0].color70;}else{return item.code[index].color70;}}};vtParam.vtData["DOOR_1"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:getColorCode(currentDoorRGB.tl,0),roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:getColorCode70(currentDoorRGB.tl,0),roomType:"NONE"}];if(typeof currentDoorRGB.tl.id!=="undefined"){vtParam.vtData["DOOR_1"].push({cmd:cmdId,type:"ABSOLUTE",value:currentDoorRGB.tl.id,roomType:"NONE"});}vtParam.vtData["DOOR_2"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:getColorCode(currentDoorRGB.tr,1),roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:getColorCode70(currentDoorRGB.tr,1),roomType:"NONE"}];if(typeof currentDoorRGB.tr.id!=="undefined"){vtParam.vtData["DOOR_2"].push({cmd:cmdId,type:"ABSOLUTE",value:currentDoorRGB.tr.id,roomType:"NONE"});}vtParam.vtData["DOOR_3"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:getColorCode(currentDoorRGB.bl,2),roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:getColorCode70(currentDoorRGB.bl,2),roomType:"NONE"}];if(typeof currentDoorRGB.bl.id!=="undefined"){vtParam.vtData["DOOR_3"].push({cmd:cmdId,type:"ABSOLUTE",value:currentDoorRGB.bl.id,roomType:"NONE"});}vtParam.vtData["DOOR_4"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:getColorCode(currentDoorRGB.br,3),roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:getColorCode70(currentDoorRGB.br,3),roomType:"NONE"}];if(typeof currentDoorRGB.br.id!=="undefined"){vtParam.vtData["DOOR_4"].push({cmd:cmdId,type:"ABSOLUTE",value:currentDoorRGB.br.id,roomType:"NONE"});}param.colorCollectionCmd={ctrlKey:"vtCtrl",command:"Set",dataSetList:vtParam// colorType: "COLOR", //COLOR, MYCOLOR, MYTHEME
};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.setFeatureValue(product,"ncmSaveMyThemeMyColor",undefined,param,true,false).then(res=>{if((res===null||res===void 0?void 0:res.valueStatus)==="normal"){carpet.back("GRP_NCM01_Color",{productId:productId});}});wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_21,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.Device_Refrigerator_Save(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_21,{function_name:"add_my_color",color_id:""}));};return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialog,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogTitle,{children:t("@RE_UX35_NCM_MYCOLOR_ADD_W")}),isLandscapeMode?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogContents,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(ContentSubList,{style:{width:"100%",webkitOverflowScrolling:"touch",overflow:"scroll",height:"calc(100vh - 56px)"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",overflow:"scroll",flexDirection:"row",alignItems:"flex-start"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column",float:"left",overflow:"scroll",justifyContent:"flex-start",height:"calc(100vh - 68px)"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_13__["default"],{disabled:!isColorCollectionOn()||!isEnable(),isOn:true,currentDoorRGB:currentDoorRGB,backgroundImg:getBackgroundImg(),isThemeMode:false,ncmDoors:ncmDoors,canSelectDoor:true,selectedDoorId:selectedDoorId,useBackground:false,refType:refType,style:{marginBottom:"12px",width:"100%"},product:product,isSoundIconShow:false,knockOnSwitchOn:true,isMyCollection:true,isFromMyColorAdd:true})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column",float:"right",overflow:"scroll",height:"calc(100vh - 68px)"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ScrollContainer,{style:{flexGrow:1,width:"100%"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",style:{width:"100%",padding:"0px 20px 0px 20px"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"row",style:{width:"100%"},justify:"flex-start","aria-label":t("@RE_UX35_NCM_MYCOLOR_NAME_W"),role:"text",disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(TitleText,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":true,children:t("@RE_UX35_NCM_MYCOLOR_NAME_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(AsteriskText,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":true,children:"*"})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(wrm_GRM_component_common_InputBoxListItemComponent__WEBPACK_IMPORTED_MODULE_6__["default"],{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),noPadding:true,text:colorName,placeholder:t("@RE_UX35_NCM_MYCOLOR_NAME_INPUT_GUIDE_S"),warning:"@RE_UX30_MAX_TEXT_WARNING_S",maxLength:8,callback:name=>setColorName(name),innerRef:textFieldRef})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingL,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",style:{width:"100%",padding:"0px 20px 0px 20px"},justify:"flex-start",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},justify:"flex-start","aria-label":t("@RE_UX35_NCM_MYCOLOR_COLOR_W"),role:"text",disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(TitleText,{"aria-hidden":true,disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_NCM_MYCOLOR_COLOR_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(AsteriskText,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":true,children:"*"})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(wrm_GRM_screen_GRP_GRP_NCM01_Color_customColorPalette__WEBPACK_IMPORTED_MODULE_12__["default"],{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),product:product,selectedDoorId:selectedDoorId,isFromMyColor:true,selectedCustomColorId:selectedCustomColorId,onClickColor:onClickColor})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{})]})})]})})}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogContents,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",overflow:"hidden",flexDirection:"column",alignItems:"baseline"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_13__["default"],{disabled:!isColorCollectionOn()||!isEnable(),isOn:true,currentDoorRGB:currentDoorRGB,backgroundImg:getBackgroundImg(),isThemeMode:false,ncmDoors:ncmDoors,canSelectDoor:true,selectedDoorId:selectedDoorId,useBackground:false,refType:refType,style:{marginBottom:"12px",width:"100%"},product:product,isSoundIconShow:false,isMyCollection:true,knockOnSwitchOn:true,isFromMyColorAdd:true})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingL,{})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column",overflow:"scroll",maxHeight:"calc(100vh - 320px - 56px)"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ScrollContainer,{style:{flexGrow:1,width:"100%"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",style:{width:"100%"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"row",style:{width:"100%"},justify:"flex-start","aria-label":t("@RE_UX35_NCM_MYCOLOR_NAME_W"),role:"text",disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(TitleText,{"aria-hidden":true,disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_NCM_MYCOLOR_NAME_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(AsteriskText,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":true,children:"*"})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(wrm_GRM_component_common_InputBoxListItemComponent__WEBPACK_IMPORTED_MODULE_6__["default"],{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),noPadding:true,text:colorName,placeholder:t("@RE_UX35_NCM_MYCOLOR_NAME_INPUT_GUIDE_S"),warning:"@RE_UX30_MAX_TEXT_WARNING_S",maxLength:8,callback:name=>setColorName(name),innerRef:textFieldRef})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingL,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"row",style:{width:"100%"},justify:"flex-start",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},"aria-label":t("@RE_UX35_NCM_MYCOLOR_COLOR_W"),role:"text",disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(TitleText,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":true,children:t("@RE_UX35_NCM_MYCOLOR_COLOR_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(AsteriskText,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":true,children:"*"})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(wrm_GRM_screen_GRP_GRP_NCM01_Color_customColorPalette__WEBPACK_IMPORTED_MODULE_12__["default"],{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),product:product,selectedDoorId:selectedDoorId,isFromMyColor:true,selectedCustomColorId:selectedCustomColorId,onClickColor:onClickColor})]})})]})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",type:"tertiary_a",onClick:goBack,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.ELEMENT_ID.NCM_CANCEL_FROM_ADD_MYCOLOR,children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.ELEMENT_ID.NCM_CONFIRM_FROM_ADD_MYCOLOR,size:"cmd",type:"primary",onClick:saveMyColor,disabled:!isColorCollectionOn()||!isEnable()||colorName.length===0||colorName.length>8||selectedCustomColorId==="",children:t("@CP_LABEL_ADD")})]})]})});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_NCM01_MyColorAdd);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM01_Color/myThemeAdd.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var libs_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/libs/util/index.js");
/* harmony import */ var providers_ThemeProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/providers/ThemeProvider.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_component_GRP_NcmFilterBox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/component/GRP/NcmFilterBox.js");
/* harmony import */ var wrm_GRM_component_common_InputBoxListItemComponent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/component/common/InputBoxListItemComponent.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_resource_common_image_01_btn_action_add_btn_action_add_material_nor_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/resource/common/image/01_btn_action_add_btn_action_add_material_nor.png");
/* harmony import */ var wrm_GRM_resource_sample_icCheckboxSelectedDarkNormal_3x_png__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/resource/sample/icCheckboxSelectedDarkNormal@3x.png");
/* harmony import */ var wrm_GRM_resource_sample_icCheckboxSelectedLightNormal_3x_png__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/resource/sample/icCheckboxSelectedLightNormal@3x.png");
/* harmony import */ var wrm_GRM_screen_GRP_GRP_NCM01_Color_customColorPalette__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/wrm/GRM/screen/GRP/GRP_NCM01_Color/customColorPalette.js");
/* harmony import */ var _component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/wrm/GRM/component/GRP/NcmDoorColor.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _NcmSelector_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./src/wrm/GRM/screen/GRP/GRP_NCM01_Color/NcmSelector.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__);
/*
문짝 배치 
---------
| 1 | 2 |
---------
| 3 | 4 |
---------
*/const ContentSubList=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({})`
    ${""/* width: 100%; */}
    ${""/* height: calc(100vh - 56px); */}
    ${""/* overflow: scroll; */}
    ${""/* -webkit-overflow-scrolling: touch; */}
`;const TitleText=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Text).attrs(_ref=>{let{theme}=_ref;return{textCode:"Type_A08",weight:"Medium",color:theme.colorSet.on_surface_variant};})``;const AsteriskText=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Text).attrs(_ref2=>{let{theme}=_ref2;return{textCode:"Type_A08",color:theme.colorSet.error};})`
    padding-left: 6px;
    text-align: top;
`;const ThemeGridItem=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({direction:"column",justify:"center"})`
    width: ${_ref3=>{let{itemSize}=_ref3;return`${itemSize}px`;}};
`;const AddBtnBackground=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({justify:"center",align:"center"})`
    width: ${_ref4=>{let{itemSize}=_ref4;return`${itemSize}px`;}};
    min-height: ${_ref5=>{let{itemSize}=_ref5;return`${itemSize}px`;}};
    align-items: center;
    justify-items: center;
    border-radius: 10px;
    background: ${props=>props.color};
    border: 1px solid ${_ref6=>{let{theme}=_ref6;return theme.colorSet.outline;}};
    opacity: ${props=>props.disabled?0.3:1};
`;const SelectedCheck=styled_components__WEBPACK_IMPORTED_MODULE_23__["default"].img`
    width: 24px;
    height: 24px;
    position: absolute;
    z-index: 10;
    top: ${props=>props!==null&&props!==void 0&&props.circle?"4px":"0px"};
    left: ${props=>props!==null&&props!==void 0&&props.circle?"4px":"0px"};
`;const EditIcon=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({})`
    z-index: 10;
    position: absolute;
    top: 4px;
    right: 4px;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    background-color: ${_ref7=>{let{theme}=_ref7;return theme.colorSet.tertiary_b;}};
    padding: 2px;
`;const GRP_NCM01_MyThemeAdd=props=>{var _carpetModel$colorTyp,_product$modelJson$Co,_product$modelJson$Co2,_carpetModel$door1Col3,_carpetModel$door2Col2,_carpetModel$door3Col2,_carpetModel$door4Col2,_carpetModel$colorTyp3,_carpetModel$door1Col6,_carpetModel$door2Col3,_carpetModel$door3Col3,_carpetModel$door4Col3,_userColor$selectedDo4,_userColor$selectedDo5,_userColor$selectedDo6,_userColor$selectedDo7,_userColor$selectedDo8,_userColor$selectedDo9,_userColor$selectedDo10,_userColor$selectedDo11,_userColor$selectedDo12,_currentDoorRGB$selec,_currentDoorRGB$selec2,_currentDoorRGB$selec3,_currentDoorRGB$selec4,_currentDoorRGB$selec5,_currentDoorRGB$selec6,_userColor$selectedDo13,_userColor$selectedDo14,_userColor$selectedDo15,_userColor$selectedDo16,_userColor$selectedDo17,_userColor$selectedDo18,_userColor$selectedDo22,_userColor$selectedDo23,_userColor$selectedDo24,_userColor$selectedDo25,_userColor$selectedDo26,_userColor$selectedDo27,_userColor$selectedDo28,_userColor$selectedDo29,_userColor$selectedDo30,_currentDoorRGB$selec7,_currentDoorRGB$selec8,_currentDoorRGB$selec9,_currentDoorRGB$selec10,_currentDoorRGB$selec11,_currentDoorRGB$selec12,_userColor$selectedDo31,_userColor$selectedDo32,_userColor$selectedDo33,_userColor$selectedDo34,_userColor$selectedDo35,_userColor$selectedDo36,_userColor$selectedDo37,_userColor$selectedDo38,_userColor$selectedDo39,_userColor$selectedDo40,_userColor$selectedDo41,_userColor$selectedDo42;// Get product by product ID
const{productId}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_19__.useCarpetGRP)(product,`GRP_NCM01_Color`,false,false);// eslint-disable-next-line
const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const isThemeMode=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp=carpetModel.colorType)===null||_carpetModel$colorTyp===void 0?void 0:_carpetModel$colorTyp.value)==="THEME";const[modeScheme]=(0,recoil__WEBPACK_IMPORTED_MODULE_6__.useRecoilState)(providers_ThemeProvider__WEBPACK_IMPORTED_MODULE_4__.modeSchemeAtom);const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(false);const refType=((_product$modelJson$Co=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co===void 0?void 0:_product$modelJson$Co.refType)||"DEFAULT";// 필터 Chip
const[selectedColorCategory,setColorCategory]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)("Objet");const[ncmColorSetTotal,setNcmColorSetTotal]=(0,recoil__WEBPACK_IMPORTED_MODULE_6__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_11__.screenHelper.ncmColorInfoAtom);const[ncmThemeSetTotal,setNcmThemeSetTotal]=(0,recoil__WEBPACK_IMPORTED_MODULE_6__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_11__.screenHelper.ncmThemeInfoAtom);const[ncmMyColorSet,setNcmMyColorSet]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)([]);const[ncmMyColorTotalSet,setNcmMyColorTotalSet]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)([]);const[ncmColorSet,setNcmColorSet]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)([]);const[doorColorList,setDoorColorList]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(ncmColorSetTotal[0]);const backgroundImg=(_product$modelJson$Co2=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co2===void 0?void 0:_product$modelJson$Co2.backgroundImg;const ncmInfo=product.modelJson.Config.ncmInfo;const ncmDoors=ncmInfo===null||ncmInfo===void 0?void 0:ncmInfo.doors;// 사용자 컬러
const[isShowUserColorBS,setIsShowUserColorBs]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(false);const[userColor,setUserColor]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)({1:{},2:{},3:{},4:{}});const[selectedUserColor,setSelectedUserColor]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)();const onClickUserColor=color=>{setSelectedUserColor(color);};(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{if(!isShowUserColorBS){setSelectedUserColor(undefined);}},[isShowUserColorBS]);// 개별Color 적용시 각 도어의 현재 컬러RBD
const[currentDoorRGB,setCurrentDoorRGB]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)({});(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{if(isThemeMode){var _themeColorSet$code7,_themeColorSet$code7$,_themeColorSet$code8,_themeColorSet$code8$,_themeColorSet$code9,_themeColorSet$code9$,_themeColorSet$code10,_themeColorSet$code11;const themeColorSet=ncmThemeSetTotal.find(item=>{var _carpetModel$door1Col;return item.id===((_carpetModel$door1Col=carpetModel.door1ColorId)===null||_carpetModel$door1Col===void 0?void 0:_carpetModel$door1Col.value)+"";});const getCategory=(colorType,position)=>{let type="";if(colorType==="Default"||typeof colorType==="undefined"){type=position;// Upper, Lower
}else{type=colorType;// MyColor
}return type;};const getColorItem=(doorIdx,category)=>{var _themeColorSet$code5,_themeColorSet$code5$;// category = "Upper" or "Lower" or "MyColor"
let colorInfo=ncmColorSetTotal.find(_item=>{var _themeColorSet$code,_themeColorSet$code$d;// 마이컬러의 경우 컬러 id도 체크해야함. 동일한 컬러로 여러개 등록되어있을 수 있음.
if(typeof(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code=themeColorSet.code)===null||_themeColorSet$code===void 0?void 0:(_themeColorSet$code$d=_themeColorSet$code[doorIdx])===null||_themeColorSet$code$d===void 0?void 0:_themeColorSet$code$d.myColorId)!=="undefined"){var _item$code$doorIdx,_item$code$,_themeColorSet$code2,_themeColorSet$code2$,_themeColorSet$code3,_themeColorSet$code3$;return _item.category===category&&(((_item$code$doorIdx=_item.code[doorIdx])===null||_item$code$doorIdx===void 0?void 0:_item$code$doorIdx.appColor)||((_item$code$=_item.code[0])===null||_item$code$===void 0?void 0:_item$code$.appColor))===(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code2=themeColorSet.code)===null||_themeColorSet$code2===void 0?void 0:(_themeColorSet$code2$=_themeColorSet$code2[doorIdx])===null||_themeColorSet$code2$===void 0?void 0:_themeColorSet$code2$.appColor)&&_item.id===(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code3=themeColorSet.code)===null||_themeColorSet$code3===void 0?void 0:(_themeColorSet$code3$=_themeColorSet$code3[doorIdx])===null||_themeColorSet$code3$===void 0?void 0:_themeColorSet$code3$.myColorId);}else{var _item$code$doorIdx2,_item$code$2,_themeColorSet$code4,_themeColorSet$code4$;return _item.category===category&&(((_item$code$doorIdx2=_item.code[doorIdx])===null||_item$code$doorIdx2===void 0?void 0:_item$code$doorIdx2.appColor)||((_item$code$2=_item.code[0])===null||_item$code$2===void 0?void 0:_item$code$2.appColor))===(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code4=themeColorSet.code)===null||_themeColorSet$code4===void 0?void 0:(_themeColorSet$code4$=_themeColorSet$code4[doorIdx])===null||_themeColorSet$code4$===void 0?void 0:_themeColorSet$code4$.appColor);}});// 사용자 컬러 체크
if(typeof colorInfo==="undefined"&&(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code5=themeColorSet.code)===null||_themeColorSet$code5===void 0?void 0:(_themeColorSet$code5$=_themeColorSet$code5[doorIdx])===null||_themeColorSet$code5$===void 0?void 0:_themeColorSet$code5$.myColorType)==="MyThemeColor"){colorInfo=ncmColorSetTotal.find(_item=>{var _themeColorSet$code6,_themeColorSet$code6$;return _item.category==="DEFAULT_COLOR"&&_item.id===(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code6=themeColorSet.code)===null||_themeColorSet$code6===void 0?void 0:(_themeColorSet$code6$=_themeColorSet$code6[doorIdx])===null||_themeColorSet$code6$===void 0?void 0:_themeColorSet$code6$.myColorId);});}// 이미 삭제된 마이 컬러는 선셋 블루 or 선셋 레드로 변경
if(typeof colorInfo==="undefined"){var _placeParisTheme$code;let colorCategory="";if(doorIdx===0||doorIdx===1){colorCategory="Upper";}else{colorCategory="Lower";}// 파리의 노을 컬러값
const placeParisTheme=ncmThemeSetTotal.find(item=>{return item.id==="7";});const appColor=(_placeParisTheme$code=placeParisTheme.code[doorIdx])===null||_placeParisTheme$code===void 0?void 0:_placeParisTheme$code.appColor;const placeParisColor=ncmColorSetTotal.find(_item=>{var _item$code$doorIdx3;return _item.category===colorCategory&&((_item$code$doorIdx3=_item.code[doorIdx])===null||_item$code$doorIdx3===void 0?void 0:_item$code$doorIdx3.appColor)===appColor;});colorInfo=placeParisColor;}return colorInfo;};// myColorType
setCurrentDoorRGB({tl:getColorItem(0,getCategory(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code7=themeColorSet.code)===null||_themeColorSet$code7===void 0?void 0:(_themeColorSet$code7$=_themeColorSet$code7[0])===null||_themeColorSet$code7$===void 0?void 0:_themeColorSet$code7$.myColorType,"Upper")),tr:getColorItem(1,getCategory(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code8=themeColorSet.code)===null||_themeColorSet$code8===void 0?void 0:(_themeColorSet$code8$=_themeColorSet$code8[1])===null||_themeColorSet$code8$===void 0?void 0:_themeColorSet$code8$.myColorType,"Upper")),bl:getColorItem(2,getCategory(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code9=themeColorSet.code)===null||_themeColorSet$code9===void 0?void 0:(_themeColorSet$code9$=_themeColorSet$code9[2])===null||_themeColorSet$code9$===void 0?void 0:_themeColorSet$code9$.myColorType,"Lower")),br:getColorItem(3,getCategory(themeColorSet===null||themeColorSet===void 0?void 0:(_themeColorSet$code10=themeColorSet.code)===null||_themeColorSet$code10===void 0?void 0:(_themeColorSet$code11=_themeColorSet$code10[3])===null||_themeColorSet$code11===void 0?void 0:_themeColorSet$code11.myColorType,"Lower"))});}else{setCurrentDoorRGB({tl:ncmColorSetTotal.find(item=>{var _carpetModel$door1Col2;return item.id===((_carpetModel$door1Col2=carpetModel.door1ColorId)===null||_carpetModel$door1Col2===void 0?void 0:_carpetModel$door1Col2.value)+"";}),tr:ncmColorSetTotal.find(item=>{var _carpetModel$door2Col;return item.id===((_carpetModel$door2Col=carpetModel.door2ColorId)===null||_carpetModel$door2Col===void 0?void 0:_carpetModel$door2Col.value)+"";}),bl:ncmColorSetTotal.find(item=>{var _carpetModel$door3Col;return item.id===((_carpetModel$door3Col=carpetModel.door3ColorId)===null||_carpetModel$door3Col===void 0?void 0:_carpetModel$door3Col.value)+"";}),br:ncmColorSetTotal.find(item=>{var _carpetModel$door4Col;return item.id===((_carpetModel$door4Col=carpetModel.door4ColorId)===null||_carpetModel$door4Col===void 0?void 0:_carpetModel$door4Col.value)+"";})});}},[ncmColorSetTotal,isThemeMode,ncmThemeSetTotal,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col3=carpetModel.door1ColorId)===null||_carpetModel$door1Col3===void 0?void 0:_carpetModel$door1Col3.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door2Col2=carpetModel.door2ColorId)===null||_carpetModel$door2Col2===void 0?void 0:_carpetModel$door2Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door3Col2=carpetModel.door3ColorId)===null||_carpetModel$door3Col2===void 0?void 0:_carpetModel$door3Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door4Col2=carpetModel.door4ColorId)===null||_carpetModel$door4Col2===void 0?void 0:_carpetModel$door4Col2.value]);// 선택한 문 id : "1", "2", "3", "4"
const[selectedDoorId,setSelectedDoorId]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)("1");// 선택한 색상 id : "1", "2", "3", "4"
const[selectedColor,setSelectedColor]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(null);//value저장
const updateSelectedItem=()=>{var _carpetModel$featureN;// 개별Color
const featureName="door"+selectedDoorId+"ColorId";const value=((_carpetModel$featureN=carpetModel[featureName])===null||_carpetModel$featureN===void 0?void 0:_carpetModel$featureN.value)+""||"1";const newColorList=ncmColorSetTotal.find(item=>{return item.id===value;});setSelectedColor(newColorList===null||newColorList===void 0?void 0:newColorList.id);};const onClickDoor=event=>{// My Collection
setSelectedDoorId(event.target.id);//string
};const onClickThemeOrColor=item=>{setSelectedColor(item.id+"");switch(selectedDoorId){case"1":{setCurrentDoorRGB({...currentDoorRGB,tl:{...item}});break;}case"2":{setCurrentDoorRGB({...currentDoorRGB,tr:{...item}});break;}case"3":{setCurrentDoorRGB({...currentDoorRGB,bl:{...item}});break;}case"4":{setCurrentDoorRGB({...currentDoorRGB,br:{...item}});break;}}};const goBack=()=>{carpet.back("GRP_NCM01_Color",{productId:productId});};(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);carpet.registerOnBackButtonCallback(goBack);init();return()=>{carpet.unregisterOnBackButtonCallback();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);// 도어컬러 변경시 렌더링
(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{var _carpetModel$colorTyp2;// Update Door Color
const newColorList=ncmColorSetTotal.find(item=>{var _carpetModel$door1Col4;return item.id===((_carpetModel$door1Col4=carpetModel.door1ColorId)===null||_carpetModel$door1Col4===void 0?void 0:_carpetModel$door1Col4.value)+"";});const newThemeList=ncmThemeSetTotal.find(item=>{var _carpetModel$door1Col5;return item.id===((_carpetModel$door1Col5=carpetModel.door1ColorId)===null||_carpetModel$door1Col5===void 0?void 0:_carpetModel$door1Col5.value)+"";});setDoorColorList(((_carpetModel$colorTyp2=carpetModel.colorType)===null||_carpetModel$colorTyp2===void 0?void 0:_carpetModel$colorTyp2.value)==="THEME"?newThemeList:newColorList);// Update Selected Info.
updateSelectedItem();},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp3=carpetModel.colorType)===null||_carpetModel$colorTyp3===void 0?void 0:_carpetModel$colorTyp3.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col6=carpetModel.door1ColorId)===null||_carpetModel$door1Col6===void 0?void 0:_carpetModel$door1Col6.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door2Col3=carpetModel.door2ColorId)===null||_carpetModel$door2Col3===void 0?void 0:_carpetModel$door2Col3.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door3Col3=carpetModel.door3ColorId)===null||_carpetModel$door3Col3===void 0?void 0:_carpetModel$door3Col3.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door4Col3=carpetModel.door4ColorId)===null||_carpetModel$door4Col3===void 0?void 0:_carpetModel$door4Col3.value,ncmColorSetTotal,ncmThemeSetTotal]);// 선택한도어 변경시 렌더링
(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{let selectedColorId="";let newMyColorSet=[];let position="";switch(selectedDoorId){case"1":{var _currentDoorRGB$tl;selectedColorId=currentDoorRGB===null||currentDoorRGB===void 0?void 0:(_currentDoorRGB$tl=currentDoorRGB.tl)===null||_currentDoorRGB$tl===void 0?void 0:_currentDoorRGB$tl.id;position="tl";newMyColorSet=ncmMyColorTotalSet.filter(item=>{return item.code[0].sortIdx==="1";});setNcmMyColorSet([...newMyColorSet]);break;}case"2":{var _currentDoorRGB$tr;selectedColorId=currentDoorRGB===null||currentDoorRGB===void 0?void 0:(_currentDoorRGB$tr=currentDoorRGB.tr)===null||_currentDoorRGB$tr===void 0?void 0:_currentDoorRGB$tr.id;position="tr";newMyColorSet=ncmMyColorTotalSet.filter(item=>{return item.code[0].sortIdx==="2";});setNcmMyColorSet([...newMyColorSet]);break;}case"3":{var _currentDoorRGB$bl;selectedColorId=currentDoorRGB===null||currentDoorRGB===void 0?void 0:(_currentDoorRGB$bl=currentDoorRGB.bl)===null||_currentDoorRGB$bl===void 0?void 0:_currentDoorRGB$bl.id;position="bl";newMyColorSet=ncmMyColorTotalSet.filter(item=>{return item.code[0].sortIdx==="3";});setNcmMyColorSet([...newMyColorSet]);break;}case"4":{var _currentDoorRGB$br;selectedColorId=currentDoorRGB===null||currentDoorRGB===void 0?void 0:(_currentDoorRGB$br=currentDoorRGB.br)===null||_currentDoorRGB$br===void 0?void 0:_currentDoorRGB$br.id;position="br";newMyColorSet=ncmMyColorTotalSet.filter(item=>{return item.code[0].sortIdx==="4";});setNcmMyColorSet([...newMyColorSet]);break;}}const newColorList=ncmColorSetTotal.find(item=>{return item.id===selectedColorId&&item.category===currentDoorRGB[position].category;});if((newColorList===null||newColorList===void 0?void 0:newColorList.category)==="MyColor"){setColorCategory(newColorList===null||newColorList===void 0?void 0:newColorList.category);}else if(typeof newColorList!=="undefined"&&(newColorList===null||newColorList===void 0?void 0:newColorList.category)!=="DEFAULT_COLOR"){setColorCategory(newColorList===null||newColorList===void 0?void 0:newColorList.type);}setSelectedColor(newColorList===null||newColorList===void 0?void 0:newColorList.id);},[selectedDoorId,currentDoorRGB,ncmMyColorTotalSet]);const onMonitoring=data=>{var _data$refState;console.log("onMonitoring!!!");console.log(data===null||data===void 0?void 0:(_data$refState=data.refState)===null||_data$refState===void 0?void 0:_data$refState.mediaState);setIsDisconnected(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].isDisconnected(product,data));};const onMonitoringError=data=>{console.info(data);};const init=data=>{console.info(data);// ncmColorInfo
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_9__.apiFeatureService.fetchFeatureValue(product,"ncmColorInfo",undefined,{},true,false).then(res=>{var _res$value,_res$value$myColor,_res$value3,_res$value3$myTheme;console.info(res.value);let _ncmColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].cloneJson(res.value.color);let _ncmThemeSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].cloneJson(res.value.theme);let _ncmDefaultColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].cloneJson(res.value.defaultColor);_ncmColorSet=[..._ncmColorSet,..._ncmDefaultColorSet];if((res===null||res===void 0?void 0:(_res$value=res.value)===null||_res$value===void 0?void 0:(_res$value$myColor=_res$value.myColor)===null||_res$value$myColor===void 0?void 0:_res$value$myColor.length)>0){var _res$value2;const _ncmMyColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].cloneJson(res===null||res===void 0?void 0:(_res$value2=res.value)===null||_res$value2===void 0?void 0:_res$value2.myColor);_ncmColorSet=[..._ncmColorSet,..._ncmMyColorSet];setNcmMyColorTotalSet(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].cloneJson(_ncmMyColorSet));setNcmMyColorSet(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].cloneJson(_ncmMyColorSet));}if((res===null||res===void 0?void 0:(_res$value3=res.value)===null||_res$value3===void 0?void 0:(_res$value3$myTheme=_res$value3.myTheme)===null||_res$value3$myTheme===void 0?void 0:_res$value3$myTheme.length)>0){var _res$value4;const _ncmMyThemeSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].cloneJson(res===null||res===void 0?void 0:(_res$value4=res.value)===null||_res$value4===void 0?void 0:_res$value4.myTheme);_ncmThemeSet=[..._ncmThemeSet,..._ncmMyThemeSet];}setNcmColorSetTotal(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].cloneJson(_ncmColorSet));setNcmThemeSetTotal(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].cloneJson(_ncmThemeSet));});getThemeUserColor();};const getThemeUserColor=function(){let refresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;// 사용자 컬러 조회
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_9__.apiFeatureService.fetchFeatureValue(product,"ncmUserColorInfo",undefined,{},true,false).then(res=>{var _res$value5,_Object$keys;let result=res===null||res===void 0?void 0:(_res$value5=res.value)===null||_res$value5===void 0?void 0:_res$value5.item;let _userColor=(0,libs_util__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(userColor);(_Object$keys=Object.keys(_userColor))===null||_Object$keys===void 0?void 0:_Object$keys.map(doorIdx=>{const userColorItem=result===null||result===void 0?void 0:result.find(item=>{return item.code[0].sortIdx===doorIdx;});if(typeof userColorItem!=="undefined"){_userColor[doorIdx]=userColorItem;}});if(refresh){let _currentDoorRGB={...currentDoorRGB};_currentDoorRGB[selectedDoorPosition]=_userColor===null||_userColor===void 0?void 0:_userColor[selectedDoorId];setCurrentDoorRGB({..._currentDoorRGB});}setUserColor((0,libs_util__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(_userColor));});};const onChipselectColor=idx=>{switch(idx){case 0:setColorCategory("Objet");break;case 1:setColorCategory("MyColor");break;default:setColorCategory("Objet");break;}};const isColorCollectionOn=()=>{var _carpetModel$colorCol;return((_carpetModel$colorCol=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol===void 0?void 0:_carpetModel$colorCol.value)==="ON";};const isEnable=()=>{var _carpetModel$ncmMode;return(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_20__.constant.TERM_ON&&!isDisconnected;};const newProps={...props,carpetModel,isThemeModeSelected:false,currentCategory:selectedColorCategory,onChipselect:onChipselectColor};const badgeProps={...props};const getBackgroundImg=()=>{return backgroundImg;};(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{setNcmColorSet(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].cloneJson(ncmColorSetTotal).filter(item=>{return item.type===selectedColorCategory;}));},[ncmColorSetTotal,selectedColorCategory]);//Adjust animation orientation
const[isLandscapeMode,setIsLandScapeMode]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(false);const setOrientation=()=>{if(window.innerWidth>window.innerHeight){setIsLandScapeMode(true);}else{setIsLandScapeMode(false);}};(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{setOrientation();window.addEventListener("resize",setOrientation);window.addEventListener("orientationchange",setOrientation);return()=>{window.removeEventListener("resize",setOrientation);window.removeEventListener("orientationchange",setOrientation);};},[]);//테마 이름
const textFieldRef=(0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);const[themeName,setThemeName]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)("");const saveMyTheme=()=>{var _currentDoorRGB$tl$co,_currentDoorRGB$tl$co2,_currentDoorRGB$tr$co,_currentDoorRGB$tr$co2,_currentDoorRGB$bl$co,_currentDoorRGB$bl$co2,_currentDoorRGB$br$co,_currentDoorRGB$br$co2;const cmdRGB="setColor";const cmdRGB70="setColor70";let param={deviceId:productId};param.colorType="MyTheme";param.name=themeName;const getMyColorType=category=>{let myColorType="";if(category==="MyColor"||category==="MyThemeColor"){myColorType=category;}else if(category==="DEFAULT_COLOR"){myColorType="MyThemeColor";}else{myColorType="Default";}return myColorType;};const getColorId=(category,doorIdx,customColorId)=>{let colorId=undefined;if(category==="MyThemeColor"){let colorInfo=ncmColorSetTotal.find(_item=>{return _item.category==="DEFAULT_COLOR"&&_item.code[doorIdx].customColorId===customColorId;});colorId=colorInfo===null||colorInfo===void 0?void 0:colorInfo.id;}return colorId;};let colorItem=[{doorIdx:"1",customColorId:((_currentDoorRGB$tl$co=currentDoorRGB.tl.code[0])===null||_currentDoorRGB$tl$co===void 0?void 0:_currentDoorRGB$tl$co.customColorId)||currentDoorRGB.tl.id,myColorId:getColorId(currentDoorRGB.tl.category,0,(_currentDoorRGB$tl$co2=currentDoorRGB.tl.code[0])===null||_currentDoorRGB$tl$co2===void 0?void 0:_currentDoorRGB$tl$co2.customColorId)||currentDoorRGB.tl.id,myColorType:getMyColorType(currentDoorRGB.tl.category)},{doorIdx:"2",customColorId:((_currentDoorRGB$tr$co=currentDoorRGB.tr.code[1])===null||_currentDoorRGB$tr$co===void 0?void 0:_currentDoorRGB$tr$co.customColorId)||currentDoorRGB.tr.code[0].customColorId||currentDoorRGB.tr.id,myColorId:getColorId(currentDoorRGB.tr.category,1,((_currentDoorRGB$tr$co2=currentDoorRGB.tr.code[1])===null||_currentDoorRGB$tr$co2===void 0?void 0:_currentDoorRGB$tr$co2.customColorId)||currentDoorRGB.tr.code[0].customColorId)||currentDoorRGB.tr.id,myColorType:getMyColorType(currentDoorRGB.tr.category)},{doorIdx:"3",customColorId:((_currentDoorRGB$bl$co=currentDoorRGB.bl.code[2])===null||_currentDoorRGB$bl$co===void 0?void 0:_currentDoorRGB$bl$co.customColorId)||currentDoorRGB.bl.code[0].customColorId||currentDoorRGB.bl.id,myColorId:getColorId(currentDoorRGB.bl.category,2,((_currentDoorRGB$bl$co2=currentDoorRGB.bl.code[2])===null||_currentDoorRGB$bl$co2===void 0?void 0:_currentDoorRGB$bl$co2.customColorId)||currentDoorRGB.bl.code[0].customColorId)||currentDoorRGB.bl.id,myColorType:getMyColorType(currentDoorRGB.bl.category)},{doorIdx:"4",customColorId:((_currentDoorRGB$br$co=currentDoorRGB.br.code[3])===null||_currentDoorRGB$br$co===void 0?void 0:_currentDoorRGB$br$co.customColorId)||currentDoorRGB.br.code[0].customColorId||currentDoorRGB.br.id,myColorId:getColorId(currentDoorRGB.br.category,3,((_currentDoorRGB$br$co2=currentDoorRGB.br.code[3])===null||_currentDoorRGB$br$co2===void 0?void 0:_currentDoorRGB$br$co2.customColorId)||currentDoorRGB.br.code[0].customColorId)||currentDoorRGB.br.id,myColorType:getMyColorType(currentDoorRGB.br.category)}];param.item=[...colorItem];let vtParam={ctrlTarget:["DOOR_1","DOOR_2","DOOR_3","DOOR_4"],// ctrlTarget: ["DOOR_ALL"],
reqDevType:"APP",productType:"NORMAL",vtData:{}};const getColorCode=(item,index)=>{if(typeof item.code==="string"){return item.code;}else if(typeof item.code==="undefined"){return item.colorCode;}else{if(item.code.length===1){return item.code[0].colorCode;}else{return item.code[index].colorCode;}}};const getColorCode70=(item,index)=>{if(typeof item.code==="string"){return item.color70;}else if(typeof item.code==="undefined"){return item.color70;}else{if(item.code.length===1){return item.code[0].color70;}else{return item.code[index].color70;}}};vtParam.vtData["DOOR_1"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:getColorCode(currentDoorRGB.tl,0),roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:getColorCode70(currentDoorRGB.tl,0),roomType:"NONE"}];vtParam.vtData["DOOR_2"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:getColorCode(currentDoorRGB.tr,1),roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:getColorCode70(currentDoorRGB.tr,1),roomType:"NONE"}];vtParam.vtData["DOOR_3"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:getColorCode(currentDoorRGB.bl,2),roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:getColorCode70(currentDoorRGB.bl,2),roomType:"NONE"}];vtParam.vtData["DOOR_4"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:getColorCode(currentDoorRGB.br,3),roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:getColorCode70(currentDoorRGB.br,3),roomType:"NONE"}];param.colorCollectionCmd={ctrlKey:"vtCtrl",command:"Set",dataSetList:vtParam// colorType: "COLOR", //COLOR, MYCOLOR, MYTHEME
};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_9__.apiFeatureService.setFeatureValue(product,"ncmSaveMyThemeMyColor",undefined,param,true,false).then(res=>{if((res===null||res===void 0?void 0:res.valueStatus)==="normal"){carpet.back("GRP_NCM01_Color",{productId:productId});}});wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_10__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_13__.mixpanelConstant.refrigeratorMixpanel_17,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_10__.mixpanelUtil.Device_Refrigerator_Save(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_13__.mixpanelConstant.refrigeratorMixpanel_17,{function_name:"add_my_theme",color_name_list:"",lang_token_list:""}));};const saveUserColor=()=>{let param={deviceId:productId,colorType:"MyThemeColor",name:"MyThemeColor"};param.item=[{doorIdx:selectedDoorId,customColorId:selectedUserColor.customColorId,myColorType:"MyThemeColor"}];wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_9__.apiFeatureService.setFeatureValue(product,"ncmSaveMyThemeMyColor",undefined,param,true,false).then(()=>{setIsShowUserColorBs(false);getThemeUserColor(true);});};const[selectedDoorPosition,setSelectedDoorPostion]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)("tl");const[selectedDoorIdx,setSelectedDoorIdx]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(0);(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{let position="";let idx=0;switch(selectedDoorId){case"1":{position="tl";idx=0;break;}case"2":{position="tr";idx=1;break;}case"3":{position="bl";idx=2;break;}case"4":{position="br";idx=3;break;}}setSelectedDoorPostion(position);setSelectedDoorIdx(idx);},[selectedDoorId]);const[gridItemSize,setGridItemSize]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(0);const resizeWindow=()=>{let size=(window.innerWidth-80)/5;if(window.innerWidth>window.innerHeight){// 가로 모드
size=size/2.5;}setGridItemSize(size);};(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{resizeWindow();window.addEventListener("resize",resizeWindow);window.addEventListener("orientationchange",resizeWindow);return()=>{window.removeEventListener("resize",resizeWindow);window.removeEventListener("orientationchange",resizeWindow);};},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialog,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogTitle,{children:t("@RE_UX35_NCM_MYTHEME_ADD_W")}),isLandscapeMode?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogContents,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(ContentSubList,{style:{width:"100%",webkitOverflowScrolling:"touch",overflow:"scroll",height:"calc(100vh - 56px)"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",overflow:"scroll",flexDirection:"row",alignItems:"flex-start"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column",float:"left",overflow:"scroll",justifyContent:"flex-start",height:"calc(100vh - 68px)"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_18__["default"],{disabled:!isColorCollectionOn()||!isEnable(),isOn:true,currentDoorRGB:currentDoorRGB,doorColorList:doorColorList,backgroundImg:getBackgroundImg(),isThemeMode:false,onClickDoor:onClickDoor,ncmDoors:ncmDoors,canSelectDoor:true,selectedDoorId:selectedDoorId,useBackground:false,refType:refType,style:{marginBottom:"12px",width:"100%"},product:product,isSoundIconShow:false,knockOnSwitchOn:true,isMyCollection:true})})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column",float:"right",overflow:"scroll",height:"calc(100vh - 68px)"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ScrollContainer,{style:{flexGrow:1,width:"100%"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",style:{width:"100%",padding:"0px 20px 0px 20px"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"row",style:{width:"100%"},justify:"flex-start","aria-label":t("@RE_UX35_NCM_MYTHEME_NAME_W"),role:"text",disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(TitleText,{"aria-hidden":true,disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_NCM_MYTHEME_NAME_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(AsteriskText,{"aria-hidden":true,disabled:!isColorCollectionOn()||!isEnable(),children:"*"})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(wrm_GRM_component_common_InputBoxListItemComponent__WEBPACK_IMPORTED_MODULE_8__["default"],{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),noPadding:true,text:themeName,placeholder:t("@RE_UX35_NCM_MYTHEME_NAME_INPUT_GUIDE_S"),warning:"@RE_UX30_MAX_TEXT_WARNING_S",maxLength:8,callback:name=>setThemeName(name),innerRef:textFieldRef})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingL,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",style:{width:"100%",padding:"0px 20px 0px 20px"},justify:"flex-start",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},justify:"flex-start",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(wrm_GRM_component_GRP_NcmFilterBox__WEBPACK_IMPORTED_MODULE_7__["default"],{disabled:!isColorCollectionOn()||!isEnable(),...newProps,...badgeProps})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_NcmSelector_js__WEBPACK_IMPORTED_MODULE_21__["default"],{isFromMyThemeAdd:selectedColorCategory==="MyColor",type:"color",content:ncmColorSet,myColorContent:ncmMyColorSet,isShort:true,onClick:onClickThemeOrColor,selectedIdx:selectedColor+"",selectedDoorId:selectedDoorId,ncmInfo:ncmInfo,disabled:!isColorCollectionOn()||!isEnable(),...badgeProps}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",style:{width:"100%"},align:"flex-start",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(TitleText,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_NCM_MYTHEME_USER_COLOR_W")})," "]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},justify:"flex-start",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{marginTop:"8px"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(ThemeGridItem,{itemSize:gridItemSize,disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),style:{opacity:!isColorCollectionOn()||!isEnable()?0.35:1},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(AddBtnBackground,{itemSize:gridItemSize,role:"button","aria-label":t("@RE_UX35_NCM_MYTHEME_USER_COLOR_W"),onClick:()=>{var _userColor$selectedDo,_userColor$selectedDo2,_userColor$selectedDo3;if(!isColorCollectionOn()||!isEnable()){return;}if((_userColor$selectedDo=userColor[selectedDoorId])!==null&&_userColor$selectedDo!==void 0&&(_userColor$selectedDo2=_userColor$selectedDo.code)!==null&&_userColor$selectedDo2!==void 0&&(_userColor$selectedDo3=_userColor$selectedDo2[0])!==null&&_userColor$selectedDo3!==void 0&&_userColor$selectedDo3.appColor){onClickThemeOrColor(userColor[selectedDoorId]);}else{setIsShowUserColorBs(true);}},tabIndex:"0",color:((_userColor$selectedDo4=userColor[selectedDoorId])===null||_userColor$selectedDo4===void 0?void 0:(_userColor$selectedDo5=_userColor$selectedDo4.code)===null||_userColor$selectedDo5===void 0?void 0:(_userColor$selectedDo6=_userColor$selectedDo5[0])===null||_userColor$selectedDo6===void 0?void 0:_userColor$selectedDo6.appColor)||theme.colorSet.surface,children:typeof((_userColor$selectedDo7=userColor[selectedDoorId])===null||_userColor$selectedDo7===void 0?void 0:(_userColor$selectedDo8=_userColor$selectedDo7.code)===null||_userColor$selectedDo8===void 0?void 0:(_userColor$selectedDo9=_userColor$selectedDo8[0])===null||_userColor$selectedDo9===void 0?void 0:_userColor$selectedDo9.appColor)==="undefined"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),src:wrm_GRM_resource_common_image_01_btn_action_add_btn_action_add_material_nor_png__WEBPACK_IMPORTED_MODULE_14__["default"],width:24,height:24})}),(userColor===null||userColor===void 0?void 0:(_userColor$selectedDo10=userColor[selectedDoorId])===null||_userColor$selectedDo10===void 0?void 0:(_userColor$selectedDo11=_userColor$selectedDo10.code)===null||_userColor$selectedDo11===void 0?void 0:(_userColor$selectedDo12=_userColor$selectedDo11[0])===null||_userColor$selectedDo12===void 0?void 0:_userColor$selectedDo12.customColorId)===((currentDoorRGB===null||currentDoorRGB===void 0?void 0:(_currentDoorRGB$selec=currentDoorRGB[selectedDoorPosition])===null||_currentDoorRGB$selec===void 0?void 0:(_currentDoorRGB$selec2=_currentDoorRGB$selec.code)===null||_currentDoorRGB$selec2===void 0?void 0:(_currentDoorRGB$selec3=_currentDoorRGB$selec2[selectedDoorIdx])===null||_currentDoorRGB$selec3===void 0?void 0:_currentDoorRGB$selec3.customColorId)||(currentDoorRGB===null||currentDoorRGB===void 0?void 0:(_currentDoorRGB$selec4=currentDoorRGB[selectedDoorPosition])===null||_currentDoorRGB$selec4===void 0?void 0:(_currentDoorRGB$selec5=_currentDoorRGB$selec4.code)===null||_currentDoorRGB$selec5===void 0?void 0:(_currentDoorRGB$selec6=_currentDoorRGB$selec5[0])===null||_currentDoorRGB$selec6===void 0?void 0:_currentDoorRGB$selec6.customColorId))&&typeof(userColor===null||userColor===void 0?void 0:(_userColor$selectedDo13=userColor[selectedDoorId])===null||_userColor$selectedDo13===void 0?void 0:(_userColor$selectedDo14=_userColor$selectedDo13.code)===null||_userColor$selectedDo14===void 0?void 0:(_userColor$selectedDo15=_userColor$selectedDo14[0])===null||_userColor$selectedDo15===void 0?void 0:_userColor$selectedDo15.customColorId)!=="undefined"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(SelectedCheck,{"aria-hidden":true,circle:true,src:modeScheme==="light"?wrm_GRM_resource_sample_icCheckboxSelectedLightNormal_3x_png__WEBPACK_IMPORTED_MODULE_16__["default"]:wrm_GRM_resource_sample_icCheckboxSelectedDarkNormal_3x_png__WEBPACK_IMPORTED_MODULE_15__["default"]})]}),((_userColor$selectedDo16=userColor[selectedDoorId])===null||_userColor$selectedDo16===void 0?void 0:(_userColor$selectedDo17=_userColor$selectedDo16.code)===null||_userColor$selectedDo17===void 0?void 0:(_userColor$selectedDo18=_userColor$selectedDo17[0])===null||_userColor$selectedDo18===void 0?void 0:_userColor$selectedDo18.appColor)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(EditIcon,{onClick:()=>{if(!isColorCollectionOn()||!isEnable()){return;}setIsShowUserColorBs(true);},tabIndex:"1","aria-label":t("@CP_LABEL_EDIT"),role:"button",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Icon,{icon:"edit",size:16})})]})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{})]})})]})})}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FullDialogContents,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",overflow:"hidden",flexDirection:"column",alignItems:"baseline"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_18__["default"],{disabled:!isColorCollectionOn()||!isEnable(),isOn:true,currentDoorRGB:currentDoorRGB,doorColorList:doorColorList,backgroundImg:getBackgroundImg(),isThemeMode:false,onClickDoor:onClickDoor,ncmDoors:ncmDoors,canSelectDoor:true,selectedDoorId:selectedDoorId,useBackground:false,refType:refType,style:{marginBottom:"12px",width:"100%"},product:product,isSoundIconShow:false,knockOnSwitchOn:true,isMyCollection:true})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingL,{})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",flexDirection:"column"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",style:{width:"100%"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"row",style:{width:"100%"},justify:"flex-start","aria-label":t("@RE_UX35_NCM_MYTHEME_NAME_W"),role:"text",disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(TitleText,{"aria-hidden":true,disabled:!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_NCM_MYTHEME_NAME_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(AsteriskText,{"aria-hidden":true,disabled:!isColorCollectionOn()||!isEnable(),children:"*"})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(wrm_GRM_component_common_InputBoxListItemComponent__WEBPACK_IMPORTED_MODULE_8__["default"],{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),noPadding:true,text:themeName,placeholder:t("@RE_UX35_NCM_MYTHEME_NAME_INPUT_GUIDE_S"),warning:"@RE_UX30_MAX_TEXT_WARNING_S",maxLength:8,callback:name=>setThemeName(name),innerRef:textFieldRef})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingL,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(wrm_GRM_component_GRP_NcmFilterBox__WEBPACK_IMPORTED_MODULE_7__["default"],{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),...newProps,...badgeProps})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_NcmSelector_js__WEBPACK_IMPORTED_MODULE_21__["default"],{isFromMyThemeAdd:selectedColorCategory==="MyColor",type:"color",content:ncmColorSet,myColorContent:ncmMyColorSet,isShort:true,onClick:onClickThemeOrColor,selectedIdx:selectedColor+"",selectedDoorId:selectedDoorId,ncmInfo:ncmInfo,disabled:!isColorCollectionOn()||!isEnable(),...badgeProps}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",style:{width:"100%"},align:"flex-start",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(TitleText,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),children:t("@RE_UX35_NCM_MYTHEME_USER_COLOR_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{marginTop:"8px"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(ThemeGridItem,{itemSize:gridItemSize,disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),style:{opacity:!isColorCollectionOn()||!isEnable()?0.35:1},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(AddBtnBackground,{itemSize:gridItemSize,role:"button","aria-label":t("@RE_UX35_NCM_MYTHEME_USER_COLOR_W"),onClick:()=>{var _userColor$selectedDo19,_userColor$selectedDo20,_userColor$selectedDo21;if(!isColorCollectionOn()||!isEnable()){return;}if((_userColor$selectedDo19=userColor[selectedDoorId])!==null&&_userColor$selectedDo19!==void 0&&(_userColor$selectedDo20=_userColor$selectedDo19.code)!==null&&_userColor$selectedDo20!==void 0&&(_userColor$selectedDo21=_userColor$selectedDo20[0])!==null&&_userColor$selectedDo21!==void 0&&_userColor$selectedDo21.appColor){onClickThemeOrColor(userColor[selectedDoorId]);}else{setIsShowUserColorBs(true);}},tabIndex:"0",color:((_userColor$selectedDo22=userColor[selectedDoorId])===null||_userColor$selectedDo22===void 0?void 0:(_userColor$selectedDo23=_userColor$selectedDo22.code)===null||_userColor$selectedDo23===void 0?void 0:(_userColor$selectedDo24=_userColor$selectedDo23[0])===null||_userColor$selectedDo24===void 0?void 0:_userColor$selectedDo24.appColor)||theme.colorSet.surface,children:typeof((_userColor$selectedDo25=userColor[selectedDoorId])===null||_userColor$selectedDo25===void 0?void 0:(_userColor$selectedDo26=_userColor$selectedDo25.code)===null||_userColor$selectedDo26===void 0?void 0:(_userColor$selectedDo27=_userColor$selectedDo26[0])===null||_userColor$selectedDo27===void 0?void 0:_userColor$selectedDo27.appColor)==="undefined"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{disabled:!isColorCollectionOn()||!isEnable(),"aria-hidden":!isColorCollectionOn()||!isEnable(),src:wrm_GRM_resource_common_image_01_btn_action_add_btn_action_add_material_nor_png__WEBPACK_IMPORTED_MODULE_14__["default"],width:24,height:24})}),(userColor===null||userColor===void 0?void 0:(_userColor$selectedDo28=userColor[selectedDoorId])===null||_userColor$selectedDo28===void 0?void 0:(_userColor$selectedDo29=_userColor$selectedDo28.code)===null||_userColor$selectedDo29===void 0?void 0:(_userColor$selectedDo30=_userColor$selectedDo29[0])===null||_userColor$selectedDo30===void 0?void 0:_userColor$selectedDo30.customColorId)===((currentDoorRGB===null||currentDoorRGB===void 0?void 0:(_currentDoorRGB$selec7=currentDoorRGB[selectedDoorPosition])===null||_currentDoorRGB$selec7===void 0?void 0:(_currentDoorRGB$selec8=_currentDoorRGB$selec7.code)===null||_currentDoorRGB$selec8===void 0?void 0:(_currentDoorRGB$selec9=_currentDoorRGB$selec8[selectedDoorIdx])===null||_currentDoorRGB$selec9===void 0?void 0:_currentDoorRGB$selec9.customColorId)||(currentDoorRGB===null||currentDoorRGB===void 0?void 0:(_currentDoorRGB$selec10=currentDoorRGB[selectedDoorPosition])===null||_currentDoorRGB$selec10===void 0?void 0:(_currentDoorRGB$selec11=_currentDoorRGB$selec10.code)===null||_currentDoorRGB$selec11===void 0?void 0:(_currentDoorRGB$selec12=_currentDoorRGB$selec11[0])===null||_currentDoorRGB$selec12===void 0?void 0:_currentDoorRGB$selec12.customColorId))&&typeof(userColor===null||userColor===void 0?void 0:(_userColor$selectedDo31=userColor[selectedDoorId])===null||_userColor$selectedDo31===void 0?void 0:(_userColor$selectedDo32=_userColor$selectedDo31.code)===null||_userColor$selectedDo32===void 0?void 0:(_userColor$selectedDo33=_userColor$selectedDo32[0])===null||_userColor$selectedDo33===void 0?void 0:_userColor$selectedDo33.customColorId)!=="undefined"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(SelectedCheck,{"aria-hidden":true,circle:true,src:modeScheme==="light"?wrm_GRM_resource_sample_icCheckboxSelectedLightNormal_3x_png__WEBPACK_IMPORTED_MODULE_16__["default"]:wrm_GRM_resource_sample_icCheckboxSelectedDarkNormal_3x_png__WEBPACK_IMPORTED_MODULE_15__["default"]})]}),((_userColor$selectedDo34=userColor[selectedDoorId])===null||_userColor$selectedDo34===void 0?void 0:(_userColor$selectedDo35=_userColor$selectedDo34.code)===null||_userColor$selectedDo35===void 0?void 0:(_userColor$selectedDo36=_userColor$selectedDo35[0])===null||_userColor$selectedDo36===void 0?void 0:_userColor$selectedDo36.appColor)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(EditIcon,{onClick:()=>{if(!isColorCollectionOn()||!isEnable()){return;}setIsShowUserColorBs(true);},tabIndex:"1","aria-label":t("@CP_LABEL_EDIT"),role:"button",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Icon,{icon:"edit",size:16})})]})]})]})]})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",type:"tertiary_a",onClick:goBack,children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",type:"primary",onClick:saveMyTheme,disabled:!isColorCollectionOn()||!isEnable()||themeName.length===0||themeName.length>8,children:t("@CP_LABEL_ADD")})]})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheet,{isShow:isShowUserColorBS,isFixed:true,onBackKeyPress:()=>{setIsShowUserColorBs(prev=>!prev);},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetHeader,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A12",weight:"Bold",color:theme.colorSet.on_background,children:t("@RE_UX35_NCM_MYTHEME_USER_COLOR_W")})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetBody,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(wrm_GRM_screen_GRP_GRP_NCM01_Color_customColorPalette__WEBPACK_IMPORTED_MODULE_17__["default"],{disabled:!isColorCollectionOn()||!isEnable(),onClickColor:onClickUserColor,product:product,selectedDoorId:selectedDoorId,isFromMyTheme:true,userColor:(_userColor$selectedDo37=userColor[selectedDoorId])===null||_userColor$selectedDo37===void 0?void 0:(_userColor$selectedDo38=_userColor$selectedDo37.code)===null||_userColor$selectedDo38===void 0?void 0:(_userColor$selectedDo39=_userColor$selectedDo38[0])===null||_userColor$selectedDo39===void 0?void 0:_userColor$selectedDo39.appColor,isShowUserColorBS:isShowUserColorBS})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetFooter,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_20__.constant.ELEMENT_ID.NCM_CANCEL_FROM_ADD_MYTHEME,size:"cmd",type:"tertiary_a",onClick:()=>{setIsShowUserColorBs(prev=>!prev);},children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_20__.constant.ELEMENT_ID.NCM_CONFIRM_FROM_ADD_MYTHEME,size:"cmd",type:"primary",onClick:()=>{saveUserColor();},disabled:!isColorCollectionOn()||!isEnable()||typeof selectedUserColor!=="object"||(selectedUserColor===null||selectedUserColor===void 0?void 0:selectedUserColor.customColorId)===((_userColor$selectedDo40=userColor[selectedDoorId])===null||_userColor$selectedDo40===void 0?void 0:(_userColor$selectedDo41=_userColor$selectedDo40.code)===null||_userColor$selectedDo41===void 0?void 0:(_userColor$selectedDo42=_userColor$selectedDo41[0])===null||_userColor$selectedDo42===void 0?void 0:_userColor$selectedDo42.customColorId),children:t("@RE_UX35_NCM_MYTHEME_USER_COLOR_SELECT_W")})]})})]})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_NCM01_MyThemeAdd);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM01_Main/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRM/ncmUtil.js");
/* harmony import */ var wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRM/uiUtility.js");
/* harmony import */ var wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var _component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/component/GRP/NcmDoorColor.js");
/* harmony import */ var _component_GRP_NowPlayingListBs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/component/GRP/NowPlayingListBs.js");
/* harmony import */ var _component_common_StyledCard__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/component/common/StyledCard.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/lib/common/core/upgradableProvider.js");
/* harmony import */ var _lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/wrm/GRM/lib/common/ncmConstant.js");
/* harmony import */ var _lib_common_useBsState__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/wrm/GRM/lib/common/useBsState.js");
/* harmony import */ var _alarmCard__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/wrm/GRM/screen/GRP/GRP_NCM01_Main/alarmCard.js");
/* harmony import */ var _colorCard__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./src/wrm/GRM/screen/GRP/GRP_NCM01_Main/colorCard.js");
/* harmony import */ var _knockOnCard__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./src/wrm/GRM/screen/GRP/GRP_NCM01_Main/knockOnCard.js");
/* harmony import */ var _musicCard__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./src/wrm/GRM/screen/GRP/GRP_NCM01_Main/musicCard.js");
/* harmony import */ var _volumeCard__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./src/wrm/GRM/screen/GRP/GRP_NCM01_Main/volumeCard.js");
/* harmony import */ var _lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var _lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__);
const NcmTopContainer=(0,styled_components__WEBPACK_IMPORTED_MODULE_27__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({align:"center",justify:"center"})`
    width: 100%;
`;// const SyncListItem = (props) => {
//     const { mainText, subText, onOff, SetOnOff, goDetailPage } = props;
//     return (
//         <ListItem onClick={goDetailPage}>
//             <ListItemMain>
//                 <ListItemText>{mainText}</ListItemText>
//                 <ListItemText description>{subText}</ListItemText>
//             </ListItemMain>
//             <IconButton
//                 disabled={false}
//                 aria-hidden={true}
//                 icon="navi_next"
//                 onClick={() => {
//                     goDetailPage();
//                 }}
//             />
//             <ListItemControl
//                 vDivider={true}
//                 control="switch"
//                 position="end"
//                 checked={onOff}
//                 onChange={() => {
//                     SetOnOff((prev) => !prev);
//                 }}
//             />
//         </ListItem>
//     );
// };
let searchValue="";const GRP_NCM01_Main=props=>{var _product$modelJson$Co,_product$modelJson$Co2,_carpetModel$musicLig,_carpetModel$colorCol,_carpetModel$colorTyp,_product$modelJson$Co3,_product$modelJson$Co4,_carpetModel$ncmKnock,_product$config,_carpetModel$colorCol4,_carpetModel$colorAla2,_carpetModel$musicLig5,_carpetModel$colorTyp4,_carpetModel$door1Col2,_carpetModel$door2Col,_carpetModel$door3Col,_carpetModel$door4Col,_carpetModel$musicCol3,_carpetModel$colorTyp5,_carpetModel$doorOpen,_carpetModel$welcomeN,_carpetModel$nightMoo,_carpetModel$mediaPla,_carpetModel$mediaPla2,_carpetModel$mediaPla3,_carpetModel$mediaPla4,_carpetModel$door1Col7,_carpetModel$colorTyp6,_carpetModel$door1Col8,_carpetModel$door2Col3,_carpetModel$door3Col3,_carpetModel$door4Col3,_carpetModel$feature,_carpetModel$feature$,_carpetModel$feature4,_carpetModel$feature5,_carpetModel$musicLig9,_carpetModel$feature6,_carpetModel$feature7,_carpetModel$feature8,_carpetModel$feature9,_ncmConstant$MUSIC_LI,_ncmConstant$MUSIC_LI2,_carpetModel$musicLig10,_artistInfo$videoSrc,_artistInfo$videoSrc$,_artistInfo$videoSrc$2,_carpetModel$musicLig11,_ncmConstant$MUSIC_LI3,_ncmConstant$MUSIC_LI4,_carpetModel$musicLig12,_artistInfo$videoSrc2,_artistInfo$videoSrc3,_artistInfo$videoSrc4,_carpetModel$musicLig13,_carpetModel$mediaPla5,_carpetModel$mediaPla6,_carpetModel$feature10,_carpetModel$feature11,_carpetModel$mediaPla7,_carpetModel$mediaPla8,_carpetModel$feature12,_carpetModel$feature13,_carpetModel$feature14,_carpetModel$feature15,_carpetModel$feature16,_carpetModel$feature17,_carpetModel$musicCol4,_carpetModel$feature18,_carpetModel$feature19,_carpetModel$feature20,_carpetModel$feature21,_carpetModel$feature22,_carpetModel$feature23,_carpetModel$feature24,_carpetModel$feature25,_carpetModel$feature26,_carpetModel$feature27,_carpetModel$feature28,_carpetModel$feature29,_carpetModel$feature30,_carpetModel$feature31,_pairingInfo$item,_pairingInfo$item$fil,_carpetModel$feature32,_carpetModel$feature33,_carpetModel$feature34,_carpetModel$feature35,_carpetModel$feature36,_carpetModel$feature37,_carpetModel$feature38,_carpetModel$feature39,_carpetModel$feature40,_carpetModel$feature41,_nowPlayingState$musi,_nowPlayingState$musi2;// Get product by product ID
const{productId,searchText}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const feature="ncmMode";const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const isOspCase=wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__["default"].isOspProduct(product);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_14__.useCarpetGRP)(product,`GRP_NCM01_Main`,false,false);// eslint-disable-next-line
const[carpetModel]=carpet.getModel();const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const isSupportNCMMusic=((_product$modelJson$Co=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co===void 0?void 0:_product$modelJson$Co.supportMusic)||false;const refType=((_product$modelJson$Co2=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co2===void 0?void 0:_product$modelJson$Co2.refType)||"DEFAULT";// const [ncmColorSetTotal, setNcmColorSetTotal] = useState([]);
// const [ncmThemeSetTotal, setNcmThemeSetTotal] = useState([]);
const[ncmColorSetTotal,setNcmColorSetTotal]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmColorInfoAtom);const[ncmThemeSetTotal,setNcmThemeSetTotal]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmThemeInfoAtom);const[musicLightMode,SetMusicLightMode]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(((_carpetModel$musicLig=carpetModel.musicLight)===null||_carpetModel$musicLig===void 0?void 0:_carpetModel$musicLig.value)||"OFF");const[musicLightModeIdx,SetMusicLightModeIdx]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);const[isMusicCollectionOn,setIsMusicCollectionOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);const[isColorAlarmOn,SetIsColorAlarmOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);const[isColorCollectionOn,SetIsColorCollectionOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol===void 0?void 0:_carpetModel$colorCol.value)==="ON");// const [isMusicLightingOn, SetIsMusicLightingOn] = useState(true);
// const [volume, SetVolume] = useState(50);
const isThemeMode=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp=carpetModel.colorType)===null||_carpetModel$colorTyp===void 0?void 0:_carpetModel$colorTyp.value)==="THEME";const[doorThemeColorList,setDoorColorList]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const backgroundImg=(_product$modelJson$Co3=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co3===void 0?void 0:_product$modelJson$Co3.backgroundImg;const backgroundImgOff=(_product$modelJson$Co4=product.modelJson.Config.ncmInfo)===null||_product$modelJson$Co4===void 0?void 0:_product$modelJson$Co4.backgroundImgOff;const ncmInfo=product.modelJson.Config.ncmInfo;const ncmDoors=ncmInfo===null||ncmInfo===void 0?void 0:ncmInfo.doors;const playerBs=(0,_lib_common_useBsState__WEBPACK_IMPORTED_MODULE_18__.useBsState)();const[pairingInfo,setPairingInfo]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const supportDeviceTypeList=product.modelJson.Config.ncmInfo.supportDeviceTypeList||["102"];// 노크온
const isKnockOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmKnock=carpetModel.ncmKnockOnOffEnable)===null||_carpetModel$ncmKnock===void 0?void 0:_carpetModel$ncmKnock.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_SET;// 뮤직컬렉션 재생목록
const[mediaStateAtom,setMediaStateAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmMediaStateAtom);const[playListAtom,setPlayListAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmPlayListAtom);const[favoritesAtom,setFavoritesAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmBookmarkListAtom);const[ncmContentsAtom,setNcmContentsAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmContentsAtom);const[nowPlayingState,setNowPlayingState]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmNowPlayingStateAtom);const[isPartyModeDisabled,setIsPartyModeDisabled]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);// 10분 이상 음악 일시정지시 파티모드 꺼짐 팝업 컨트롤
const[isShowMusicPausePopup,setIsShowMusicPausePopup]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const checkedDontShowAgainMusicPauseFlag=product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.PRODUCT_CONFIG.KEY_NCM_MUSIC_PAUSE_POPUP_DONT_SHOW_AGAIN);const[dontShowAgainMusicPauseFlag,setDontShowAgainMusicPauseFlag]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(checkedDontShowAgainMusicPauseFlag);const onChangePopupDontShowAgainMusicPause=e=>{setDontShowAgainMusicPauseFlag(e.target.checked);const p1=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].getFirstUpperCase(e.target.checked);wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_8__["default"].fireBaseEventUsedFeature(product,"-ncm01-MusicPausePopNotAgain"+p1);product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.PRODUCT_CONFIG.KEY_NCM_MUSIC_PAUSE_POPUP_DONT_SHOW_AGAIN,e.target.checked);};// end
// 컬러컬렉션 안내 팝업 , 컬러모드 ON -> OFF 시 작동
const[selectedOption,setSelectedOption]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const checkedDontShowColorCollectionOnFlag=(_product$config=product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.PRODUCT_CONFIG.KEY_COLOR_COLLECTION_ON_POPUP_GUIDE_DONT_SHOW_AGAIN))!==null&&_product$config!==void 0?_product$config:false;const[dontShowColorCollectionOnFlag,setDontShowColorCollectionOnFlag]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(checkedDontShowColorCollectionOnFlag);const[isShowColorCollectionOnPopUp,setIsShowColorCollectionOnPopUp]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const onChangePopupDontSHowAgainColorCollectionOnFlag=e=>{setDontShowColorCollectionOnFlag(e.target.checked);};const onConfirmPopupDontShowAgainColorCollection=()=>{sendBasicVtControl("colorCollectionOnOff",selectedOption);if(!dontShowColorCollectionOnFlag){return;}const p1=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].getFirstUpperCase(dontShowColorCollectionOnFlag);wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_8__["default"].fireBaseEventUsedFeature(product,"-col01-ColorCollectionOnPopUpNotAgain"+p1);product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.PRODUCT_CONFIG.KEY_COLOR_COLLECTION_ON_POPUP_GUIDE_DONT_SHOW_AGAIN,dontShowColorCollectionOnFlag);};//end
const setPlayMode=(cmd,value)=>{var _carpetModel$colorCol2,_carpetModel$musicCol,_carpetModel$musicLig2;const colorCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol2=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol2===void 0?void 0:_carpetModel$colorCol2.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_ON;const musicCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol===void 0?void 0:_carpetModel$musicCol.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_ON;const partyModeOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig2=carpetModel.musicLight)===null||_carpetModel$musicLig2===void 0?void 0:_carpetModel$musicLig2.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF;if(!dontShowAgainMusicPauseFlag&&value===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_17__.ncmConstant.VALUE_MUSIC.PAUSE&&colorCollectionOn&&musicCollectionOn&&partyModeOn){setIsShowMusicPausePopup(true);}wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_6__["default"].setPlayMode(carpet,cmd,value);};const setVolume=value=>{wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_6__["default"].setVolume(carpet,value);};const getPlayListInfo=()=>{console.info(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId);// PlayList
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__.apiFeatureService.fetchFeatureValue(product,"ncmPlayListInfo",props.carpetModel,{},true,false).then(res=>{var _res$value;const playList=((_res$value=res.value)===null||_res$value===void 0?void 0:_res$value.items)||[];setPlayListAtom(playList);// let _mediaStateAtom = utilityService.cloneJson(mediaStateAtom);
// PlayListId 변경시 State업데이트
// if (
//     res.value?.playListId &&
//     _mediaStateAtom &&
//     res.value?.playListId !== _mediaStateAtom.playListId
// ) {
//     // _mediaStateAtom.playListId = res.value?.playListId;
//     setMediaStateAtom((prev) => {
//         return {
//             ...prev,
//             playListId: res.value?.playListId,
//         };
//     });
// }
// const nowPlayMusic = playList.find((song) => {
//     return song?.playUniqueId === _mediaStateAtom?.playUniqueId;
// });
// // nowPlayingState set
// if (nowPlayMusic) {
//     setNowPlayingState((prev) => {
//         return {
//             ...prev,
//             music: nowPlayMusic,
//         };
//     });
// } else {
//     setNowPlayingState((prev) => {
//         return {
//             ...prev,
//             music: playList[0],
//         };
//     });
// }
if(playList.length>0){//noop
}else{if(playerBs.value){playerBs.fnToggleBs();}}});};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{const nowPlayMusic=playListAtom===null||playListAtom===void 0?void 0:playListAtom.find(song=>{return(song===null||song===void 0?void 0:song.playUniqueId)===(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playUniqueId);});// nowPlayingState set
if(nowPlayMusic){setNowPlayingState(prev=>{return{...prev,music:nowPlayMusic};});}else if(playListAtom.length>0){setNowPlayingState(prev=>{return{...prev,music:playListAtom[0]};});}},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playUniqueId,playListAtom]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{getPlayListInfo();// media state 변경
},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$colorCol3;SetIsColorCollectionOn((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol3=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol3===void 0?void 0:_carpetModel$colorCol3.value)==="ON");},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol4=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol4===void 0?void 0:_carpetModel$colorCol4.value]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$colorAla;SetIsColorAlarmOn((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorAla=carpetModel.colorAlarmOnOff)===null||_carpetModel$colorAla===void 0?void 0:_carpetModel$colorAla.value)==="ON");},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorAla2=carpetModel.colorAlarmOnOff)===null||_carpetModel$colorAla2===void 0?void 0:_carpetModel$colorAla2.value]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$musicLig3;SetMusicLightMode(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig3=carpetModel.musicLight)===null||_carpetModel$musicLig3===void 0?void 0:_carpetModel$musicLig3.value);const objFound=lightModeList.find(item=>{var _carpetModel$musicLig4;return item.value===(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig4=carpetModel.musicLight)===null||_carpetModel$musicLig4===void 0?void 0:_carpetModel$musicLig4.value);});if(objFound){SetMusicLightModeIdx(objFound.index);}},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig5=carpetModel.musicLight)===null||_carpetModel$musicLig5===void 0?void 0:_carpetModel$musicLig5.value]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$colorTyp2,_carpetModel$colorTyp3;const newThemeList=ncmThemeSetTotal.find(item=>{var _carpetModel$door1Col;return item.id===((_carpetModel$door1Col=carpetModel.door1ColorId)===null||_carpetModel$door1Col===void 0?void 0:_carpetModel$door1Col.value)+"";});setDoorColorList(((_carpetModel$colorTyp2=carpetModel.colorType)===null||_carpetModel$colorTyp2===void 0?void 0:_carpetModel$colorTyp2.value)==="THEME"?newThemeList:((_carpetModel$colorTyp3=carpetModel.colorType)===null||_carpetModel$colorTyp3===void 0?void 0:_carpetModel$colorTyp3.value)==="COLOR"?ncmColorSetTotal:undefined);},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp4=carpetModel.colorType)===null||_carpetModel$colorTyp4===void 0?void 0:_carpetModel$colorTyp4.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col2=carpetModel.door1ColorId)===null||_carpetModel$door1Col2===void 0?void 0:_carpetModel$door1Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door2Col=carpetModel.door2ColorId)===null||_carpetModel$door2Col===void 0?void 0:_carpetModel$door2Col.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door3Col=carpetModel.door3ColorId)===null||_carpetModel$door3Col===void 0?void 0:_carpetModel$door3Col.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door4Col=carpetModel.door4ColorId)===null||_carpetModel$door4Col===void 0?void 0:_carpetModel$door4Col.value,ncmThemeSetTotal,ncmColorSetTotal]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$musicCol2;setIsMusicCollectionOn((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol2=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol2===void 0?void 0:_carpetModel$musicCol2.value)==="ON");},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol3=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol3===void 0?void 0:_carpetModel$musicCol3.value]);const goBack=()=>{carpet.back("GRM_CEN01_Main",{productId:productId,toMain:true});};const goNcmColorPage=()=>{carpet.go("GRP_NCM01_Color",{productId:productId});};const goNcmMusicPage=()=>{carpet.go("GRP_NCM01_Music",{productId:productId});};const goNcmAlarmPage=()=>{carpet.go("GRP_NCM05_ColorAlarm",{productId:productId});};const checkSearchStatus=()=>{wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__["default"].checkSearchElement(searchValue);};const onMonitoring=data=>{var _data$refState;setIsDisconnected(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].isDisconnected(product,data));// Update play list
console.info("onNcm");console.info(data.mediaState);if(data!==null&&data!==void 0&&(_data$refState=data.refState)!==null&&_data$refState!==void 0&&_data$refState.mediaState){var _data$refState2;setMediaStateAtom(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson((_data$refState2=data.refState)===null||_data$refState2===void 0?void 0:_data$refState2.mediaState));}checkSearchStatus(data);};const onMonitoringError=()=>{console.info("onMonitoring Err");wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__["default"].checkSearchValue(searchValue);};// ncmColor/theme, ncmMusic 전체 조회
const fetchNcmContents=()=>{wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__.apiFeatureService.fetchFeatureValue(product,"ncmColorInfo",undefined,{},true,false).then(res1=>{var _res1$value,_res1$value$myColor,_res1$value3,_res1$value3$myTheme;console.info(res1);console.info(res1.value);let _ncmColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(res1.value.color);let _ncmThemeSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(res1.value.theme);let _ncmDefaultColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(res1.value.defaultColor);_ncmColorSet=[..._ncmColorSet,..._ncmDefaultColorSet];if((res1===null||res1===void 0?void 0:(_res1$value=res1.value)===null||_res1$value===void 0?void 0:(_res1$value$myColor=_res1$value.myColor)===null||_res1$value$myColor===void 0?void 0:_res1$value$myColor.length)>0){var _res1$value2;const _ncmMyColorSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(res1===null||res1===void 0?void 0:(_res1$value2=res1.value)===null||_res1$value2===void 0?void 0:_res1$value2.myColor);_ncmColorSet=[..._ncmColorSet,..._ncmMyColorSet];}if((res1===null||res1===void 0?void 0:(_res1$value3=res1.value)===null||_res1$value3===void 0?void 0:(_res1$value3$myTheme=_res1$value3.myTheme)===null||_res1$value3$myTheme===void 0?void 0:_res1$value3$myTheme.length)>0){var _res1$value4;const _ncmMyThemeSet=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(res1===null||res1===void 0?void 0:(_res1$value4=res1.value)===null||_res1$value4===void 0?void 0:_res1$value4.myTheme);_ncmThemeSet=[..._ncmThemeSet,..._ncmMyThemeSet];}setNcmColorSetTotal(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(_ncmColorSet));setNcmThemeSetTotal(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(_ncmThemeSet));// ncm 뮤직테마 전체 조회
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__.apiFeatureService.fetchFeatureValue(product,"ncmMusicInfo",undefined,{},true,false).then(res2=>{setNcmContentsAtom({colorContents:res1===null||res1===void 0?void 0:res1.value,musicContents:res2===null||res2===void 0?void 0:res2.value});});});wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__.apiFeatureService.fetchFeatureValue(product,"ncmPairingInfo",undefined,{},true,false).then(res=>{console.info(res.value);setPairingInfo(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(res.value));});getPlayListInfo();// Bookmark
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__.apiFeatureService.fetchFeatureValue(product,"ncmBookmarkInfo",props.carpetModel,{},true,false).then(res=>{setFavoritesAtom(res.value);});};// 노크온, 컬러 톤 미세 조정 체크
const[isSupportDoorKnockOn,setIsSupportDoorKnockOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isSupportColorToneAd,setIsSupportColorToneAd]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isShowNewBadgeColorToneAd,setIsShowNewBadgeColorToneAd]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);// 무드업 컬러톤 미세조절 upVersion
const[colorToneAdVersion,setColorToneAdVersion]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const checkFoceOpenUpContents=()=>{let knockOnContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_16__.upgradableProvider.checkSupportDoorKnockOn(undefined,product);const colorToneAdContentV2=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_16__.upgradableProvider.checkSupportColorToneAdV2(undefined,product);const colorToneAdContent=colorToneAdContentV2!==null&&colorToneAdContentV2!==void 0&&colorToneAdContentV2.isSupport?colorToneAdContentV2:_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_16__.upgradableProvider.checkSupportColorToneAd(undefined,product);if(colorToneAdContent.isSupport){setIsShowNewBadgeColorToneAd(colorToneAdContent.isShowNewBadge);}if(colorToneAdContentV2!==null&&colorToneAdContentV2!==void 0&&colorToneAdContentV2.isSupport){setColorToneAdVersion("V2");}else if(colorToneAdContent!==null&&colorToneAdContent!==void 0&&colorToneAdContent.isSupport){setColorToneAdVersion("V1");}setIsSupportDoorKnockOn(knockOnContent.isSupport);setIsSupportColorToneAd(colorToneAdContent.isSupport);};const fetchActivatedContents=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__.apiFeatureService.fetchFeatureValue(product,"activatedContents",undefined,{},true,true).then(res=>{var _res$rawData,_res$activatedContent;const activatedContentList=isOspCase?res===null||res===void 0?void 0:(_res$rawData=res.rawData)===null||_res$rawData===void 0?void 0:_res$rawData.ospAppList:res===null||res===void 0?void 0:res.activatedContents;if(isOspCase&&activatedContentList){let knockOnContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_16__.upgradableProvider.checkSupportDoorKnockOn(activatedContentList,product,isOspCase);const colorToneAdContentV2=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_16__.upgradableProvider.checkSupportColorToneAdV2(activatedContentList,product,isOspCase);const colorToneAdContent=colorToneAdContentV2!==null&&colorToneAdContentV2!==void 0&&colorToneAdContentV2.isSupport?colorToneAdContentV2:_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_16__.upgradableProvider.checkSupportColorToneAd(activatedContentList,product,isOspCase);if(colorToneAdContentV2!==null&&colorToneAdContentV2!==void 0&&colorToneAdContentV2.isSupport){setColorToneAdVersion("V2");}else if(colorToneAdContent!==null&&colorToneAdContent!==void 0&&colorToneAdContent.isSupport){setColorToneAdVersion("V1");}if(colorToneAdContent.isSupport){setIsShowNewBadgeColorToneAd(colorToneAdContent.isShowNewBadge);}setIsSupportDoorKnockOn(knockOnContent.isSupport);setIsSupportColorToneAd(colorToneAdContent.isSupport);}else if(!isOspCase&&(res===null||res===void 0?void 0:(_res$activatedContent=res.activatedContents)===null||_res$activatedContent===void 0?void 0:_res$activatedContent.length)>0){let knockOnContent=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_16__.upgradableProvider.checkSupportDoorKnockOn(res===null||res===void 0?void 0:res.activatedContents,product,false);const colorToneAdContentV2=_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_16__.upgradableProvider.checkSupportColorToneAdV2(res===null||res===void 0?void 0:res.activatedContents,product,false);const colorToneAdContent=colorToneAdContentV2!==null&&colorToneAdContentV2!==void 0&&colorToneAdContentV2.isSupport?colorToneAdContentV2:_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_16__.upgradableProvider.checkSupportColorToneAd(res===null||res===void 0?void 0:res.activatedContents,product,false);if(colorToneAdContentV2!==null&&colorToneAdContentV2!==void 0&&colorToneAdContentV2.isSupport){setColorToneAdVersion("V2");}else if(colorToneAdContent!==null&&colorToneAdContent!==void 0&&colorToneAdContent.isSupport){setColorToneAdVersion("V1");}if(colorToneAdContent.isSupport){setIsShowNewBadgeColorToneAd(colorToneAdContent.isShowNewBadge);}setIsSupportDoorKnockOn(knockOnContent.isSupport);setIsSupportColorToneAd(colorToneAdContent.isSupport);}else{setIsSupportDoorKnockOn(false);setIsSupportColorToneAd(false);}});};const goSyncPage=()=>{carpet.go("GRP_NCM06_Sync",{productId:productId});};const checkedDontShowAgainFlag=product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.PRODUCT_CONFIG.KEY_NCM_INITIAL_POPUP_DONT_SHOW_AGAIN);const[dontShowAgainFlag,setDontShowAgainFlag]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(checkedDontShowAgainFlag);const onChangePopupDontShowAgain=e=>{setDontShowAgainFlag(e.target.checked);const p1=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].getFirstUpperCase(e.target.checked);wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_8__["default"].fireBaseEventUsedFeature(product,"-ncm01-PopNotAgain"+p1);product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.PRODUCT_CONFIG.KEY_NCM_INITIAL_POPUP_DONT_SHOW_AGAIN,e.target.checked);};const[isShowPopup,setShowPopup]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _utilityService$getPr;// carpet.registerOnResumeCallback(onMonitoring);
carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);carpet.registerOnBackButtonCallback(goBack);fetchNcmContents();if(wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__["default"].isSupportUpgradeCenter(product)){fetchActivatedContents();}else{checkFoceOpenUpContents();}const fromDashboard=(_utilityService$getPr=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].getPrevStatePath())===null||_utilityService$getPr===void 0?void 0:_utilityService$getPr.includes("CEN01_Main");if(fromDashboard&&!dontShowAgainFlag){setShowPopup(true);}searchValue=searchText;return()=>{carpet.unregisterOnBackButtonCallback();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);const lightModeList=[{index:0,value:"OFF",label:t("@RE_UX30_TERM_OFF_EN_W")},{index:1,value:"BOUNCE",label:t("@CP_NCM_TERM_BOUNCE_W")},{index:2,value:"FLOW",label:t("@CP_NCM_TERM_FLOW_W")}];const sendMusicLightMode=index=>{const obj=lightModeList.find(item=>{return item.index===index;});if(obj){var _carpetModel$energySa;if((obj===null||obj===void 0?void 0:obj.value)==="ON"&&(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$energySa=carpetModel.energySavingEnabled)===null||_carpetModel$energySa===void 0?void 0:_carpetModel$energySa.value)==="ON"){(0,libs__WEBPACK_IMPORTED_MODULE_1__.toast)(t("@RE_UX50_ESAVING_CONFLICT_S",{$0:t("@CP_NCM_TERM_PARTY_MODE_W")}));}sendBasicVtControl("musicLight",obj.value);}};const sendMusicCollectionOnOff=value=>{sendBasicVtControl("musicCollectionOnOff",value);};const sendBasicVtControl=(cmd,value)=>{// const cmd = "musicLight";
wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_8__["default"].fireBaseEventUsedFeature(product,"-Ncm04-Ctrl"+cmd+"_"+t(value));let vtParam={ctrlTarget:["DOOR_ALL"],reqDevType:"APP",productType:"NORMAL",vtData:{DOOR_ALL:[{cmd:cmd,type:"ABSOLUTE",value:value,roomType:"NONE"}]}};// if (cmd === "musicLight") {
//     const ctrlParam = {
//         ctrlKey: "vtCtrl",
//         command: "Set",
//         dataSetList: vtParam,
//     };
//     apiFeatureService
//         .setFeatureValue(
//             product,
//             "ncmPairingCtrl",
//             undefined,
//             { partyModeCmd: ctrlParam },
//             true,
//             false,
//             true
//         )
//         .then((res) => {
//             console.info(res);
//         });
// } else {
carpet.sendVtControl(vtParam,true,false,true);// }
};const isValidColorValue=colorId=>{if((colorId===null||colorId===void 0?void 0:colorId.value)===null||typeof(colorId===null||colorId===void 0?void 0:colorId.value)==="undefined"){return false;}return true;};// const onClickUseNcm = () => {
//     //전체 NCM기능에 대한 On/Off 컨트롤
//     console.debug("050", "onClickUseNcm");
//     const selectedOption = carpetModel?.[feature]?.valueMapping?.find((item) =>
//         carpetModel?.[feature]?.value?.includes(constant.TERM_OFF)
//             ? item.value.includes(constant.TERM_ON)
//             : item.value.includes(constant.TERM_OFF)
//     );
//     sendBasicVtControl(feature, selectedOption.value);
// };
// 개별Color 적용시 각 도어의 현재 컬러RBD
const currentDoorRGB={tl:ncmColorSetTotal.find(item=>{if(isValidColorValue(carpetModel.door1ColorId)){var _carpetModel$door1Col3;return item.id===((_carpetModel$door1Col3=carpetModel.door1ColorId)===null||_carpetModel$door1Col3===void 0?void 0:_carpetModel$door1Col3.value)+"";}else{return item.id==="0";}}),tr:ncmColorSetTotal.find(item=>{if(isValidColorValue(carpetModel.door2ColorId)){var _carpetModel$door2Col2;return item.id===((_carpetModel$door2Col2=carpetModel.door2ColorId)===null||_carpetModel$door2Col2===void 0?void 0:_carpetModel$door2Col2.value)+"";}else{return item.id==="0";}}),bl:ncmColorSetTotal.find(item=>{if(isValidColorValue(carpetModel.door3ColorId)){var _carpetModel$door3Col2;return item.id===((_carpetModel$door3Col2=carpetModel.door3ColorId)===null||_carpetModel$door3Col2===void 0?void 0:_carpetModel$door3Col2.value)+"";}else{return item.id==="0";}}),br:ncmColorSetTotal.find(item=>{if(isValidColorValue(carpetModel.door4ColorId)){var _carpetModel$door4Col2;return item.id===((_carpetModel$door4Col2=carpetModel.door4ColorId)===null||_carpetModel$door4Col2===void 0?void 0:_carpetModel$door4Col2.value)+"";}else{return item.id==="0";}})};const colorCardData={settingName:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp5=carpetModel.colorType)===null||_carpetModel$colorTyp5===void 0?void 0:_carpetModel$colorTyp5.value)==="THEME"?t(doorThemeColorList!==null&&doorThemeColorList!==void 0&&doorThemeColorList.name?doorThemeColorList.name:""):t("@CP_NCM_USER_PICK_W"),//테마명 or 사용자 지정
doorThemeColorList:doorThemeColorList,doorColorRGB:currentDoorRGB};const musicCardData={productName:product===null||product===void 0?void 0:product.alias,//테마명 or 사용자 지정
status:mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState,btState:mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.btState,//todo mediaPlayState
// status: carpetModel?.mediaPlayState?.value,
list:playListAtom||[],currentIdx:Number((mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playIndex)||"0"),// 현재 playing중인 index
currentUniqueId:mediaStateAtom.playUniqueId,light:{value:musicLightMode,setMusicLight:sendMusicLightMode,setOnOff:sendMusicCollectionOnOff,option:["OFF","BOUNCE","FLOW"],index:musicLightModeIdx,labels:lightModeList},sound:{volume:Number(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playVolume)||0,SetVolume:setVolume}};const alarmCardData={doorAlarm:{state:carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$doorOpen=carpetModel.doorOpenLighting)===null||_carpetModel$doorOpen===void 0?void 0:_carpetModel$doorOpen.value,color:"#95716f"},welcomeAlarm:{state:carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$welcomeN=carpetModel.welcomeNoti)===null||_carpetModel$welcomeN===void 0?void 0:_carpetModel$welcomeN.value,color:"#ff0000"},nightMood:{state:carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$nightMoo=carpetModel.nightMood)===null||_carpetModel$nightMoo===void 0?void 0:_carpetModel$nightMoo.value}};const isColorMode=carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$mediaPla=carpetModel.mediaPlayState)===null||_carpetModel$mediaPla===void 0?void 0:(_carpetModel$mediaPla2=_carpetModel$mediaPla.value)===null||_carpetModel$mediaPla2===void 0?void 0:_carpetModel$mediaPla2.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF);const isPartyModePlay=carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$mediaPla3=carpetModel.mediaPlayState)===null||_carpetModel$mediaPla3===void 0?void 0:(_carpetModel$mediaPla4=_carpetModel$mediaPla3.value)===null||_carpetModel$mediaPla4===void 0?void 0:_carpetModel$mediaPla4.includes("PLAY");const sendPreviewCmd=previewIndex=>{sendBasicVtControl("preview",musicCardData.light.option[previewIndex]);const btns=[{label:t("@CP_CONFIRM_W"),event:()=>{}}];wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].showDialog("",t("@CP_NCM_TERM_PREVIEW_POPUP_S",{$0:t(product.alias),$1:t("@CP_NCM_TERM_PARTY_MODE_W"),$2:"10"}),btns);};const goThemeDetail=themeId=>{console.info(themeId);const selectedTheme=ncmContentsAtom===null||ncmContentsAtom===void 0?void 0:ncmContentsAtom.musicContents.find(item=>{return item.themeId===themeId;});if(selectedTheme){carpet.go("GRP_NCM07_MusicThemeDetail",{productId:productId,themeSelected:JSON.stringify(selectedTheme)});}};const handlePlayListChanged=_ref=>{let{oldIndex,newIndex}=_ref;if(oldIndex===newIndex)return;let items=[...playListAtom];const[reorderedItem]=items.splice(oldIndex,1);items.splice(newIndex,0,reorderedItem);const requestBody={cmd:"reorder",item:items.map(item=>{return{songId:item.songId,playUniqueId:item.playUniqueId,songTitle:item.songTitle,songUrl:item.songUrl};})};// API Call
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__.apiFeatureService.setFeatureValue(product,"editNcmPlayList",props.carpetModel,requestBody,true,false).then(res=>{console.info(res);getPlayListInfo();});};const editPlayList=(cmd,index)=>{// let musicObj = undefined;
switch(cmd){case"ADD":break;case"DELETE":// eslint-disable-next-line no-case-declarations
const items=[...playListAtom];// eslint-disable-next-line no-case-declarations
const[removedItem]=items.splice(index,1);console.info("DeleteSong: "+JSON.stringify(removedItem));// eslint-disable-next-line no-case-declarations
const requestBody={cmd:"remove",item:items.map(item=>{return{songId:item.songId,playUniqueId:item.playUniqueId,songTitle:item.songTitle,songUrl:item.songUrl};})};// API Call
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__.apiFeatureService.setFeatureValue(product,"editNcmPlayList",props.carpetModel,requestBody,true,false).then(res=>{getPlayListInfo();console.info(res);});break;default:break;}};const playMusic=uniqueId=>{wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_6__["default"].playMusic(carpet,uniqueId);};const setFavorate=musicItemArr=>{const param={item:musicItemArr.map(song=>{return{songId:song.songId,bookmarkYn:song.bookmarkYn==="N"?"Y":"N"};})};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__.apiFeatureService.setFeatureValue(product,"ncmBookmark",props.carpetModel,param,true,false).then(()=>{// Bookmark Update
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__.apiFeatureService.fetchFeatureValue(product,"ncmBookmarkInfo",props.carpetModel,{},true,false).then(res=>{setFavoritesAtom(res.value);getPlayListInfo();});});};const getCurrentSongInfo=()=>{if(!playListAtom||!(mediaStateAtom!==null&&mediaStateAtom!==void 0&&mediaStateAtom.playIndex)||playListAtom.length===0){return undefined;}let playIdx=mediaStateAtom.playIndex;const music=playListAtom[playIdx];return music;};const isNCMColorOn=()=>{var _carpetModel$ncmMode,_carpetModel$colorCol5,_carpetModel$musicLig6;const isNCMOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_ON;const isColorCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol5=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol5===void 0?void 0:_carpetModel$colorCol5.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_ON;// const isMusicCollectionOn = carpetModel?.musicCollectionOnOff?.value === constant.TERM_ON;
const isLGMusicPlay=(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_17__.ncmConstant.MUSIC_STATE.PLAYING;// const isBTMusicPlay = mediaStateAtom?.btState === ncmConstant.MUSIC_STATE.PLAYING;
const isPartyModeOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig6=carpetModel.musicLight)===null||_carpetModel$musicLig6===void 0?void 0:_carpetModel$musicLig6.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF;if(!isNCMOn){return false;}else if(!isColorCollectionOn&&isLGMusicPlay&&!isPartyModeOn){return false;}else if(!isColorCollectionOn&&!isLGMusicPlay&&!isPartyModeOn){return false;}else if(!isColorCollectionOn&&!isLGMusicPlay&&isPartyModeOn){return false;}else{return true;}};const getBackgroundImg=()=>{return isNCMColorOn()?backgroundImg:backgroundImgOff;};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setNowPlayingState({state:(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)+"",music:getCurrentSongInfo()});},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState,mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playIndex]);const[isShowColorTonePopupParty,setIsShowColorTonePopupParty]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isShowColorTonePopupColorCollection,setIsShowColorTonePopupColorCollection]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isShowColorTonePopupSpringTheme,setIsShowColorTonePopupSpringTheme]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);// 봄봄봄 테마로 변경 팝업 flag
const checkedDontShowAgainFlagSpringTheme=product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.PRODUCT_CONFIG.KEY_NCM_SPRING_THEME_CHANGE_POPUP_DONT_SHOW_AGAIN);const[dontShowAgainFlagSpringTheme,setDontShowAgainFlagSpringTheme]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(checkedDontShowAgainFlagSpringTheme);const onChangePopupDontShowAgainSpringTheme=e=>{setDontShowAgainFlagSpringTheme(e.target.checked);const p1=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].getFirstUpperCase(e.target.checked);wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_8__["default"].fireBaseEventUsedFeature(product,"-ncm01-PopNotAgainSpringTheme"+p1);product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.PRODUCT_CONFIG.KEY_NCM_SPRING_THEME_CHANGE_POPUP_DONT_SHOW_AGAIN,e.target.checked);};// 봄봄봄 테마로 변경 팝업 flag end
// 컬러 톤 미세 조절 진입 가능 체크 start
const checkColorToneEnableParty=()=>{var _carpetModel$musicLig7;const isPartyModeOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig7=carpetModel.musicLight)===null||_carpetModel$musicLig7===void 0?void 0:_carpetModel$musicLig7.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF;if(isMusicCollectionOn&&isPartyModeOn){// 파티모드 켜진 상태
setIsShowColorTonePopupParty(true);}else{// 파티모드 꺼짐이면 컬러 컬렉션 체크
checkColorToneEnableColorCollection();}};const checkColorToneEnableColorCollection=()=>{if(!isColorCollectionOn){// 컬러 컬렉션 꺼진 상태
setIsShowColorTonePopupColorCollection(true);}else{// 컬러 컬렉션 켜짐, 파티모드 꺼짐 => 봄봄봄 테마인지 체크
checkColorToneEnableSpringTheme();}};const checkColorToneEnableSpringTheme=()=>{const springThemeList=ncmThemeSetTotal.find(item=>{return item.id==="1";});if((!isThemeMode||(springThemeList===null||springThemeList===void 0?void 0:springThemeList.id)!==(doorThemeColorList===null||doorThemeColorList===void 0?void 0:doorThemeColorList.id))&&!dontShowAgainFlagSpringTheme&&colorToneAdVersion!=="V2"){// 현재 설정값이 봄봄봄 테마가 아닐 때 && 팝업 다시 보지 않기 선택전
setIsShowColorTonePopupSpringTheme(true);}else{// 컬러 컬렉션 켜짐, 파티모드 꺼짐, 현재 설정값 봄봄봄 OR 팝업 다시 보지 않기 선택후
setColorToneEnableSettings();}};// 컬러 톤 조절 가능하도록 세팅 (2.0 은 봄봄봄 테마 상관 없음)
const setColorToneEnableSettings=()=>{var _carpetModel$musicLig8;const springThemeList=ncmThemeSetTotal.find(item=>{return item.id==="1";});const isPartyModeOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig8=carpetModel.musicLight)===null||_carpetModel$musicLig8===void 0?void 0:_carpetModel$musicLig8.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF;if(((springThemeList===null||springThemeList===void 0?void 0:springThemeList.id)===(doorThemeColorList===null||doorThemeColorList===void 0?void 0:doorThemeColorList.id)&&isThemeMode||colorToneAdVersion==="V2")&&!(isMusicCollectionOn&&isPartyModeOn)&&isColorCollectionOn){// 봄봄봄 테마 O, 파티 모드 X, 컬러 컬렉션 ON 일 때는 컨트롤 없이 바로 이동
carpet.go("GRP_NCM01_Color/colorTone",{productId:productId,upVersion:colorToneAdVersion},undefined,"001");}else{const cmd="setThemeId";const cmdRGB="setColor";const cmdRGB70="setColor70";const idValue=(springThemeList===null||springThemeList===void 0?void 0:springThemeList.id)+"";wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_8__["default"].fireBaseEventUsedFeature(product,"-Ncm01-Color-"+cmd+"_"+idValue);let vtParam={ctrlTarget:["DOOR_ALL"],reqDevType:"APP",productType:"NORMAL",vtData:{DOOR_ALL:[]}};// 파티모드 끄기
if(isMusicCollectionOn&&isPartyModeOn){vtParam.vtData["DOOR_ALL"].push({cmd:"musicLight",type:"ABSOLUTE",value:_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF,roomType:"NONE"});}// 컬러 컬렉션 켜기
if(!isColorCollectionOn){vtParam.vtData["DOOR_ALL"].push({cmd:"colorCollectionOnOff",type:"ABSOLUTE",value:"ON",roomType:"NONE"});}// 봄봄봄 테마로 변경
if((!isThemeMode||(springThemeList===null||springThemeList===void 0?void 0:springThemeList.id)!==(doorThemeColorList===null||doorThemeColorList===void 0?void 0:doorThemeColorList.id))&&colorToneAdVersion!=="V2"){vtParam.ctrlTarget=["DOOR_ALL","DOOR_1","DOOR_2","DOOR_3","DOOR_4"];vtParam.vtData["DOOR_ALL"].push({cmd:cmd,type:"ABSOLUTE",value:idValue,roomType:"NONE"});vtParam.vtData["DOOR_1"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:springThemeList.code[0].colorCode,roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:springThemeList.code[0].color70,roomType:"NONE"}];vtParam.vtData["DOOR_2"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:springThemeList.code[1].colorCode,roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:springThemeList.code[1].color70,roomType:"NONE"}];vtParam.vtData["DOOR_3"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:springThemeList.code[2].colorCode,roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:springThemeList.code[2].color70,roomType:"NONE"}];vtParam.vtData["DOOR_4"]=[{cmd:cmdRGB,type:"ABSOLUTE",value:springThemeList.code[3].colorCode,roomType:"NONE"},{cmd:cmdRGB70,type:"ABSOLUTE",value:springThemeList.code[3].color70,roomType:"NONE"}];}const ctrlParam={ctrlKey:"vtCtrl",command:"Set",dataSetList:vtParam,colorType:"THEME",id:idValue};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_5__.apiFeatureService.setFeatureValue(product,"ncmPairingCtrl",undefined,{colorCollectionCmd:ctrlParam},true,false,true).then(res=>{console.info(res);wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_8__["default"].fireBaseEventUsedFeature(product,"-NCM01-ColorTone");setTimeout(()=>{carpet.go("GRP_NCM01_Color/colorTone",{productId:productId,upVersion:colorToneAdVersion},undefined,"001");},800);});}};// 컬러 톤 미세 조절 진입 가능 체크 end
const[artistInfo,setArtistInfo]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$door1Col4,_carpetModel$door1Col6;if(isThemeMode&&typeof _lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_17__.ncmConstant.ARTIST_INFO[(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col4=carpetModel.door1ColorId)===null||_carpetModel$door1Col4===void 0?void 0:_carpetModel$door1Col4.value)+""]!=="undefined"){var _carpetModel$door1Col5;setArtistInfo({..._lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_17__.ncmConstant.ARTIST_INFO[(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col5=carpetModel.door1ColorId)===null||_carpetModel$door1Col5===void 0?void 0:_carpetModel$door1Col5.value)+""]});}else{setArtistInfo("");}const isMoodCollectionTheme=isThemeMode&&Number(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col6=carpetModel.door1ColorId)===null||_carpetModel$door1Col6===void 0?void 0:_carpetModel$door1Col6.value)>=100;setIsPartyModeDisabled(isMoodCollectionTheme);},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col7=carpetModel.door1ColorId)===null||_carpetModel$door1Col7===void 0?void 0:_carpetModel$door1Col7.value,isThemeMode]);console.log("### color colorType : ",carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp6=carpetModel.colorType)===null||_carpetModel$colorTyp6===void 0?void 0:_carpetModel$colorTyp6.value);console.log("### color door1ColorId : ",carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col8=carpetModel.door1ColorId)===null||_carpetModel$door1Col8===void 0?void 0:_carpetModel$door1Col8.value);console.log("### color  door2ColorId : ",carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door2Col3=carpetModel.door2ColorId)===null||_carpetModel$door2Col3===void 0?void 0:_carpetModel$door2Col3.value);console.log("### color  door3ColorId : ",carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door3Col3=carpetModel.door3ColorId)===null||_carpetModel$door3Col3===void 0?void 0:_carpetModel$door3Col3.value);console.log("### color  door4ColorId : ",carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door4Col3=carpetModel.door4ColorId)===null||_carpetModel$door4Col3===void 0?void 0:_carpetModel$door4Col3.value);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t(wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__["default"].getMVBLangFixedLabel(product,"colorMode"))})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{"aria-hidden":isDisconnected,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_component_common_StyledCard__WEBPACK_IMPORTED_MODULE_13__["default"],{disabled:isDisconnected,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:"master",disabled:isDisconnected,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{id:"ncm_color_mode_switch",checked:!(carpetModel!==null&&carpetModel!==void 0&&(_carpetModel$feature=carpetModel[feature])!==null&&_carpetModel$feature!==void 0&&(_carpetModel$feature$=_carpetModel$feature.value)!==null&&_carpetModel$feature$!==void 0&&_carpetModel$feature$.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF)),onChange:e=>{var _carpetModel$feature2,_carpetModel$feature3;const selectedOption=carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature2=carpetModel[feature])===null||_carpetModel$feature2===void 0?void 0:(_carpetModel$feature3=_carpetModel$feature2.valueMapping)===null||_carpetModel$feature3===void 0?void 0:_carpetModel$feature3.find(item=>e.target.checked?item.value.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_ON):item.value.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF));_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_24__.mixpanelUtil.sendMixpanelEvent(product,_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_25__.mixpanelConstant.refrigeratorMixpanel_6,_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_24__.mixpanelUtil.Device_Refrigerator_Set(_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_25__.mixpanelConstant.refrigeratorMixpanel_6,{is_toggle_on:e.target.checked}));sendBasicVtControl(feature,selectedOption.value);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t(wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__["default"].getMVBLangFixedLabel(product,"colorMode"))})})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(NcmTopContainer,{disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature4=carpetModel[feature])===null||_carpetModel$feature4===void 0?void 0:(_carpetModel$feature5=_carpetModel$feature4.value)===null||_carpetModel$feature5===void 0?void 0:_carpetModel$feature5.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,children:!isColorMode&&(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig9=carpetModel.musicLight)===null||_carpetModel$musicLig9===void 0?void 0:_carpetModel$musicLig9.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF&&!(carpetModel!==null&&carpetModel!==void 0&&(_carpetModel$feature6=carpetModel[feature])!==null&&_carpetModel$feature6!==void 0&&(_carpetModel$feature7=_carpetModel$feature6.value)!==null&&_carpetModel$feature7!==void 0&&_carpetModel$feature7.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_11__["default"],{isOn:isNCMColorOn(),disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature8=carpetModel[feature])===null||_carpetModel$feature8===void 0?void 0:(_carpetModel$feature9=_carpetModel$feature8.value)===null||_carpetModel$feature9===void 0?void 0:_carpetModel$feature9.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,currentDoorRGB:currentDoorRGB,backgroundImg:getBackgroundImg(),ncmDoors:ncmDoors,isPartyModePlay:!isColorMode&&isPartyModePlay,isColorMode:true,videoSrc:isColorMode?null:artistInfo===""?(_ncmConstant$MUSIC_LI=_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_17__.ncmConstant.MUSIC_LIGHT_RESOURCE[refType])===null||_ncmConstant$MUSIC_LI===void 0?void 0:(_ncmConstant$MUSIC_LI2=_ncmConstant$MUSIC_LI[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig10=carpetModel.musicLight)===null||_carpetModel$musicLig10===void 0?void 0:_carpetModel$musicLig10.value])===null||_ncmConstant$MUSIC_LI2===void 0?void 0:_ncmConstant$MUSIC_LI2.video:artistInfo===null||artistInfo===void 0?void 0:(_artistInfo$videoSrc=artistInfo.videoSrc)===null||_artistInfo$videoSrc===void 0?void 0:(_artistInfo$videoSrc$=_artistInfo$videoSrc[refType])===null||_artistInfo$videoSrc$===void 0?void 0:(_artistInfo$videoSrc$2=_artistInfo$videoSrc$[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig11=carpetModel.musicLight)===null||_carpetModel$musicLig11===void 0?void 0:_carpetModel$musicLig11.value])===null||_artistInfo$videoSrc$2===void 0?void 0:_artistInfo$videoSrc$2.video// 색깔사용시 videoThumb 과 함께 null로 지정
,videoThumb:isColorMode?null:artistInfo===""?(_ncmConstant$MUSIC_LI3=_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_17__.ncmConstant.MUSIC_LIGHT_RESOURCE[refType])===null||_ncmConstant$MUSIC_LI3===void 0?void 0:(_ncmConstant$MUSIC_LI4=_ncmConstant$MUSIC_LI3[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig12=carpetModel.musicLight)===null||_carpetModel$musicLig12===void 0?void 0:_carpetModel$musicLig12.value])===null||_ncmConstant$MUSIC_LI4===void 0?void 0:_ncmConstant$MUSIC_LI4.thumbnail:artistInfo===null||artistInfo===void 0?void 0:(_artistInfo$videoSrc2=artistInfo.videoSrc)===null||_artistInfo$videoSrc2===void 0?void 0:(_artistInfo$videoSrc3=_artistInfo$videoSrc2[refType])===null||_artistInfo$videoSrc3===void 0?void 0:(_artistInfo$videoSrc4=_artistInfo$videoSrc3[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig13=carpetModel.musicLight)===null||_carpetModel$musicLig13===void 0?void 0:_carpetModel$musicLig13.value])===null||_artistInfo$videoSrc4===void 0?void 0:_artistInfo$videoSrc4.thumbnail,style:{width:"100%"},useBackground:false,refType:refType,product:product,isShowPlayAnimation:carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$mediaPla5=carpetModel.mediaPlayState)===null||_carpetModel$mediaPla5===void 0?void 0:(_carpetModel$mediaPla6=_carpetModel$mediaPla5.value)===null||_carpetModel$mediaPla6===void 0?void 0:_carpetModel$mediaPla6.includes("PLAY")}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_component_GRP_NcmDoorColor__WEBPACK_IMPORTED_MODULE_11__["default"],{isOn:isNCMColorOn(),disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature10=carpetModel[feature])===null||_carpetModel$feature10===void 0?void 0:(_carpetModel$feature11=_carpetModel$feature10.value)===null||_carpetModel$feature11===void 0?void 0:_carpetModel$feature11.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,currentDoorRGB:currentDoorRGB,doorColorList:doorThemeColorList,backgroundImg:getBackgroundImg(),isThemeMode:isThemeMode,ncmDoors:ncmDoors,style:{width:"100%"},useBackground:false,refType:refType,product:product,isShowPlayAnimation:carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$mediaPla7=carpetModel.mediaPlayState)===null||_carpetModel$mediaPla7===void 0?void 0:(_carpetModel$mediaPla8=_carpetModel$mediaPla7.value)===null||_carpetModel$mediaPla8===void 0?void 0:_carpetModel$mediaPla8.includes("PLAY")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.List,{"aria-hidden":(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature12=carpetModel[feature])===null||_carpetModel$feature12===void 0?void 0:(_carpetModel$feature13=_carpetModel$feature12.value)===null||_carpetModel$feature13===void 0?void 0:_carpetModel$feature13.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_colorCard__WEBPACK_IMPORTED_MODULE_20__["default"],{disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature14=carpetModel[feature])===null||_carpetModel$feature14===void 0?void 0:(_carpetModel$feature15=_carpetModel$feature14.value)===null||_carpetModel$feature15===void 0?void 0:_carpetModel$feature15.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,goDetailPage:goNcmColorPage,setOnOff:value=>{if(!checkedDontShowColorCollectionOnFlag&&value===_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF){setIsShowColorCollectionOnPopUp(true);setSelectedOption(value);}else{sendBasicVtControl("colorCollectionOnOff",value);}},data:colorCardData,isOn:isColorCollectionOn,isThemeMode:isThemeMode,product:product}),isSupportNCMMusic&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_musicCard__WEBPACK_IMPORTED_MODULE_22__["default"],{product:product,productId:productId,disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature16=carpetModel[feature])===null||_carpetModel$feature16===void 0?void 0:(_carpetModel$feature17=_carpetModel$feature16.value)===null||_carpetModel$feature17===void 0?void 0:_carpetModel$feature17.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,goDetailPage:goNcmMusicPage,setOnOff:value=>{// Send To Product.
sendBasicVtControl("musicCollectionOnOff",value);// Send To DQ1.(mediaControl)
},data:musicCardData,isOn:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol4=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol4===void 0?void 0:_carpetModel$musicCol4.value)==="ON"// isOn={true}
,musicLightMode:musicLightMode,setPlayMode:setPlayMode,refType:refType,isThemeMode:isThemeMode,currentDoorRGB:currentDoorRGB,doorColorList:doorThemeColorList,sendPreviewCmd:sendPreviewCmd,goThemeDetail:goThemeDetail,goToPlayer:playerBs.fnToggleBs,carpetModel:carpetModel,carpet:carpet}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_volumeCard__WEBPACK_IMPORTED_MODULE_23__["default"],{product:product,disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature18=carpetModel[feature])===null||_carpetModel$feature18===void 0?void 0:(_carpetModel$feature19=_carpetModel$feature18.value)===null||_carpetModel$feature19===void 0?void 0:_carpetModel$feature19.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,musicData:musicCardData,isOn:true})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_alarmCard__WEBPACK_IMPORTED_MODULE_19__["default"],{disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature20=carpetModel[feature])===null||_carpetModel$feature20===void 0?void 0:(_carpetModel$feature21=_carpetModel$feature20.value)===null||_carpetModel$feature21===void 0?void 0:_carpetModel$feature21.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,goDetailPage:goNcmAlarmPage,setOnOff:value=>{sendBasicVtControl("colorAlarmOnOff",value);},data:alarmCardData,isOn:isColorAlarmOn,product:product}),isSupportDoorKnockOn&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_knockOnCard__WEBPACK_IMPORTED_MODULE_21__["default"],{disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature22=carpetModel[feature])===null||_carpetModel$feature22===void 0?void 0:(_carpetModel$feature23=_carpetModel$feature22.value)===null||_carpetModel$feature23===void 0?void 0:_carpetModel$feature23.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,setOnOff:value=>{sendBasicVtControl("ncmKnockOnOffEnable",value);}// data={alarmCardData}
,isOn:isKnockOn})]}),isSupportColorToneAd&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_component_common_StyledCard__WEBPACK_IMPORTED_MODULE_13__["default"],{id:_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.ELEMENT_ID.COLOR_TONE_AD_TITLE,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.ELEMENT_ID.COLOR_TONE_AD_TITLE,disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature24=carpetModel[feature])===null||_carpetModel$feature24===void 0?void 0:(_carpetModel$feature25=_carpetModel$feature24.value)===null||_carpetModel$feature25===void 0?void 0:_carpetModel$feature25.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,noTabIndex:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature26=carpetModel[feature])===null||_carpetModel$feature26===void 0?void 0:(_carpetModel$feature27=_carpetModel$feature26.value)===null||_carpetModel$feature27===void 0?void 0:_carpetModel$feature27.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,"aria-hidden":(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature28=carpetModel[feature])===null||_carpetModel$feature28===void 0?void 0:(_carpetModel$feature29=_carpetModel$feature28.value)===null||_carpetModel$feature29===void 0?void 0:_carpetModel$feature29.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:checkColorToneEnableParty,disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature30=carpetModel[feature])===null||_carpetModel$feature30===void 0?void 0:(_carpetModel$feature31=_carpetModel$feature30.value)===null||_carpetModel$feature31===void 0?void 0:_carpetModel$feature31.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{newBadge:isShowNewBadgeColorToneAd,children:t("@RE_UX35_ADJUSTING_COLOR_TONE_W")})})})})})}),(pairingInfo===null||pairingInfo===void 0?void 0:(_pairingInfo$item=pairingInfo.item)===null||_pairingInfo$item===void 0?void 0:(_pairingInfo$item$fil=_pairingInfo$item.filter(item=>supportDeviceTypeList.includes(item.deviceType)))===null||_pairingInfo$item$fil===void 0?void 0:_pairingInfo$item$fil.length)>0&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_component_common_StyledCard__WEBPACK_IMPORTED_MODULE_13__["default"],{disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature32=carpetModel[feature])===null||_carpetModel$feature32===void 0?void 0:(_carpetModel$feature33=_carpetModel$feature32.value)===null||_carpetModel$feature33===void 0?void 0:_carpetModel$feature33.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,noTabIndex:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature34=carpetModel[feature])===null||_carpetModel$feature34===void 0?void 0:(_carpetModel$feature35=_carpetModel$feature34.value)===null||_carpetModel$feature35===void 0?void 0:_carpetModel$feature35.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,"aria-hidden":(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature36=carpetModel[feature])===null||_carpetModel$feature36===void 0?void 0:(_carpetModel$feature37=_carpetModel$feature36.value)===null||_carpetModel$feature37===void 0?void 0:_carpetModel$feature37.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,cardStyle:{marginBottom:"10px"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{"aria-hidden":(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature38=carpetModel[feature])===null||_carpetModel$feature38===void 0?void 0:(_carpetModel$feature39=_carpetModel$feature38.value)===null||_carpetModel$feature39===void 0?void 0:_carpetModel$feature39.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,disabled:(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$feature40=carpetModel[feature])===null||_carpetModel$feature40===void 0?void 0:(_carpetModel$feature41=_carpetModel$feature40.value)===null||_carpetModel$feature41===void 0?void 0:_carpetModel$feature41.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF))||isDisconnected,onClick:()=>{goSyncPage();},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_NCM_SYNC_W")})})})})]}),playerBs.value&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_component_GRP_NowPlayingListBs__WEBPACK_IMPORTED_MODULE_12__["default"],{isShow:playerBs.value// isShow={true}
,toggleBsFn:playerBs.fnToggleBs// allSongMap={songList}
,handleListChanged:handlePlayListChanged,playList:playListAtom,currentSongId:nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi=nowPlayingState.music)===null||_nowPlayingState$musi===void 0?void 0:_nowPlayingState$musi.songId,currentSongUniqueId:nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi2=nowPlayingState.music)===null||_nowPlayingState$musi2===void 0?void 0:_nowPlayingState$musi2.playUniqueId,nowPlayingState:nowPlayingState,deviceName:t("@CP_NICKNAME_REF_W")// favoriteList={musicFavorite}
,favoriteList:favoritesAtom,volume:mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playVolume,mediaState:mediaStateAtom,onSetVolume:setVolume,onSetPlayMode:setPlayMode,onDelete:editPlayList,onClickMusic:playMusic,onFavorateClick:setFavorate,carpetModel:carpetModel,carpet:carpet,product:product,isDisconnected:isDisconnected,isPartyModeDisabled:isPartyModeDisabled}),isShowPopup&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.Fragment,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowPopup,onBackKeyPress:()=>{setShowPopup(false);},btns:[{event:()=>{setShowPopup(false);},label:t("@CP_CONFIRM_W")}],children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@CP_NCM_POPUP_INITIAL_GUIDE_S",{$0:t(wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__["default"].getMVBLangFixedLabel(product,"colorMode"))})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{style:{marginTop:10},children:t("@CP_NCM_POPUP_INITIAL_GUIDE2_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Checkbox,{onChange:onChangePopupDontShowAgain,checked:dontShowAgainFlag,name:"dontShowAgain",id:"dontShowAgain",style:{marginTop:10},children:t("@CP_UX30_DO_NOT_SHOW_AGAIN")})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowColorTonePopupParty,onBackKeyPress:()=>{setIsShowColorTonePopupParty(false);},btns:[{event:()=>{setIsShowColorTonePopupParty(false);},label:t("@RE_UX35_NCM_PARTY_OFF_POPUP_CANCEL_BTN_W")},{event:()=>{setIsShowColorTonePopupParty(false);checkColorToneEnableColorCollection();},label:t("@CP_YES_W")}],children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX35_NCM_PARTY_OFF_POPUP_GUIDE_S")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowColorTonePopupColorCollection,onBackKeyPress:()=>{setIsShowColorTonePopupColorCollection(false);},btns:[{event:()=>{setIsShowColorTonePopupColorCollection(false);},label:t("@RE_UX35_NCM_PARTY_OFF_POPUP_CANCEL_BTN_W")},{event:()=>{setIsShowColorTonePopupColorCollection(false);checkColorToneEnableSpringTheme();},label:t("@CP_YES_W")}],children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX35_NCM_COLOR_COLLECTION_ON_POPUP_GUIDE_S")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowColorTonePopupSpringTheme,onBackKeyPress:()=>{setIsShowColorTonePopupSpringTheme(false);},btns:[{event:()=>{setIsShowColorTonePopupSpringTheme(false);},label:t("@RE_UX35_NCM_SPRING_THEME_POPUP_CANCEL_BTN_W")},{event:()=>{setIsShowColorTonePopupSpringTheme(false);setColorToneEnableSettings();},label:t("@RE_UX35_NCM_SPRING_THEME_POPUP_CONFIRM_BTN_W")}],children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX35_NCM_SPRING_THEME_POPUP_GUIDE_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Checkbox,{onChange:onChangePopupDontShowAgainSpringTheme,checked:dontShowAgainFlagSpringTheme,name:"dontShowAgainSpringTheme",id:"dontShowAgainSpringTheme",style:{marginTop:10},children:t("@CP_UX30_DO_NOT_SHOW_AGAIN")})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowMusicPausePopup,onBackKeyPress:()=>{setIsShowMusicPausePopup(false);},btns:[{event:()=>{setIsShowMusicPausePopup(false);},label:t("@CP_CONFIRM_W")}],children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX35_NCM_PAUSE_10MIN_POPUP_GUIDE_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Checkbox,{onChange:onChangePopupDontShowAgainMusicPause,checked:dontShowAgainMusicPauseFlag,name:"dontShowAgainNCM_MUSIC_PAUSE",id:"dontShowAgainNCM_MUSIC_PAUSE",style:{marginTop:10},children:t("@CP_UX30_DO_NOT_SHOW_AGAIN")})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowColorCollectionOnPopUp,onBackKeyPress:()=>{// setIsShowColorCollectionOnPopUp(false);
},btns:[{event:()=>{onConfirmPopupDontShowAgainColorCollection();setIsShowColorCollectionOnPopUp(false);},label:t("@CP_CONFIRM_W")}],children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX35_POPUP_COLOR_COLLECTION_GUIDE_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Checkbox,{onChange:onChangePopupDontSHowAgainColorCollectionOnFlag,checked:dontShowColorCollectionOnFlag,name:"dontShowAgainCOLOR_COLLECTION_ON",id:"dontShowAgainCOLOR_COLLECTION_ON",style:{marginTop:10},children:t("@CP_UX30_DO_NOT_SHOW_AGAIN")})]})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_NCM01_Main);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM01_Music/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_effect_disabled__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./src/components/effect/disabled.js");
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/container/common/listview/CardListView.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRM/ncmUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/ncmConstant.js");
/* harmony import */ var wrm_GRM_resource_GRP_NcmThumbSet__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/resource/GRP/NcmThumbSet.js");
/* harmony import */ var wrm_GRM_resource_GRP_image_ic_ncm_list_playnow_mtrl_puase_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/resource/GRP/image/ic_ncm_list_playnow_mtrl_puase.svg");
/* harmony import */ var wrm_GRM_resource_common_json_ic_ncm_list_playnow_mtrl_json__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/resource/common/json/ic_ncm_list_playnow_mtrl.json");
/* harmony import */ var wrm_GRM_resource_image_ux50_ic_chevron_right_gray_png__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/resource/image/ux50/ic_chevron_right_gray.png");
/* harmony import */ var _component_GRP_NowPlayingListBs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/wrm/GRM/component/GRP/NowPlayingListBs.js");
/* harmony import */ var _component_GRP_NowPlayingMusic__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/wrm/GRM/component/GRP/NowPlayingMusic.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var _lib_common_useBsState__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./src/wrm/GRM/lib/common/useBsState.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__);
const Section=(0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({direction:"column",justify:"center",align:"center"})`
    ${components_effect_disabled__WEBPACK_IMPORTED_MODULE_25__["default"]}
`;const SectionHeader=(0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({direction:"row",justify:"flex-start",align:"center"})`
    width: 100%;
    min-height: 36px;
    padding: 0px 20px;
`;const AlbumImage=(0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Img).attrs({width:"48",height:"48"})`
    border-radius: 8px;
`;const MusicThemeContainer=styled_components__WEBPACK_IMPORTED_MODULE_24__["default"].div`
    display: grid;
    grid-template-columns: ${_ref=>{let{columnCount}=_ref;return`repeat(${columnCount}, 1fr)`;}};
    place-items: start center;
    row-gap: ${_ref2=>{let{vGap}=_ref2;return`${vGap}px`;}};
    column-gap: ${_ref3=>{let{hGap}=_ref3;return`${hGap}px`;}};
    width: 100%;
`;const GRP_NCM01_Music=props=>{var _carpetModel$musicCol2,_carpetModel$door1Col2,_carpetModel$colorTyp2,_nowPlayingState$musi4,_nowPlayingState$musi5;const{productId}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_19__.useCarpetGRP)(product,`GRP_NCM01_Music`,false,false);const[carpetModel]=carpet.getModel();//나중에 전체 Recoil 로 바꿔야 할 듯
const[isMusicOn,setIsMusicOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const isEnable=()=>{var _carpetModel$ncmMode;return(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_20__.constant.TERM_ON&&!isDisconnected;};const[mediaStateAtom,setMediaStateAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmMediaStateAtom);const[playListAtom,setPlayListAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmPlayListAtom);const[favoritesAtom,setFavoritesAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmBookmarkListAtom);const[nowPlayingState,setNowPlayingState]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmNowPlayingStateAtom);const ncmContentsAtom=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilValue)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_9__.screenHelper.ncmContentsAtom);const[musicContentsSlideTab,setMusicContentsSlideTab]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);const playerBs=(0,_lib_common_useBsState__WEBPACK_IMPORTED_MODULE_22__.useBsState)();const[isPartyModeDisabled,setIsPartyModeDisabled]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);//onClose, onStatusChanged,
const onClickNowPlayingClose=()=>{// setNowPlayingState({
//     state: ncmConstant.MUSIC_STATE.STOPPED,
//     music: undefined,
// });
};const onClickNowPlayingState=()=>{let value=wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.VALUE_MUSIC.RESUME;switch(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState){//todo mediaPlayState
// switch (carpetModel?.mediaPlayState?.value) {
case wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.MUSIC_STATE.PLAYING:value=wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.VALUE_MUSIC.PAUSE;setPlayMode(wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.CMD_MUSIC.MODE,value);break;case wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.MUSIC_STATE.PAUSED:case wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.VALUE_MUSIC.PAUSE:value=wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.VALUE_MUSIC.RESUME;setPlayMode(wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.CMD_MUSIC.MODE,value);break;default:wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].playMusic(carpet,playListAtom[0].playUniqueId);// cmd = ncmConstant.CMD_MUSIC.PLAY;
// value = playListAtom[0].playUniqueId;
// setPlayMode(ncmConstant.CMD_MUSIC.PLAY, value);
break;}setNowPlayingState(prev=>{return{...prev,state:value};});};const getPlayListInfo=playFirstSong=>{console.info(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId);playFirstSong=playFirstSong||false;// PlayList 조회
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"ncmPlayListInfo",props.carpetModel,{},true,false).then(res=>{var _res$value;// PlayListAtom set
const playList=((_res$value=res.value)===null||_res$value===void 0?void 0:_res$value.items)||[];setPlayListAtom(playList);// const nowPlayMusic = playList.find((song) => {
//     return song?.playUniqueId === mediaStateAtom?.playUniqueId;
// });
// // nowPlayingState set
// if (nowPlayMusic) {
//     setNowPlayingState((prev) => {
//         return {
//             ...prev,
//             music: nowPlayMusic,
//         };
//     });
// } else {
//     setNowPlayingState((prev) => {
//         return {
//             ...prev,
//             music: playList[0],
//         };
//     });
// }
if(playList.length>0){let songUniqueId=playList[0].playUniqueId;if(playFirstSong){wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].playMusic(carpet,songUniqueId);}else{////////// 곡목변경시 DQ1에서 재생 멈춰서 앱에서 재생시켜주는 임시코드
// const s = playList.find((song) => {
//     return song.playIndex + "" === mediaStateAtom?.playIndex + "";
// });
// if (s) {
// setPlayMode(ncmConstant.CMD_MUSIC.MODE, ncmConstant.VALUE_MUSIC.RESUME);
// } else {
// ncmUtil.playMusic(carpet, songUniqueId);
// }
///////////
}}else{if(playerBs.value){playerBs.fnToggleBs();}}});};const getLgSongInfo=()=>{// apiFeatureService
//     .fetchFeatureValue(product, "ncmMusicInfo", props.carpetModel, {}, true, false)
//     .then((res) => {
//         console.info(res);
//         setThemeList(res?.value);
//         setNcmContentsAtom((prevState) => {
//             return {
//                 ...prevState,
//                 musicContents: res?.value,
//             };
//         });
//     });
};const getBookMarkInfo=()=>{wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"ncmBookmarkInfo",props.carpetModel,{},true,false).then(res=>{console.info(res);setFavoritesAtom(res.value);});};const goBack=()=>{carpet.back("GRP_NCM01_Main",{productId:productId});};// const goToThemeCollection = () => {
//     carpet.go("GRP_NCM06_MusicThemeList", {
//         productId: productId,
//         themeList: JSON.stringify(ncmContentsAtom.musicContents),
//     });
// };
const goToThemeDetailList=item=>{const selectedTheme=ncmContentsAtom===null||ncmContentsAtom===void 0?void 0:ncmContentsAtom.musicContents.find(_item=>{return _item.themeId===item.themeId+"";});if(selectedTheme){carpet.go("GRP_NCM07_MusicThemeDetail",{productId:productId,themeSelected:JSON.stringify(selectedTheme)});}};const goToFavoriteMusic=()=>{if(favoritesAtom&&favoritesAtom.length>0){carpet.go("GRP_NCM08_MusicFavorate",{productId:productId});}};const onClickSong=item=>{// 플레이리스트에 곡 추가
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"addNcmPlayList",props.carpetModel,{item:[{songId:item.songId}]},true,false).then(res=>{console.info(res);getPlayListInfo();});};const onMonitoring=data=>{var _data$refState;console.info("onMonitoring : "+JSON.stringify(data));setIsDisconnected(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].isDisconnected(product,data));if(data!==null&&data!==void 0&&(_data$refState=data.refState)!==null&&_data$refState!==void 0&&_data$refState.mediaState){var _data$refState2;const _mediaState=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].cloneJson(data===null||data===void 0?void 0:(_data$refState2=data.refState)===null||_data$refState2===void 0?void 0:_data$refState2.mediaState);setMediaStateAtom(()=>{return{..._mediaState};});}};const onMonitoringError=data=>{console.info("onMonitoringError : "+JSON.stringify(data));};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{// carpet.registerOnResumeCallback(onMonitoring);
carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);carpet.registerOnBackButtonCallback(goBack);// 음원 전체 리스트 조회
getLgSongInfo();// 재생목록 조회
getPlayListInfo();// Bookmark
getBookMarkInfo();return()=>{carpet.unregisterOnBackButtonCallback();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);// useLayoutEffect(() => {
//     setIsMusicOn(true);
//     // setIsMusicOn(mediaStateAtom?.musicCollectionOnOff? === "ON");
// }, [mediaStateAtom?.musicCollectionOnOff]);
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$musicCol;setIsMusicOn((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol===void 0?void 0:_carpetModel$musicCol.value)==="ON");},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol2=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol2===void 0?void 0:_carpetModel$musicCol2.value]);// playListId 변경시 재생목록을 서버에서 새로 받아와서 recoilState에 업데이트
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{getPlayListInfo();},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setNowPlayingState({state:(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)+"",music:getCurrentSongInfo()});},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState,mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playIndex]);//todo mediaPlayState
// useLayoutEffect(() => {
//     setNowPlayingState({
//         state: carpetModel?.mediaPlayState?.value + "",
//         music: getCurrentSongInfo(),
//     });
// }, [carpetModel?.mediaPlayState?.value, mediaStateAtom?.playIndex]);
// 지금재생중인 곡 변경시 Mini Bar 업데이트
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{const nowPlayMusic=playListAtom===null||playListAtom===void 0?void 0:playListAtom.find(song=>{return(song===null||song===void 0?void 0:song.playUniqueId)===(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playUniqueId);});// nowPlayingState set
if(nowPlayMusic){setNowPlayingState(prev=>{return{...prev,music:nowPlayMusic};});}else if(playListAtom.length>0){setNowPlayingState(prev=>{return{...prev,music:playListAtom[0]};});}},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playUniqueId,playListAtom]);const getCurrentSongInfo=()=>{if(!playListAtom||!(mediaStateAtom!==null&&mediaStateAtom!==void 0&&mediaStateAtom.playIndex)||playListAtom.length===0){return undefined;}let playIdx=mediaStateAtom.playIndex;const music=playListAtom[playIdx];return music;};const sendMusicOnOff=value=>{const cmd="musicCollectionOnOff";setIsMusicOn(value);sendBasicVtControl(cmd,value);};const sendBasicVtControl=(cmd,value)=>{// const cmd = "musicLight";
_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_21__["default"].fireBaseEventUsedFeature(product,"-Ncm04-Ctrl"+cmd+"_"+t(value));let vtParam={ctrlTarget:["DOOR_ALL"],reqDevType:"APP",productType:"NORMAL",vtData:{DOOR_ALL:[{cmd:cmd,type:"ABSOLUTE",value:value,roomType:"NONE"}]}};carpet.sendVtControl(vtParam,true,undefined,true).then(()=>{console.info("sendBasicVtControl Complete : "+cmd);});};// const isHiddenTheme = (item) => {
//     switch (item.themeName) {
//         case "Nature Sound":
//             return true;
//         default:
//             return false;
//     }
// };
const handlePlayListChanged=_ref4=>{let{oldIndex,newIndex}=_ref4;if(oldIndex===newIndex)return;let items=[...playListAtom];const[reorderedItem]=items.splice(oldIndex,1);items.splice(newIndex,0,reorderedItem);const requestBody={cmd:"reorder",item:items.map(item=>{return{songId:item.songId,playUniqueId:item.playUniqueId,songTitle:item.songTitle,songUrl:item.songUrl};})};// API Call
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"editNcmPlayList",props.carpetModel,requestBody,true,false).then(res=>{console.info(res);getPlayListInfo();});};const playMusic=uniqueId=>{wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].playMusic(carpet,uniqueId);};const setVolume=value=>{wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].setVolume(carpet,value);};// 10분 이상 음악 일시정지시 파티모드 꺼짐 팝업 컨트롤
const[isShowMusicPausePopup,setIsShowMusicPausePopup]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const checkedDontShowAgainMusicPauseFlag=product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_20__.constant.PRODUCT_CONFIG.KEY_NCM_MUSIC_PAUSE_POPUP_DONT_SHOW_AGAIN);const[dontShowAgainMusicPauseFlag,setDontShowAgainMusicPauseFlag]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(checkedDontShowAgainMusicPauseFlag);const onChangePopupDontShowAgainMusicPause=e=>{setDontShowAgainMusicPauseFlag(e.target.checked);const p1=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_10__["default"].getFirstUpperCase(e.target.checked);_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_21__["default"].fireBaseEventUsedFeature(product,"-ncm01-MusicPausePopNotAgain"+p1);product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_20__.constant.PRODUCT_CONFIG.KEY_NCM_MUSIC_PAUSE_POPUP_DONT_SHOW_AGAIN,e.target.checked);};// end
const setPlayMode=(cmd,value)=>{var _carpetModel$colorCol,_carpetModel$musicCol3,_carpetModel$musicLig;const colorCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol===void 0?void 0:_carpetModel$colorCol.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_20__.constant.TERM_ON;const musicCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol3=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol3===void 0?void 0:_carpetModel$musicCol3.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_20__.constant.TERM_ON;const partyModeOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig=carpetModel.musicLight)===null||_carpetModel$musicLig===void 0?void 0:_carpetModel$musicLig.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_20__.constant.TERM_OFF;if(!dontShowAgainMusicPauseFlag&&value===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.VALUE_MUSIC.PAUSE&&colorCollectionOn&&musicCollectionOn&&partyModeOn){setIsShowMusicPausePopup(true);}wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].setPlayMode(carpet,cmd,value);};const editPlayList=(cmd,index)=>{switch(cmd){case"ADD":break;case"DELETE":// eslint-disable-next-line no-case-declarations
const items=[...playListAtom];// eslint-disable-next-line no-case-declarations
const[removedItem]=items.splice(index,1);console.info("DeleteSong: "+JSON.stringify(removedItem));// eslint-disable-next-line no-case-declarations
const requestBody={cmd:"remove",item:items.map(item=>{return{songId:item.songId,playUniqueId:item.playUniqueId,songTitle:item.songTitle,songUrl:item.songUrl};})};// API Call
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"editNcmPlayList",props.carpetModel,requestBody,true,false).then(res=>{console.info(res);getPlayListInfo();});break;default:break;}};const setFavorate=musicItemArr=>{const param={item:musicItemArr.map(song=>{return{songId:song.songId,bookmarkYn:song.bookmarkYn==="N"?"Y":"N"};})};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"ncmBookmark",props.carpetModel,param,true,false).then(()=>{// Bookmark Update
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"ncmBookmarkInfo",props.carpetModel,{},true,false).then(res=>{setFavoritesAtom(res.value);getPlayListInfo();});});};const makeAria=item=>{var _nowPlayingState$musi,_item$playTime;const isCurrentSong=(nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi=nowPlayingState.music)===null||_nowPlayingState$musi===void 0?void 0:_nowPlayingState$musi.songId)===item.songId;let aria=t(item.songTitle)+" "+(isCurrentSong&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.MUSIC_STATE.PLAYING?t("@CP_NCM_ACCE_TERM_NOW_PLAYING_W"):isCurrentSong&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.MUSIC_STATE.PAUSED?t("@CP_NCM_ACCE_MUSIC_PAUSE_W"):"");let temp=(_item$playTime=item.playTime)===null||_item$playTime===void 0?void 0:_item$playTime.split(":");let playTime="";if(temp.length===2){playTime=temp[0]+t("@CP_UX30_ACCESS_MINUTES")+" "+temp[1]+t("@CP_UX30_ACCESS_SECONDS");}return aria+" "+playTime;};const musicContentsSlideItems=()=>{let musicContents=ncmContentsAtom===null||ncmContentsAtom===void 0?void 0:ncmContentsAtom.musicContents.filter(theme=>theme.themeName!=="Nature Sound");if(!musicContents){return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{});}let slideItems=[];let i=0;while(i<musicContents.length){slideItems.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(MusicThemeContainer,{columnCount:3,hGap:12,vGap:12,children:musicContents&&musicContents.slice(i,i+6).map((item,index)=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ImageListItem,{title:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{maxLine:2,textCode:"Type_A08",weight:"Regular",color:theme.colorSet.on_background,style:{textAlign:"center"},children:item.themeName}),onClick:()=>{goToThemeDetailList(item);},id:item.themeName,shape:"square",titlePosition:"outside",titleAlign:"center",tabIndex:"1",customAriaLabel:t(item.themeName),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{width:"100%",height:"100%",src:item.themeThumbImageUrl.length>0?item.themeThumbImageUrl:(0,wrm_GRM_resource_GRP_NcmThumbSet__WEBPACK_IMPORTED_MODULE_13__["default"])(item.themeName)})})},index);})}));i=i+6;}return slideItems.map((item,index)=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SlideItem,{style:{height:"100%"},children:item},"musicContentsSlideItem"+index);});};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$colorTyp,_carpetModel$door1Col;const isThemeCase=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp=carpetModel.colorType)===null||_carpetModel$colorTyp===void 0?void 0:_carpetModel$colorTyp.value)==="THEME";const isMoodCollectionTheme=isThemeCase&&Number(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col=carpetModel.door1ColorId)===null||_carpetModel$door1Col===void 0?void 0:_carpetModel$door1Col.value)>=100;setIsPartyModeDisabled(isMoodCollectionTheme);},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col2=carpetModel.door1ColorId)===null||_carpetModel$door1Col2===void 0?void 0:_carpetModel$door1Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp2=carpetModel.colorType)===null||_carpetModel$colorTyp2===void 0?void 0:_carpetModel$colorTyp2.value]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t("@CP_NCM_TERM_MUSIC_COLLECTION_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_5__["default"],{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{checked:isMusicOn,onChange:e=>{const value=e.target.checked?_lib_common_constant__WEBPACK_IMPORTED_MODULE_20__.constant.TERM_ON:_lib_common_constant__WEBPACK_IMPORTED_MODULE_20__.constant.TERM_OFF;sendMusicOnOff(value);wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_31,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_11__.mixpanelConstant.refrigeratorMixpanel_31,{is_toggle_on:e.target.checked}));},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_NCM_TERM_MUSIC_COLLECTION_W")})})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(Section,{disabled:!isMusicOn||!isEnable()?"disabled":"","aria-hidden":!isMusicOn||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(SectionHeader,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A08",weight:"Medium",color:theme.colorSet.on_surface_variant,children:t("@CP_NCM_TERM_MUSIC_THEME_COLLECTION_W")})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Slider,{selected:musicContentsSlideTab,callback:(_e,index)=>{setMusicContentsSlideTab(index);},children:musicContentsSlideItems()}),(ncmContentsAtom===null||ncmContentsAtom===void 0?void 0:ncmContentsAtom.musicContents.filter(theme=>theme.themeName!=="Nature Sound").length)>6&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.PageIndicator,{pageCount:parseInt(((ncmContentsAtom===null||ncmContentsAtom===void 0?void 0:ncmContentsAtom.musicContents.filter(theme=>theme.themeName!=="Nature Sound").length)-1)/6)+1,selectedPageIndex:musicContentsSlideTab,vPadding:20})]})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(Section,{disabled:!isMusicOn||!isEnable()?"disabled":"","aria-hidden":!isMusicOn||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:favoritesAtom&&(favoritesAtom===null||favoritesAtom===void 0?void 0:favoritesAtom.length)>0?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(SectionHeader,{onClick:goToFavoriteMusic,role:"button","aria-label":t("@CP_NCM_TERM_FAVORITE_MUSIC_W"),tabIndex:"1",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A08",weight:"Medium",color:theme.colorSet.on_surface_variant,children:t("@CP_NCM_TERM_FAVORITE_MUSIC_W")})}),favoritesAtom&&(favoritesAtom===null||favoritesAtom===void 0?void 0:favoritesAtom.length)>0&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{onClick:goToFavoriteMusic,disabled:false,size:18,"aria-hidden":true,icon:wrm_GRM_resource_image_ux50_ic_chevron_right_gray_png__WEBPACK_IMPORTED_MODULE_16__["default"]})]}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(SectionHeader,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A08",weight:"Medium",color:theme.colorSet.on_surface_variant,children:t("@CP_NCM_TERM_FAVORITE_MUSIC_W")})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_5__["default"],{paddingTop:0,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.List,{disabled:!isMusicOn,children:[(typeof favoritesAtom==="undefined"||favoritesAtom.length===0)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A07",align:"center",color:theme.colorSet.on_surface_variant,style:{padding:"20px",width:"100%"},children:t("@CP_NCM_TERM_FAVORITE_MUSIC_DESC_S")}),(favoritesAtom===null||favoritesAtom===void 0?void 0:favoritesAtom.length)>0&&favoritesAtom.slice(0,5).map((item,idx)=>{var _nowPlayingState$musi2,_nowPlayingState$musi3;return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{dividerIndent:87,onClick:()=>{onClickSong(item);},style:{minHeight:"68px",justifyContent:"center"},role:"button",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(AlbumImage,{"aria-hidden":true,src:(0,wrm_GRM_resource_GRP_NcmThumbSet__WEBPACK_IMPORTED_MODULE_13__["default"])(item.themeId)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{maxLine:2,"aria-label":makeAria(item),children:item.songTitle?t(item.songTitle):"Unknown"})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{"aria-hidden":true,style:{flexDirection:"column",textAlign:"center"},children:[(nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi2=nowPlayingState.music)===null||_nowPlayingState$musi2===void 0?void 0:_nowPlayingState$musi2.songId)===item.songId&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.MUSIC_STATE.PLAYING?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Lottie,{path:wrm_GRM_resource_common_json_ic_ncm_list_playnow_mtrl_json__WEBPACK_IMPORTED_MODULE_15__["default"],size:32,loop:true}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{}),(nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi3=nowPlayingState.music)===null||_nowPlayingState$musi3===void 0?void 0:_nowPlayingState$musi3.songId)===item.songId&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_12__.ncmConstant.MUSIC_STATE.PAUSED?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{size:32,src:wrm_GRM_resource_GRP_image_ic_ncm_list_playnow_mtrl_puase_svg__WEBPACK_IMPORTED_MODULE_14__["default"],style:{width:"32px"}}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{"aria-hidden":true,textCode:"Type_A08",color:theme.colorSet.on_surface_variant,style:{minWidth:"44px"},children:item.playTime})]})]},idx.toString());})]})})]}),(nowPlayingState===null||nowPlayingState===void 0?void 0:nowPlayingState.music)&&playListAtom&&playListAtom.length>0&&isMusicOn&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{marginBottom:"80px"}}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_component_GRP_NowPlayingMusic__WEBPACK_IMPORTED_MODULE_18__["default"],{...nowPlayingState,disabled:!isMusicOn||!isEnable(),playList:playListAtom,goToPlayer:playerBs.fnToggleBs,onClose:onClickNowPlayingClose,onStateChanged:onClickNowPlayingState})]})]}),playerBs.value&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_component_GRP_NowPlayingListBs__WEBPACK_IMPORTED_MODULE_17__["default"],{isShow:playerBs.value,toggleBsFn:playerBs.fnToggleBs// allSongMap={songList}
,handleListChanged:handlePlayListChanged,playList:playListAtom,currentSongId:nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi4=nowPlayingState.music)===null||_nowPlayingState$musi4===void 0?void 0:_nowPlayingState$musi4.songId,currentSongUniqueId:nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi5=nowPlayingState.music)===null||_nowPlayingState$musi5===void 0?void 0:_nowPlayingState$musi5.playUniqueId,nowPlayingState:nowPlayingState,deviceName:t("@CP_NICKNAME_REF_W")// favoriteList={musicFavorite}
,favoriteList:favoritesAtom,volume:mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playVolume,mediaState:mediaStateAtom,onSetVolume:setVolume,onSetPlayMode:setPlayMode,onDelete:editPlayList,onClickMusic:playMusic,onFavorateClick:setFavorate,carpetModel:carpetModel,carpet:carpet,product:product,isDisconnected:isDisconnected,isPartyModeDisabled:isPartyModeDisabled}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowMusicPausePopup,onBackKeyPress:()=>{setIsShowMusicPausePopup(false);},btns:[{event:()=>{setIsShowMusicPausePopup(false);},label:t("@CP_CONFIRM_W")}],children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX35_NCM_PAUSE_10MIN_POPUP_GUIDE_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Checkbox,{onChange:onChangePopupDontShowAgainMusicPause,checked:dontShowAgainMusicPauseFlag,name:"dontShowAgainNCM_MUSIC_PAUSE",id:"dontShowAgainNCM_MUSIC_PAUSE",style:{marginTop:10},children:t("@CP_UX30_DO_NOT_SHOW_AGAIN")})]})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_NCM01_Music);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM05_ColorAlarm/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var _component_common_StyledCard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/component/common/StyledCard.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__);
//const welcomeAlramSelector = (props) => {};
const GRP_NCM05_ColorAlarm=props=>{var _carpetModel$colorAla,_carpetModel$doorOpen,_carpetModel$welcomeN,_carpetModel$colorAla4,_carpetModel$isDoorOp2,_carpetModel$welcomeN3,_carpetModel$door1Wel2,_carpetModel$door2Wel2,_carpetModel$door3Wel2,_carpetModel$door4Wel2,_carpetModel$colorAla5,_carpetModel$welcomeN4,_carpetModel$doorOpen2,_carpetModel$nightMoo;// Get product by product ID
const{productId}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const productName=t("@CP_PROD_CATEGORY_REFRIGERATOR_W");const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_10__.useCarpetGRP)(product,`GRP_NCM05_ColorAlarm`,false,false);// eslint-disable-next-line
const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[NcmColorSet,SetNcmColorSet]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const updateDoorWelcomeColor=()=>{const dataUl=NcmColorSet.find(item=>{var _carpetModel$door1Wel;return item.id===((_carpetModel$door1Wel=carpetModel.door1WelcomeId)===null||_carpetModel$door1Wel===void 0?void 0:_carpetModel$door1Wel.value)+"";});const dataUr=NcmColorSet.find(item=>{var _carpetModel$door2Wel;return item.id===((_carpetModel$door2Wel=carpetModel.door2WelcomeId)===null||_carpetModel$door2Wel===void 0?void 0:_carpetModel$door2Wel.value)+"";});const dataBl=NcmColorSet.find(item=>{var _carpetModel$door3Wel;return item.id===((_carpetModel$door3Wel=carpetModel.door3WelcomeId)===null||_carpetModel$door3Wel===void 0?void 0:_carpetModel$door3Wel.value)+"";});const dataBr=NcmColorSet.find(item=>{var _carpetModel$door4Wel;return item.id===((_carpetModel$door4Wel=carpetModel.door4WelcomeId)===null||_carpetModel$door4Wel===void 0?void 0:_carpetModel$door4Wel.value)+"";});const obj={ul:{colorName:t(dataUl===null||dataUl===void 0?void 0:dataUl.name),color:dataUl===null||dataUl===void 0?void 0:dataUl.code[0].colorCode,id:dataUl===null||dataUl===void 0?void 0:dataUl.id},ur:{colorName:t(dataUr===null||dataUr===void 0?void 0:dataUr.name),color:dataUr===null||dataUr===void 0?void 0:dataUr.code[1].colorCode,id:dataUr===null||dataUr===void 0?void 0:dataUr.id},bl:{colorName:t(dataBl===null||dataBl===void 0?void 0:dataBl.name),color:dataUr===null||dataUr===void 0?void 0:dataUr.code[2].colorCode,id:dataBl===null||dataBl===void 0?void 0:dataBl.id},br:{colorName:t(dataBr===null||dataBr===void 0?void 0:dataBr.name),color:dataUr===null||dataUr===void 0?void 0:dataUr.code[3].colorCode,id:dataBr===null||dataBr===void 0?void 0:dataBr.id}};return obj;};// ncmColor/theme, ncmMusic 전체 조회
const fetchNcmContents=()=>{wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_4__.apiFeatureService.fetchFeatureValue(product,"ncmColorInfo",props.carpetModel,{},true,false).then(res1=>{var _res1$value;console.info(res1);SetNcmColorSet((_res1$value=res1.value)===null||_res1$value===void 0?void 0:_res1$value.color);});};// 하위 스위치 컨트롤 활성화여부
const[controlEnabled,SetControlEnabled]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);// 컬러 알람 전체 ON/OFF
// eslint-disable-next-line
const[isColorAlarmOn,SetIsColorAlarmOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorAla=carpetModel.colorAlarmOnOff)===null||_carpetModel$colorAla===void 0?void 0:_carpetModel$colorAla.value)==="ON");// 문 열림 알람 ON/OFF
// eslint-disable-next-line
const[isDoorOpenLightOn,SetIsDoorOpenLightOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$doorOpen=carpetModel.doorOpenLighting)===null||_carpetModel$doorOpen===void 0?void 0:_carpetModel$doorOpen.value)==="ON");// 웰컴 알람 ON/OFF
// eslint-disable-next-line
const[isWelcomeNoitOn,SetIsWelcomNotiOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$welcomeN=carpetModel.welcomeNoti)===null||_carpetModel$welcomeN===void 0?void 0:_carpetModel$welcomeN.value)==="ON");// 웰컴 알람 각 도어별 welcome Color RGB Values.
// eslint-disable-next-line
const[doorWelcomColor,SetDoorWelcomColor]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(updateDoorWelcomeColor());const onMonitoring=data=>{setIsDisconnected(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_7__["default"].isDisconnected(product,data));};const onMonitoringError=()=>{console.info("onMonitoring Err");};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{carpet.registerOnBackButtonCallback(goBack);carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);fetchNcmContents();return()=>{carpet.unregisterOnBackButtonCallback();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();// carpet.unregisterOnResumeCallback();
//console.debug("@-@ useLayoutEffect return!! CARPET is DETACHED.");
};},[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$colorAla2,_carpetModel$colorAla3;SetIsColorAlarmOn((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorAla2=carpetModel.colorAlarmOnOff)===null||_carpetModel$colorAla2===void 0?void 0:_carpetModel$colorAla2.value)==="ON");SetControlEnabled((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorAla3=carpetModel.colorAlarmOnOff)===null||_carpetModel$colorAla3===void 0?void 0:_carpetModel$colorAla3.value)==="ON");},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorAla4=carpetModel.colorAlarmOnOff)===null||_carpetModel$colorAla4===void 0?void 0:_carpetModel$colorAla4.value]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$isDoorOp;SetIsDoorOpenLightOn((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$isDoorOp=carpetModel.isDoorOpenLightOn)===null||_carpetModel$isDoorOp===void 0?void 0:_carpetModel$isDoorOp.value)==="ON");},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$isDoorOp2=carpetModel.isDoorOpenLightOn)===null||_carpetModel$isDoorOp2===void 0?void 0:_carpetModel$isDoorOp2.value]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$welcomeN2;SetIsWelcomNotiOn((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$welcomeN2=carpetModel.welcomeNoti)===null||_carpetModel$welcomeN2===void 0?void 0:_carpetModel$welcomeN2.value)==="ON");},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$welcomeN3=carpetModel.welcomeNoti)===null||_carpetModel$welcomeN3===void 0?void 0:_carpetModel$welcomeN3.value]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{const doorWelcomColorData=updateDoorWelcomeColor();SetDoorWelcomColor(doorWelcomColorData);},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Wel2=carpetModel.door1WelcomId)===null||_carpetModel$door1Wel2===void 0?void 0:_carpetModel$door1Wel2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door2Wel2=carpetModel.door2WelcomId)===null||_carpetModel$door2Wel2===void 0?void 0:_carpetModel$door2Wel2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door3Wel2=carpetModel.door3WelcomId)===null||_carpetModel$door3Wel2===void 0?void 0:_carpetModel$door3Wel2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door4Wel2=carpetModel.door4WelcomId)===null||_carpetModel$door4Wel2===void 0?void 0:_carpetModel$door4Wel2.value]);const goBack=()=>{carpet.back("GRP_NCM01_Main",{productId:productId});};// const goNcmColorPage = () => {
//     carpet.go("GRP_NCM01_Color", { productId: productId });
// };
// const goNcmMusicPage = () => {
//     carpet.go("GRP_NCM01_Music", { productId: productId });
// };
// const goNcmAlarmPage = () => {
//     carpet.go("GRM_NCM01_Music", { productId: productId });
// };
const sendBasicVtControl=(cmd,value)=>{// const cmd = "musicLight";
wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_6__["default"].fireBaseEventUsedFeature(product,"-Ncm04-Ctrl-"+cmd+"_"+t(value));let vtParam={ctrlTarget:["DOOR_ALL"],reqDevType:"APP",productType:"NORMAL",vtData:{DOOR_ALL:[{cmd:cmd,type:"ABSOLUTE",value:value,roomType:"NONE"}]}};carpet.sendVtControl(vtParam,true,undefined,true).then(res=>{console.info(res);});};// 웰컴 알람 컬러 선택기능은
// 최종적으로 Spec Out.되었으나, 추후 업데이트 될 수 있음
//const supportWelcomeColorSelection = false;
const colorAlarmStatus={isColorAlarmOn:((_carpetModel$colorAla5=carpetModel.colorAlarmOnOff)===null||_carpetModel$colorAla5===void 0?void 0:_carpetModel$colorAla5.value)==="ON",isWelcomeNoitOn:((_carpetModel$welcomeN4=carpetModel.welcomeNoti)===null||_carpetModel$welcomeN4===void 0?void 0:_carpetModel$welcomeN4.value)==="ON",isDoorOpenLightingOn:((_carpetModel$doorOpen2=carpetModel.doorOpenLighting)===null||_carpetModel$doorOpen2===void 0?void 0:_carpetModel$doorOpen2.value)==="ON",isNightMoodOn:((_carpetModel$nightMoo=carpetModel.nightMood)===null||_carpetModel$nightMoo===void 0?void 0:_carpetModel$nightMoo.value)==="ON"};const isEnable=()=>{var _carpetModel$ncmMode;return(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.TERM_ON&&!isDisconnected;};return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t("@CP_NCM_TERM_COLOR_ALARM_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_component_common_StyledCard__WEBPACK_IMPORTED_MODULE_9__["default"],{"aria-hidden":!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:"master",disabled:!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{id:"ncm05_color_alarm_master_switch",tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.SWITCH_BTN+"ncm05_color_alarm_master_switch",checked:colorAlarmStatus.isColorAlarmOn,onChange:e=>{const value=e.target.checked?_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.TERM_ON:_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.TERM_OFF;sendBasicVtControl("colorAlarmOnOff",value);wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_5__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_52,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_5__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_52,{is_toggle_on:e.target.checked}));},disabled:!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_NCM_TERM_COLOR_ALARM_W")})})})},"master")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{"aria-hidden":!isEnable()||!controlEnabled,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_component_common_StyledCard__WEBPACK_IMPORTED_MODULE_9__["default"],{"aria-hidden":!isEnable()||!controlEnabled,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:"doorOpenLighting",disabled:!isEnable()||!controlEnabled,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{id:"ncm05_color_alarm_door_open_switch",tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.SWITCH_BTN+"ncm05_color_alarm_door_open_switch",checked:!controlEnabled?false:colorAlarmStatus.isDoorOpenLightingOn,onChange:e=>{const value=e.target.checked?_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.TERM_ON:_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.TERM_OFF;sendBasicVtControl("doorOpenLighting",value);wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_5__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_53,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_5__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_53,{is_toggle_on:e.target.checked}));},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_NCM_TERM_DOOR_OPEN_ALARM_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:t("@CP_NCM_TERM_DOOR_OPEN_ALARM_DESC_S",{$0:productName})})]})})},"doorOpenLighting"),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:"welcomeNoti",disabled:!isEnable()||!controlEnabled,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{id:"ncm05_color_alarm_welcome_alarm_switch",tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.SWITCH_BTN+"ncm05_color_alarm_welcome_alarm_switch",checked:!controlEnabled?false:colorAlarmStatus.isWelcomeNoitOn,onChange:e=>{const value=e.target.checked?_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.TERM_ON:_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.TERM_OFF;sendBasicVtControl("welcomeNoti",value);wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_5__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_54,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_5__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_54,{is_toggle_on:e.target.checked}));},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_NCM_TERM_WELCOME_ALARM_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:t("@CP_NCM_TERM_WELCOME_ALARM_DESC_S",{$0:productName})})]})})},"welcomeNoti"),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:"nightMood",disabled:!isEnable()||!controlEnabled,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{id:"ncm05_color_alarm_night_alarm_switch",tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.SWITCH_BTN+"ncm05_color_alarm_night_alarm_switch",checked:!controlEnabled?false:colorAlarmStatus.isNightMoodOn,onChange:e=>{const value=e.target.checked?_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.TERM_ON:_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.TERM_OFF;sendBasicVtControl("nightMood",value);wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_5__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_55,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_5__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_55,{is_toggle_on:e.target.checked}));},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_NCM_TERM_NIGHT_MOOD_ALARM_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:t("@CP_NCM_TERM_NIGHT_MOOD_ALARM_DESC_S",{$0:productName})})]})})},"nightMood")]})})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_NCM05_ColorAlarm);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM06_MusicThemeList/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_effect_disabled__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/components/effect/disabled.js");
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_component_GRP_NowPlayingMusic__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/component/GRP/NowPlayingMusic.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRM/ncmUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/ncmConstant.js");
/* harmony import */ var wrm_GRM_lib_common_useBsState__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/useBsState.js");
/* harmony import */ var wrm_GRM_resource_GRP_NcmThumbSet__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/resource/GRP/NcmThumbSet.js");
/* harmony import */ var _component_GRP_NowPlayingListBs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/component/GRP/NowPlayingListBs.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__);
const Section=(0,styled_components__WEBPACK_IMPORTED_MODULE_18__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({direction:"column",justify:"center",align:"center"})`
    ${components_effect_disabled__WEBPACK_IMPORTED_MODULE_19__["default"]}
`;const SectionHeader=(0,styled_components__WEBPACK_IMPORTED_MODULE_18__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({direction:"row",justify:"flex-start",align:"center"})`
    width: 100%;
    min-height: 57px;
    padding: 12px 20px 20px 20px;
`;const ThemeContainer=styled_components__WEBPACK_IMPORTED_MODULE_18__["default"].div`
    width: 100%;
    min-height: 147px;
    padding: 0 20px 10px 20px;
    display: grid;
    row-gap: 10px;
    align-items: center;
    justify-items: center;
    justify-content: space-between;
    grid-template-columns: ${props=>props.isLandscapeMode?"repeat(6, fit-content(104px))":"repeat(3, fit-content(104px))"};
`;const ThemeGridItem=(0,styled_components__WEBPACK_IMPORTED_MODULE_18__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({direction:"column",justify:"flex-start"})`
    width: fit-content;
`;const ThemeImage=(0,styled_components__WEBPACK_IMPORTED_MODULE_18__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Img).attrs({width:"104",height:"104"})`
    border-radius: 10px;
`;// const NowPlayingAlbumImage = styled(Img).attrs({
//     width: "48",
//     height: "48",
// })`
//     border-radius: 8px;
// `;
const GRP_NCM06_MusicThemeList=props=>{var _carpetModel$musicCol3,_carpetModel$door1Col2,_carpetModel$colorTyp2,_nowPlayingState$musi,_nowPlayingState$musi2;const{productId,themeList}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const themeListInfo=JSON.parse(themeList);const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_14__.useCarpetGRP)(product,`GRP_NCM06_MusicThemeList`,false,false);// eslint-disable-next-line
const[carpetModel]=carpet.getModel();const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isPartyModeDisabled,setIsPartyModeDisabled]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const isEnable=()=>{var _carpetModel$ncmMode;return(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_ON&&!isDisconnected;};//나중에 전체 Recoil 로 바꿔야 할 듯
const[isMusicOn,setIsMusicOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);const[mediaStateAtom,setMediaStateAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_8__.screenHelper.ncmMediaStateAtom);const[playListAtom,setPlayListAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_8__.screenHelper.ncmPlayListAtom);const[favoritesAtom,setFavoritesAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_8__.screenHelper.ncmBookmarkListAtom);const[nowPlayingState,setNowPlayingState]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_8__.screenHelper.ncmNowPlayingStateAtom);const playerBs=(0,wrm_GRM_lib_common_useBsState__WEBPACK_IMPORTED_MODULE_11__.useBsState)();const playMusic=uniqueId=>{wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].playMusic(carpet,uniqueId);};const setVolume=value=>{wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].setVolume(carpet,value);};// 10분 이상 음악 일시정지시 파티모드 꺼짐 팝업 컨트롤
const[isShowMusicPausePopup,setIsShowMusicPausePopup]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const checkedDontShowAgainMusicPauseFlag=product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.PRODUCT_CONFIG.KEY_NCM_MUSIC_PAUSE_POPUP_DONT_SHOW_AGAIN);const[dontShowAgainMusicPauseFlag,setDontShowAgainMusicPauseFlag]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(checkedDontShowAgainMusicPauseFlag);const onChangePopupDontShowAgainMusicPause=e=>{setDontShowAgainMusicPauseFlag(e.target.checked);const p1=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_9__["default"].getFirstUpperCase(e.target.checked);_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_16__["default"].fireBaseEventUsedFeature(product,"-ncm06-MusicPausePopNotAgain"+p1);product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.PRODUCT_CONFIG.KEY_NCM_MUSIC_PAUSE_POPUP_DONT_SHOW_AGAIN,e.target.checked);};// end
const setPlayMode=(cmd,value)=>{var _carpetModel$colorCol,_carpetModel$musicCol,_carpetModel$musicLig;const colorCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol===void 0?void 0:_carpetModel$colorCol.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_ON;const musicCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol===void 0?void 0:_carpetModel$musicCol.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_ON;const partyModeOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig=carpetModel.musicLight)===null||_carpetModel$musicLig===void 0?void 0:_carpetModel$musicLig.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_15__.constant.TERM_OFF;if(!dontShowAgainMusicPauseFlag&&value===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_10__.ncmConstant.VALUE_MUSIC.PAUSE&&colorCollectionOn&&musicCollectionOn&&partyModeOn){setIsShowMusicPausePopup(true);}wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].setPlayMode(carpet,cmd,value);};const getPlayListInfo=playFirstSong=>{console.info(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId);playFirstSong=playFirstSong||false;// PlayList 조회
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"ncmPlayListInfo",props.carpetModel,{},true,false).then(res=>{var _res$value;// PlayListAtom set
const playList=((_res$value=res.value)===null||_res$value===void 0?void 0:_res$value.items)||[];setPlayListAtom(playList);// const nowPlayMusic = playList.find((song) => {
//     return song?.playUniqueId === mediaStateAtom?.playUniqueId;
// });
// // nowPlayingState set
// if (nowPlayMusic) {
//     setNowPlayingState((prev) => {
//         return {
//             ...prev,
//             music: nowPlayMusic,
//         };
//     });
// } else {
//     setNowPlayingState((prev) => {
//         return {
//             ...prev,
//             music: playList[0],
//         };
//     });
// }
if(playList.length>0){let songUniqueId=playList[0].playUniqueId;if(playFirstSong){wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].playMusic(carpet,songUniqueId);}else{////////// 곡목변경시 DQ1에서 재생 멈춰서 앱에서 재생시켜주는 임시코드
// const s = playList.find((song) => {
//     return song.playIndex + "" === mediaStateAtom?.playIndex + "";
// });
// if (s) {
// setPlayMode(ncmConstant.CMD_MUSIC.MODE, ncmConstant.VALUE_MUSIC.RESUME);
// } else {
// ncmUtil.playMusic(carpet, songUniqueId);
// }
///////////
}}else{if(playerBs.value){playerBs.fnToggleBs();}}});};const editPlayList=(cmd,index)=>{// let musicObj = undefined;
switch(cmd){case"ADD":break;case"DELETE":// eslint-disable-next-line no-case-declarations
const items=[...playListAtom];// eslint-disable-next-line no-case-declarations
const[removedItem]=items.splice(index,1);console.info("DeleteSong: "+JSON.stringify(removedItem));// eslint-disable-next-line no-case-declarations
const requestBody={cmd:"remove",item:items.map(item=>{return{songId:item.songId,playUniqueId:item.playUniqueId,songTitle:item.songTitle,songUrl:item.songUrl};})};// API Call
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"editNcmPlayList",props.carpetModel,requestBody,true,false).then(res=>{console.info(res);getPlayListInfo();});break;default:break;}};const setFavorate=musicItemArr=>{const param={item:musicItemArr.map(song=>{return{songId:song.songId,bookmarkYn:song.bookmarkYn==="N"?"Y":"N"};})};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"ncmBookmark",props.carpetModel,param,true,false).then(()=>{// Bookmark Update
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"ncmBookmarkInfo",props.carpetModel,{},true,false).then(res=>{setFavoritesAtom(res.value);getPlayListInfo();});});};const handlePlayListChanged=_ref=>{let{oldIndex,newIndex}=_ref;if(oldIndex===newIndex)return;let items=[...playListAtom];const[reorderedItem]=items.splice(oldIndex,1);items.splice(newIndex,0,reorderedItem);const requestBody={cmd:"reorder",item:items.map(item=>{return{songId:item.songId,playUniqueId:item.playUniqueId,songTitle:item.songTitle,songUrl:item.songUrl};})};// API Call
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"editNcmPlayList",props.carpetModel,requestBody,true,false).then(res=>{console.info(res);getPlayListInfo();});};//onClose, onStatusChanged,
const onClickNowPlayingClose=()=>{// setNowPlayingState({
//     state: ncmConstant.MUSIC_STATE.STOPPED,
//     music: undefined,
// });
};const onClickNowPlayingState=()=>{const isPlaying=(nowPlayingState===null||nowPlayingState===void 0?void 0:nowPlayingState.state)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_10__.ncmConstant.MUSIC_STATE.PLAYING;const isStop=(nowPlayingState===null||nowPlayingState===void 0?void 0:nowPlayingState.state)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_10__.ncmConstant.MUSIC_STATE.STOPPED;const setValue=isPlaying?wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_10__.ncmConstant.VALUE_MUSIC.PAUSE:isStop?wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_10__.ncmConstant.MUSIC_STATE.PLAYING:wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_10__.ncmConstant.VALUE_MUSIC.RESUME;if(isStop){wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_7__["default"].playMusic(carpet,mediaStateAtom.playUniqueId);}else{setPlayMode(wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_10__.ncmConstant.CMD_MUSIC.MODE,setValue);}setNowPlayingState(prev=>{return{...prev,state:setValue};});};const onMonitoring=data=>{var _data$refState,_data$refState2;console.log("onMonitoring!!!");console.log(data===null||data===void 0?void 0:(_data$refState=data.refState)===null||_data$refState===void 0?void 0:_data$refState.mediaState);setIsDisconnected(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_9__["default"].isDisconnected(product,data));// playListId 변경시 지금 재생 목록 수정
if(data!==null&&data!==void 0&&(_data$refState2=data.refState)!==null&&_data$refState2!==void 0&&_data$refState2.mediaState){var _data$refState3;setMediaStateAtom(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_9__["default"].cloneJson(data===null||data===void 0?void 0:(_data$refState3=data.refState)===null||_data$refState3===void 0?void 0:_data$refState3.mediaState));}};const getCurrentSongInfo=()=>{if(!playListAtom||!(mediaStateAtom!==null&&mediaStateAtom!==void 0&&mediaStateAtom.playIndex)||playListAtom.length===0){return undefined;}let playIdx=mediaStateAtom.playIndex;const music=playListAtom[playIdx];return music;};const onMonitoringError=data=>{console.log(data);};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);carpet.registerOnBackButtonCallback(goBack);return()=>{carpet.unregisterOnBackButtonCallback();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{const nowPlayMusic=playListAtom===null||playListAtom===void 0?void 0:playListAtom.find(song=>{return(song===null||song===void 0?void 0:song.playUniqueId)===(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playUniqueId);});// nowPlayingState set
if(nowPlayMusic){setNowPlayingState(prev=>{return{...prev,music:nowPlayMusic};});}else if(playListAtom.length>0){setNowPlayingState(prev=>{return{...prev,music:playListAtom[0]};});}},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playUniqueId,playListAtom]);// useLayoutEffect(() => {
//     setIsMusicOn(true);
//     // setIsMusicOn(mediaStateAtom?.musicCollectionOnOff === "ON");
// }, [mediaStateAtom?.musicCollectionOnOff]);
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$musicCol2;setIsMusicOn((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol2=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol2===void 0?void 0:_carpetModel$musicCol2.value)==="ON");},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol3=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol3===void 0?void 0:_carpetModel$musicCol3.value]);// playListId 변경시 재생목록을 서버에서 새로 받아와서 recoilState에 업데이트
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{// playListId가 쓰레기 값이면 무시
if(isNaN(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId)){return;}getPlayListInfo(false);},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setNowPlayingState({state:(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)+"",music:getCurrentSongInfo()});},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState,mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playIndex]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$colorTyp,_carpetModel$door1Col;const isThemeCase=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp=carpetModel.colorType)===null||_carpetModel$colorTyp===void 0?void 0:_carpetModel$colorTyp.value)==="THEME";const isMoodCollectionTheme=isThemeCase&&Number(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col=carpetModel.door1ColorId)===null||_carpetModel$door1Col===void 0?void 0:_carpetModel$door1Col.value)>=100;setIsPartyModeDisabled(isMoodCollectionTheme);},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col2=carpetModel.door1ColorId)===null||_carpetModel$door1Col2===void 0?void 0:_carpetModel$door1Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp2=carpetModel.colorType)===null||_carpetModel$colorTyp2===void 0?void 0:_carpetModel$colorTyp2.value]);//todo mediaPlayState
// useLayoutEffect(() => {
//     setNowPlayingState({
//         state: carpetModel?.mediaPlayState?.value + "",
//         music: getCurrentSongInfo(),
//     });
// }, [carpetModel?.mediaPlayState?.value, mediaStateAtom?.playIndex]);
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playRepeatMode,mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playShuffleMode]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playVolume]);const goBack=()=>{carpet.back("GRP_NCM01_Music",{productId:productId});};// const onClickTheme = (themeItem) => {
//     // 1. Fetch Theme song list
//     apiFeatureService
//         .fetchFeatureValue(
//             product,
//             "ncmMusicDetail",
//             props.carpetModel,
//             { type: "ncmMusicDetail", themeId: themeItem.themeId },
//             true,
//             false
//         )
//         .then((res) => {
//             const themeDetailSongList = res.value;
//             if (themeDetailSongList && themeDetailSongList.length > 0) {
//                 // 플레이리스트에 곡 추가
//                 apiFeatureService
//                     .setFeatureValue(
//                         product,
//                         "addNcmPlayList",
//                         props.carpetModel,
//                         {
//                             item: themeDetailSongList.map((i) => {
//                                 return { songId: i.songId };
//                             }),
//                         },
//                         true,
//                         false
//                     )
//                     .then((res) => {
//                         console.info(res);
//                         // getPlayListInfo(true);
//                     });
//             }
//         });
// };
const goToThemeDetailList=item=>{const selectedTheme=themeListInfo.find(_item=>{return _item.themeId===item.themeId+"";});if(selectedTheme){carpet.go("GRP_NCM07_MusicThemeDetail",{productId:productId,themeSelected:JSON.stringify(selectedTheme)});}};//Adjust animation orientation
const[isLandscapeMode,setIsLandScapeMode]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const setOrientation=()=>{if(window.innerWidth>window.innerHeight){setIsLandScapeMode(true);}else{setIsLandScapeMode(false);}};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setOrientation();window.addEventListener("resize",setOrientation);window.addEventListener("orientationchange",setOrientation);return()=>{window.removeEventListener("resize",setOrientation);window.removeEventListener("orientationchange",setOrientation);};},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();}})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(Section,{disabled:!isMusicOn||!isEnable()?"disabled":"","aria-hidden":!isMusicOn||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(SectionHeader,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A12",weight:"Bold",children:t("@CP_NCM_TERM_MUSIC_THEME_COLLECTION_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(ThemeContainer,{isLandscapeMode:isLandscapeMode,children:themeListInfo.filter(theme=>theme.themeName!=="Nature Sound").map((item,idx)=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(ThemeGridItem,{role:"button",onClick:()=>{goToThemeDetailList(item);// onClickTheme(item);
},tabIndex:"1","aria-label":t(item.themeName),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(ThemeImage,{"aria-hidden":true,src:item.themeThumbImageUrl.length>0?item.themeThumbImageUrl:(0,wrm_GRM_resource_GRP_NcmThumbSet__WEBPACK_IMPORTED_MODULE_12__["default"])(item.themeName)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{"aria-hidden":true,textCode:"Type_A08",maxLine:2,style:{width:"100%",minHeight:"38px",alignSelf:"flex-start",textAlign:"center"},children:item.themeName})]},"Theme_"+idx);})})]}),(nowPlayingState===null||nowPlayingState===void 0?void 0:nowPlayingState.music)&&playListAtom&&playListAtom.length>0&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{marginBottom:"80px"}}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(wrm_GRM_component_GRP_NowPlayingMusic__WEBPACK_IMPORTED_MODULE_5__["default"],{...nowPlayingState,disabled:!isMusicOn||!isEnable(),playList:playListAtom,goToPlayer:playerBs.fnToggleBs,onClose:onClickNowPlayingClose,onStateChanged:onClickNowPlayingState})]})]}),playerBs.value&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_component_GRP_NowPlayingListBs__WEBPACK_IMPORTED_MODULE_13__["default"],{isShow:playerBs.value// isShow={true}
,toggleBsFn:playerBs.fnToggleBs// allSongMap={songList}
,handleListChanged:handlePlayListChanged,playList:playListAtom,currentSongId:nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi=nowPlayingState.music)===null||_nowPlayingState$musi===void 0?void 0:_nowPlayingState$musi.songId,currentSongUniqueId:nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi2=nowPlayingState.music)===null||_nowPlayingState$musi2===void 0?void 0:_nowPlayingState$musi2.playUniqueId,nowPlayingState:nowPlayingState,deviceName:t("@CP_NICKNAME_REF_W")// favoriteList={musicFavorite}
,favoriteList:favoritesAtom,volume:mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playVolume,mediaState:mediaStateAtom,onSetVolume:setVolume,onSetPlayMode:setPlayMode,onDelete:editPlayList,onClickMusic:playMusic,onFavorateClick:setFavorate,carpetModel:carpetModel,carpet:carpet,product:product,isDisconnected:isDisconnected,isPartyModeDisabled:isPartyModeDisabled}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowMusicPausePopup,onBackKeyPress:()=>{setIsShowMusicPausePopup(false);},btns:[{event:()=>{setIsShowMusicPausePopup(false);},label:t("@CP_CONFIRM_W")}],children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX35_NCM_PAUSE_10MIN_POPUP_GUIDE_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Checkbox,{onChange:onChangePopupDontShowAgainMusicPause,checked:dontShowAgainMusicPauseFlag,name:"dontShowAgainNCM_MUSIC_PAUSE",id:"dontShowAgainNCM_MUSIC_PAUSE",style:{marginTop:10},children:t("@CP_UX30_DO_NOT_SHOW_AGAIN")})]})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_NCM06_MusicThemeList);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM07_MusicThemeDetail/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_effect_disabled__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./src/components/effect/disabled.js");
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_component_GRP_NowPlayingMusic__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/component/GRP/NowPlayingMusic.js");
/* harmony import */ var wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/container/common/listview/CardListView.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRM/ncmUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/lib/common/ncmConstant.js");
/* harmony import */ var wrm_GRM_lib_common_useBsState__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/lib/common/useBsState.js");
/* harmony import */ var wrm_GRM_resource_GRP_NcmThumbSet__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/resource/GRP/NcmThumbSet.js");
/* harmony import */ var wrm_GRM_resource_GRP_image_ic_ncm_list_playnow_mtrl_puase_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/resource/GRP/image/ic_ncm_list_playnow_mtrl_puase.svg");
/* harmony import */ var wrm_GRM_resource_common_json_ic_ncm_list_playnow_mtrl_json__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/wrm/GRM/resource/common/json/ic_ncm_list_playnow_mtrl.json");
/* harmony import */ var _component_GRP_NowPlayingListBs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/wrm/GRM/component/GRP/NowPlayingListBs.js");
/* harmony import */ var _component_common_Overrides__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/wrm/GRM/component/common/Overrides.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__);
const Section=(0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({direction:"column",justify:"center",align:"center"})`
    ${components_effect_disabled__WEBPACK_IMPORTED_MODULE_25__["default"]}
`;// const SectionHeader = styled(FlexBox).attrs({
//     direction: "row",
//     justify: "flex-start",
//     align: "center",
// })`
//     width: 100%;
//     min-height: 57px;
//     padding: 17px 24px 8px;
// `;
const TitleArea=(0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.ListItem).attrs({height:"160px"})`
    margin-top: 12px;
`;// const NowPlayingAlbumImage = styled(Img).attrs({
//     width: "48",
//     height: "48",
// })`
//     border-radius: 8px;
// `;
// const AlbumImage = styled(Img).attrs({
//     width: "48",
//     height: "48",
// })`
//     border-radius: 8px;
// `;
const AlbumLargeImage=(0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Img).attrs({width:"120",height:"120"})`
    border-radius: 10px;
`;const GRP_NCM07_MusicThemeDetail=props=>{var _carpetModel$musicCol3,_carpetModel$door1Col2,_carpetModel$colorTyp2,_nowPlayingState$musi4,_nowPlayingState$musi5;const{productId,themeSelected,isFromNcmMain}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const themeInfo=JSON.parse(themeSelected);const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_20__.useCarpetGRP)(product,`GRP_NCM07_MusicThemeDetail`,false,false);// eslint-disable-next-line
const[carpetModel]=carpet.getModel();const playerBs=(0,wrm_GRM_lib_common_useBsState__WEBPACK_IMPORTED_MODULE_14__.useBsState)();const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const isEnable=()=>{var _carpetModel$ncmMode;return(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_21__.constant.TERM_ON&&!isDisconnected;};//나중에 전체 Recoil 로 바꿔야 할 듯
const[isMusicOn,setIsMusicOn]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);// 현재 테마곡 목록
const[songList,setSongList]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);// 현재 선택된 곡
// const [songIdxSelected, setSongIdxSelected] = useState(undefined);
// 재생목록
const[playListAtom,setPlayListAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmPlayListAtom);// DQ1 State
const[mediaStateAtom,setMediaStateAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmMediaStateAtom);// 현재 재생중 상태정보(재생곡, ..)
const[nowPlayingState,setNowPlayingState]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmNowPlayingStateAtom);const[favoritesAtom,setFavoritesAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_4__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmBookmarkListAtom);const[isPartyModeDisabled,setIsPartyModeDisabled]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const setVolume=value=>{wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_8__["default"].setVolume(carpet,value);};// 10분 이상 음악 일시정지시 파티모드 꺼짐 팝업 컨트롤
const[isShowMusicPausePopup,setIsShowMusicPausePopup]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const checkedDontShowAgainMusicPauseFlag=product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_21__.constant.PRODUCT_CONFIG.KEY_NCM_MUSIC_PAUSE_POPUP_DONT_SHOW_AGAIN);const[dontShowAgainMusicPauseFlag,setDontShowAgainMusicPauseFlag]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(checkedDontShowAgainMusicPauseFlag);const onChangePopupDontShowAgainMusicPause=e=>{setDontShowAgainMusicPauseFlag(e.target.checked);const p1=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].getFirstUpperCase(e.target.checked);_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_22__["default"].fireBaseEventUsedFeature(product,"-ncm07-MusicPausePopNotAgain"+p1);product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_21__.constant.PRODUCT_CONFIG.KEY_NCM_MUSIC_PAUSE_POPUP_DONT_SHOW_AGAIN,e.target.checked);};// end
const setPlayMode=(cmd,value)=>{var _carpetModel$colorCol,_carpetModel$musicCol,_carpetModel$musicLig;const colorCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol===void 0?void 0:_carpetModel$colorCol.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_21__.constant.TERM_ON;const musicCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol===void 0?void 0:_carpetModel$musicCol.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_21__.constant.TERM_ON;const partyModeOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig=carpetModel.musicLight)===null||_carpetModel$musicLig===void 0?void 0:_carpetModel$musicLig.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_21__.constant.TERM_OFF;if(!dontShowAgainMusicPauseFlag&&value===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__.ncmConstant.VALUE_MUSIC.PAUSE&&colorCollectionOn&&musicCollectionOn&&partyModeOn){setIsShowMusicPausePopup(true);}wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_8__["default"].setPlayMode(carpet,cmd,value);};const playMusic=uniqueId=>{wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_8__["default"].playMusic(carpet,uniqueId);};const onClickPlayMusic=musicSelectedArr=>{// setSongIdxSelected(idx);
// setNowPlayingState({
//     state: ncmConstant.MUSIC_STATE.PLAYING,
//     music: musicSelectedArr[0],
// });
// setPlayList((prev) => [musicSelected.songIid, ...prev]); // id만 저장
// Add music
return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.setFeatureValue(product,"addNcmPlayList",props.carpetModel,{// playListId: "",
item:musicSelectedArr.map(i=>{return{songId:i.songId};})},true,false).then(res=>{console.info(res);});};const onClickPlayAll=()=>{onClickPlayMusic(songList,0).then(()=>{playerBs.fnToggleBs();});};const goBack=()=>{const page=isFromNcmMain==="true"?"GRP_NCM01_Main":"GRP_NCM06_MusicThemeList";carpet.back(page,{productId:productId});};const onMonitoring=data=>{var _data$refState;console.info("onMonitoring : "+JSON.stringify(data));setIsDisconnected(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].isDisconnected(product,data));// playListId 변경시 지금 재생 목록 수정
if(data!==null&&data!==void 0&&(_data$refState=data.refState)!==null&&_data$refState!==void 0&&_data$refState.mediaState){var _data$refState2;setMediaStateAtom(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].cloneJson(data===null||data===void 0?void 0:(_data$refState2=data.refState)===null||_data$refState2===void 0?void 0:_data$refState2.mediaState));}};const onMonitoringError=data=>{console.info("onMonitoringError : "+JSON.stringify(data));};const onClickNowPlayingClose=()=>{// setNowPlayingState({
//     state: ncmConstant.MUSIC_STATE.STOPPED,
//     music: undefined,
// });
};const onClickNowPlayingState=()=>{const isPlaying=(nowPlayingState===null||nowPlayingState===void 0?void 0:nowPlayingState.state)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__.ncmConstant.MUSIC_STATE.PLAYING;const isStop=(nowPlayingState===null||nowPlayingState===void 0?void 0:nowPlayingState.state)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__.ncmConstant.MUSIC_STATE.STOPPED;const setValue=isPlaying?wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__.ncmConstant.VALUE_MUSIC.PAUSE:isStop?wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__.ncmConstant.MUSIC_STATE.PLAYING:wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__.ncmConstant.VALUE_MUSIC.RESUME;if(isStop){wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_8__["default"].playMusic(carpet,mediaStateAtom.playUniqueId);}else{setPlayMode(wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__.ncmConstant.CMD_MUSIC.MODE,setValue);}setNowPlayingState(prev=>{return{...prev,state:setValue};});};const getCurrentSongInfo=()=>{if(!playListAtom||!(mediaStateAtom!==null&&mediaStateAtom!==void 0&&mediaStateAtom.playIndex)||playListAtom.length===0){return undefined;}let playIdx=mediaStateAtom.playIndex;const music=playListAtom[playIdx];return music;};const getPlayListInfo=playFirstSong=>{console.info(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId);playFirstSong=playFirstSong||false;// PlayList 조회
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.fetchFeatureValue(product,"ncmPlayListInfo",props.carpetModel,{},true,false).then(res=>{var _res$value;// PlayListAtom set
const playList=((_res$value=res.value)===null||_res$value===void 0?void 0:_res$value.items)||[];setPlayListAtom(playList);// const nowPlayMusic = playList.find((song) => {
//     return song?.playUniqueId === mediaStateAtom?.playUniqueId;
// });
// // nowPlayingState set
// if (nowPlayMusic) {
//     setNowPlayingState((prev) => {
//         return {
//             ...prev,
//             music: nowPlayMusic,
//         };
//     });
// } else {
//     setNowPlayingState((prev) => {
//         return {
//             ...prev,
//             music: playList[0],
//         };
//     });
// }
if(playList.length>0){let songUniqueId=playList[0].playUniqueId;if(playFirstSong){wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_8__["default"].playMusic(carpet,songUniqueId);}else{////////// 곡목변경시 DQ1에서 재생 멈춰서 앱에서 재생시켜주는 임시코드
// const s = playList.find((song) => {
//     return song.playIndex + "" === mediaStateAtom?.playIndex + "";
// });
// if (s) {
// setPlayMode(ncmConstant.CMD_MUSIC.MODE, ncmConstant.VALUE_MUSIC.RESUME);
// } else {
// ncmUtil.playMusic(carpet, songUniqueId);
// }
///////////
}}else{if(playerBs.value){// Playlist가 비어있으면 닫기
playerBs.fnToggleBs();}}});};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{// Todo: setNowPlayingState
},[carpetModel===null||carpetModel===void 0?void 0:carpetModel.mediaState]);// playListId 변경시 재생목록을 서버에서 새로 받아와서 recoilState에 업데이트
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{// playListId가 쓰레기 값이면 무시
if(isNaN(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId)){return;}getPlayListInfo(false);},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId]);// 재생상태 변경시 Mini Bar 업데이트
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{setNowPlayingState({state:(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)+"",music:getCurrentSongInfo()});},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState,mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playIndex]);//todo mediaPlayState
// useLayoutEffect(() => {
//     setNowPlayingState({
//         state: carpetModel?.mediaPlayState?.value + "",
//         music: getCurrentSongInfo(),
//     });
// }, [carpetModel?.mediaPlayState?.value, mediaStateAtom?.playIndex]);
// 지금재생중인 곡 변경시 Mini Bar 업데이트
(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{const nowPlayMusic=playListAtom===null||playListAtom===void 0?void 0:playListAtom.find(song=>{return(song===null||song===void 0?void 0:song.playUniqueId)===(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playUniqueId);});// nowPlayingState set
if(nowPlayMusic){setNowPlayingState(prev=>{return{...prev,music:nowPlayMusic};});}else if(playListAtom.length>0){setNowPlayingState(prev=>{return{...prev,music:playListAtom[0]};});}},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playUniqueId,playListAtom]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);carpet.registerOnBackButtonCallback(goBack);// Theme song list 조회
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.fetchFeatureValue(product,"ncmMusicDetail",props.carpetModel,{type:"ncmMusicDetail",themeId:themeInfo.themeId},true,false).then(res=>{console.info(res);setSongList(res===null||res===void 0?void 0:res.value);});return()=>{carpet.unregisterOnBackButtonCallback();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$musicCol2;// setIsMusicOn(true);
setIsMusicOn(((_carpetModel$musicCol2=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol2===void 0?void 0:_carpetModel$musicCol2.value)==="ON");},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol3=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol3===void 0?void 0:_carpetModel$musicCol3.value]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{var _carpetModel$colorTyp,_carpetModel$door1Col;const isThemeCase=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp=carpetModel.colorType)===null||_carpetModel$colorTyp===void 0?void 0:_carpetModel$colorTyp.value)==="THEME";const isMoodCollectionTheme=isThemeCase&&Number(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col=carpetModel.door1ColorId)===null||_carpetModel$door1Col===void 0?void 0:_carpetModel$door1Col.value)>=100;setIsPartyModeDisabled(isMoodCollectionTheme);},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col2=carpetModel.door1ColorId)===null||_carpetModel$door1Col2===void 0?void 0:_carpetModel$door1Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp2=carpetModel.colorType)===null||_carpetModel$colorTyp2===void 0?void 0:_carpetModel$colorTyp2.value]);const editPlayList=(cmd,index)=>{// let musicObj = undefined;
switch(cmd){case"ADD":break;case"DELETE":// eslint-disable-next-line no-case-declarations
const items=[...playListAtom];// eslint-disable-next-line no-case-declarations
const[removedItem]=items.splice(index,1);console.info("DeleteSong: "+JSON.stringify(removedItem));// eslint-disable-next-line no-case-declarations
const requestBody={cmd:"remove",item:items.map(item=>{return{songId:item.songId,playUniqueId:item.playUniqueId,songTitle:item.songTitle,songUrl:item.songUrl};})};//  setPlayListAtom(items);
// API Call
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.setFeatureValue(product,"editNcmPlayList",props.carpetModel,requestBody,true,false).then(res=>{console.info(res);getPlayListInfo();});break;default:break;}};const setFavorate=musicItemArr=>{const param={item:musicItemArr.map(song=>{return{songId:song.songId,bookmarkYn:song.bookmarkYn==="N"?"Y":"N"};})};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.setFeatureValue(product,"ncmBookmark",props.carpetModel,param,true,false).then(()=>{// Bookmark Update
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.fetchFeatureValue(product,"ncmBookmarkInfo",props.carpetModel,{},true,false).then(res=>{setFavoritesAtom(res.value);getPlayListInfo();});});};const handlePlayListChanged=_ref=>{let{oldIndex,newIndex}=_ref;if(oldIndex===newIndex)return;let items=[...playListAtom];const[reorderedItem]=items.splice(oldIndex,1);items.splice(newIndex,0,reorderedItem);const requestBody={cmd:"reorder",item:items.map(item=>{return{songId:item.songId,playUniqueId:item.playUniqueId,songTitle:item.songTitle,songUrl:item.songUrl};})};// API Call
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.setFeatureValue(product,"editNcmPlayList",props.carpetModel,requestBody,true,false).then(res=>{console.info(res);getPlayListInfo();});};const makeAria=item=>{var _nowPlayingState$musi,_item$playTime;const isCurrentSong=(nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi=nowPlayingState.music)===null||_nowPlayingState$musi===void 0?void 0:_nowPlayingState$musi.songId)===item.songId;let aria=t(item.songTitle)+" "+(isCurrentSong&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__.ncmConstant.MUSIC_STATE.PLAYING?t("@CP_NCM_ACCE_TERM_NOW_PLAYING_W"):isCurrentSong&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__.ncmConstant.MUSIC_STATE.PAUSED?t("@CP_NCM_ACCE_MUSIC_PAUSE_W"):"");let temp=(_item$playTime=item.playTime)===null||_item$playTime===void 0?void 0:_item$playTime.split(":");let playTime="";if(temp.length===2){playTime=temp[0]+t("@CP_UX30_ACCESS_MINUTES")+" "+temp[1]+t("@CP_UX30_ACCESS_SECONDS");}return aria+" "+playTime;};return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:""})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(Section,{disabled:!isMusicOn||!isEnable()?"disabled":"","aria-hidden":!isMusicOn||!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.List,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(TitleArea,{noRipple:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{alignItems:"flex-start"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(AlbumLargeImage,{src:(0,wrm_GRM_resource_GRP_NcmThumbSet__WEBPACK_IMPORTED_MODULE_15__["default"])(themeInfo.themeId)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ListItemMain,{style:{alignSelf:"flex-start",marginInlineStart:"16px",marginInlineEnd:"16px",marginTop:"0px"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{textCode:"Type_A12",weight:"Bold",children:themeInfo.themeName}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{description:true,textCode:"Type_A08",children:wrm_GRM_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_8__["default"].getMusicSummaryText(songList)})]})]})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(Section,{disabled:!isMusicOn||!isEnable()?"disabled":"","aria-hidden":!isMusicOn||!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{type:"outlined",align:"center",style:{padding:"16px 24px"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",type:"secondary",onClick:()=>{console.info("Play");onClickPlayAll();wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_34,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_34,{playlist_name:"",song_title:""}));},style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{justify:"center",style:{width:"100%",borderRadius:"20px",backgroundColor:theme.colorSet.main_container_variant,minHeight:"40px"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Icon,{icon:"play_fill",color:theme.colorSet.main_variant3,size:24,style:{marginRight:"2px"}}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A08",color:theme.colorSet.main_variant3,children:t("@CP_NCM_TERM_PLAY_W")})]})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(Section,{disabled:!isMusicOn||!isEnable()?"disabled":"","aria-hidden":!isMusicOn||!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_6__["default"],{paddingTop:0,children:(songList===null||songList===void 0?void 0:songList.length)>0&&songList.map((item,idx)=>{var _nowPlayingState$musi2,_nowPlayingState$musi3;return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{onClick:()=>{onClickPlayMusic([item],idx);wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_35,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_35,{playlist_name:"",song_title:""}));},"aria-label":makeAria(item),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.KeyValueFlex,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{maxLine:2,children:item.songTitle?t(item.songTitle):"Unknown"})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(_component_common_Overrides__WEBPACK_IMPORTED_MODULE_19__.Column,{children:[(nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi2=nowPlayingState.music)===null||_nowPlayingState$musi2===void 0?void 0:_nowPlayingState$musi2.songId)===item.songId&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__.ncmConstant.MUSIC_STATE.PLAYING&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Lottie,{path:wrm_GRM_resource_common_json_ic_ncm_list_playnow_mtrl_json__WEBPACK_IMPORTED_MODULE_17__["default"],size:32,loop:true}),(nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi3=nowPlayingState.music)===null||_nowPlayingState$musi3===void 0?void 0:_nowPlayingState$musi3.songId)===item.songId&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_13__.ncmConstant.MUSIC_STATE.PAUSED&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{size:32,src:wrm_GRM_resource_GRP_image_ic_ncm_list_playnow_mtrl_puase_svg__WEBPACK_IMPORTED_MODULE_16__["default"],style:{width:"32px"}}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SubText,{color:theme.colorSet.on_surface_variant,children:item.playTime})]})]})})},"songList_"+idx.toString());})})}),(nowPlayingState===null||nowPlayingState===void 0?void 0:nowPlayingState.music)&&playListAtom&&playListAtom.length>0&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{marginBottom:"80px"}}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(wrm_GRM_component_GRP_NowPlayingMusic__WEBPACK_IMPORTED_MODULE_5__["default"],{...nowPlayingState,disabled:!isMusicOn||!isEnable(),playList:playListAtom,goToPlayer:playerBs.fnToggleBs,onClose:onClickNowPlayingClose,onStateChanged:onClickNowPlayingState})]})]}),playerBs.value&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_component_GRP_NowPlayingListBs__WEBPACK_IMPORTED_MODULE_18__["default"],{isShow:playerBs.value,toggleBsFn:playerBs.fnToggleBs,handleListChanged:handlePlayListChanged,playList:playListAtom,currentSongId:nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi4=nowPlayingState.music)===null||_nowPlayingState$musi4===void 0?void 0:_nowPlayingState$musi4.songId,currentSongUniqueId:nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi5=nowPlayingState.music)===null||_nowPlayingState$musi5===void 0?void 0:_nowPlayingState$musi5.playUniqueId,nowPlayingState:nowPlayingState,deviceName:t("@CP_NICKNAME_REF_W"),favoriteList:favoritesAtom,volume:mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playVolume,mediaState:mediaStateAtom,onSetVolume:setVolume,onSetPlayMode:setPlayMode,onDelete:editPlayList,onClickMusic:playMusic,onFavorateClick:setFavorate,carpetModel:carpetModel,carpet:carpet,product:product,isDisconnected:isDisconnected,isPartyModeDisabled:isPartyModeDisabled}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowMusicPausePopup,onBackKeyPress:()=>{setIsShowMusicPausePopup(false);},btns:[{event:()=>{setIsShowMusicPausePopup(false);},label:t("@CP_CONFIRM_W")}],children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX35_NCM_PAUSE_10MIN_POPUP_GUIDE_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Checkbox,{onChange:onChangePopupDontShowAgainMusicPause,checked:dontShowAgainMusicPauseFlag,name:"dontShowAgainNCM_MUSIC_PAUSE",id:"dontShowAgainNCM_MUSIC_PAUSE",style:{marginTop:10},children:t("@CP_UX30_DO_NOT_SHOW_AGAIN")})]})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_NCM07_MusicThemeDetail);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM08_MusicFavorate/delete.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var wrm_GRM_component_common_ButtonBarComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/component/common/ButtonBarComponent.js");
/* harmony import */ var wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/component/common/CardListView.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_resource_GRP_NcmThumbSet__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/resource/GRP/NcmThumbSet.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__);
const GRM_NCM08_FavorateDelete=props=>{var _carpetModel$musicCol2;const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const{productId}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useParams)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,wrm_GRM_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_8__.useCarpetGRP)(product,"GRM_NCM08_FavorateDelete",false,false);// eslint-disable-next-line
const[carpetModel]=carpet.getModel();const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);const isEnable=()=>{var _carpetModel$ncmMode;return(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.TERM_ON&&!isDisconnected;};const[isMusicOn,setIsMusicOn]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);const[favoritesAtom,setFavoritesAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_3__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_10__.screenHelper.ncmBookmarkListAtom);// DQ1 State
//const [mediaStateAtom, setMediaStateAtom] = useRecoilState(screenHelper.ncmMediaStateAtom);
// 현재 재생중 상태정보(재생곡, ..)
//const [nowPlayingState, setNowPlayingState] = useRecoilState(
//    screenHelper.ncmNowPlayingStateAtom
//);
const[selectedList,setSelection]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(Array(favoritesAtom.length).fill(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.UNDEFINED));const[isShowDeletPopup,setShowDeletePopup]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);const setFavorate=musicItemArr=>{const param={item:musicItemArr.map(song=>{return{songId:song.songId,bookmarkYn:song.bookmarkYn==="N"?"Y":"N"};})};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.setFeatureValue(product,"ncmBookmark",props.carpetModel,param,true,false).then(()=>{// Bookmark Update
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"ncmBookmarkInfo",props.carpetModel,{},true,false).then(res=>{setFavoritesAtom(res.value);});});};const selectAllCallback=checked=>{let currentSelectedList=[];for(let i=0;i<favoritesAtom.length;i++){currentSelectedList.push(checked?wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.UNDEFINED:favoritesAtom[i].songId);}setSelection(currentSelectedList);};const selectItemCallback=index=>{let currentSelectedList=[...selectedList];currentSelectedList[index]=currentSelectedList[index]===wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.UNDEFINED?favoritesAtom[index].songId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.UNDEFINED;setSelection(currentSelectedList);};const getSelectedListCount=()=>{let count=0;selectedList.forEach(item=>{if(item!==wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.UNDEFINED){count++;}});return count;};const deleteSelectedSong=()=>{let targetList=[];selectedList.forEach(item=>{if(item!==wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.UNDEFINED){const songItem=favoritesAtom.find(song=>{return song.songId===item;});if(songItem){targetList.push(songItem);}}});setFavorate(targetList);let newFavorate=[];for(let idx=0;idx<favoritesAtom.length;idx++){const foundSong=targetList.find(targetSong=>{return targetSong.songId===favoritesAtom[idx].songId;});if(!foundSong){newFavorate.push(favoritesAtom[idx]);}}setSelection(Array(newFavorate.length).fill(wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.UNDEFINED));setShowDeletePopup(false);setFavoritesAtom(newFavorate);wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_7__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_46,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_7__.mixpanelUtil.Device_Refrigerator_Delete(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_46,{song_title_list:""}));if(newFavorate.length===0){goBack();}else{carpet.go("GRP_NCM08_MusicFavorate",{productId:productId});}};const makeAria=item=>{var _item$playTime;let aria=t(item.songTitle);let temp=(_item$playTime=item.playTime)===null||_item$playTime===void 0?void 0:_item$playTime.split(":");let playTime="";if(temp.length===2){playTime=temp[0]+t("@CP_UX30_ACCESS_MINUTES")+" "+temp[1]+t("@CP_UX30_ACCESS_SECONDS");}return aria+" "+playTime;};const goBack=()=>{carpet.back("GRP_NCM01_Music",{productId:productId});};const onMonitoring=data=>{console.info("onMonitoring : "+JSON.stringify(data));setIsDisconnected(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_11__["default"].isDisconnected(product,data));};const onMonitoringError=data=>{console.info("onMonitoringError : "+JSON.stringify(data));};(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{var _carpetModel$musicCol;setIsMusicOn((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol===void 0?void 0:_carpetModel$musicCol.value)==="ON");},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol2=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol2===void 0?void 0:_carpetModel$musicCol2.value]);(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_14__["default"].fireBaseEventUsedFeature(product,"-NCM08-Del");carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);carpet.registerOnBackButtonCallback(goBack);return()=>{carpet.unregisterOnBackButtonCallback(goBack);carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment,{children:[favoritesAtom&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SelectionBar,{id:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.ELEMENT_ID.MUSIC_FAVORATE_DELETE_SCREEN_ALL_SELECT_NCM08,tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.ELEMENT_ID.MUSIC_FAVORATE_DELETE_SCREEN_ALL_SELECT_NCM08,title:t("@CP_CRUD_SELECT_ALL_W"),checked:getSelectedListCount()===(favoritesAtom===null||favoritesAtom===void 0?void 0:favoritesAtom.length),onChange:()=>selectAllCallback(getSelectedListCount()===(favoritesAtom===null||favoritesAtom===void 0?void 0:favoritesAtom.length)),children:getSelectedListCount().toString()!=="0"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:`Type_A08`,role:"text",children:t("@CP_UX35_LAB_SELECT_COUNT",{$0:getSelectedListCount().toString()})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(wrm_GRM_component_common_CardListView__WEBPACK_IMPORTED_MODULE_5__["default"],{children:favoritesAtom.map((item,idx)=>/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{dividerIndent:131,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Checkbox,{id:`favoritesDeleteCheckbox_${idx}`,checked:selectedList[idx]!==wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.UNDEFINED,onChange:()=>{selectItemCallback(idx);},"aria-label":makeAria(item),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.KeyValueFlex,{delegateFocus:true,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{decorator:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItemThumbnail,{src:(0,wrm_GRM_resource_GRP_NcmThumbSet__WEBPACK_IMPORTED_MODULE_13__["default"])(item.themeId),shape:"square",size:48}),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{maxLine:2,children:item.songTitle?t(item.songTitle):"Unknown"})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SubText,{color:theme.colorSet.on_surface_variant,style:{minWidth:"44px"},children:item.playTime})]})})},`favoritesDeleteListItem_${idx}`))}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowDeletPopup,onBackKeyPress:()=>{setShowDeletePopup(false);},btns:[{event:()=>setShowDeletePopup(false),label:t("@CP_CANCEL_W")},{event:()=>deleteSelectedSong(),label:t("@CP_CRUD_DELETE_W")}],children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@CP_NCM_POPUP_DELETE_FAVORITE_LIST_S")})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(wrm_GRM_component_common_ButtonBarComponent__WEBPACK_IMPORTED_MODULE_4__["default"],{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.ELEMENT_ID.CANEL_BTN+"ncm08_deleteFavorateMusic",type:"tertiary_a",onClick:()=>goBack(),children:t("@CP_CANCEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",tuxId:wrm_GRM_lib_common_constant__WEBPACK_IMPORTED_MODULE_9__.constant.ELEMENT_ID.DELETE_BTN+"ncm08_deleteFavorateMusic",type:"primary",disabled:getSelectedListCount()===0||!isMusicOn||!isEnable(),onClick:()=>{setShowDeletePopup(prev=>!prev);},children:t("@CP_CRUD_DELETE_W")})]})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRM_NCM08_FavorateDelete);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_NCM08_MusicFavorate/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_effect_disabled__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./src/components/effect/disabled.js");
/* harmony import */ var components_lottie_Lottie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/lottie/Lottie.js");
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_component_GRP_NowPlayingMusic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/component/GRP/NowPlayingMusic.js");
/* harmony import */ var wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/container/common/listview/CardListView.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/core/screenHelper.js");
/* harmony import */ var wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/lib/common/ncmConstant.js");
/* harmony import */ var wrm_GRM_lib_common_useBsState__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/lib/common/useBsState.js");
/* harmony import */ var wrm_GRM_resource_GRP_NcmThumbSet__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/resource/GRP/NcmThumbSet.js");
/* harmony import */ var wrm_GRM_resource_GRP_image_ic_ncm_list_playnow_mtrl_puase_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/wrm/GRM/resource/GRP/image/ic_ncm_list_playnow_mtrl_puase.svg");
/* harmony import */ var wrm_GRM_resource_common_json_ic_ncm_list_playnow_mtrl_json__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/wrm/GRM/resource/common/json/ic_ncm_list_playnow_mtrl.json");
/* harmony import */ var _component_GRP_NowPlayingListBs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/wrm/GRM/component/GRP/NowPlayingListBs.js");
/* harmony import */ var _lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./src/wrm/GRM/lib/GRM/ncmUtil.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__);
const Section=(0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({direction:"column",justify:"center",align:"center"})`
    ${components_effect_disabled__WEBPACK_IMPORTED_MODULE_25__["default"]}
`;const SectionHeader=(0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({direction:"column",justify:"flex-start",align:"center"})`
    width: 100%;
    min-height: 57px;
    padding: 17px 24px 8px;
`;const GRP_NCM08_MusicFavorate=props=>{var _carpetModel$door1Col2,_carpetModel$colorTyp2,_carpetModel$musicCol3,_nowPlayingState$musi4,_nowPlayingState$musi5;const{productId}=(0,libs_state__WEBPACK_IMPORTED_MODULE_3__.useParams)();const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_2__.useTranslate)();const product=libs__WEBPACK_IMPORTED_MODULE_2__.Account.getProductById(productId);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_21__.useCarpetGRP)(product,`GRP_NCM08_MusicFavorate`,false,false);// eslint-disable-next-line
const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const playerBs=(0,wrm_GRM_lib_common_useBsState__WEBPACK_IMPORTED_MODULE_15__.useBsState)();const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const isEnable=()=>{var _carpetModel$ncmMode;return(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_22__.constant.TERM_ON&&!isDisconnected;};//나중에 전체 Recoil 로 바꿔야 할 듯
const[isMusicOn,setIsMusicOn]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(true);// 테마곡 목록
const[playListAtom,setPlayListAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_11__.screenHelper.ncmPlayListAtom);const[favoritesAtom,setFavoritesAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_11__.screenHelper.ncmBookmarkListAtom);// DQ1 State
const[mediaStateAtom,setMediaStateAtom]=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_11__.screenHelper.ncmMediaStateAtom);// 현재 재생중 상태정보(재생곡, ..)
const[nowPlayingState,setNowPlayingState]=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.useRecoilState)(wrm_GRM_lib_common_core_screenHelper__WEBPACK_IMPORTED_MODULE_11__.screenHelper.ncmNowPlayingStateAtom);const[isPartyModeDisabled,setIsPartyModeDisabled]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);// 현재 선택된 곡
//const [songIdxSelected, setSongIdxSelected] = useState(undefined);
// const getBookMarkInfo = () => {
//     apiFeatureService
//         .fetchFeatureValue(product, "ncmBookmarkInfo", props.carpetModel, {}, true, false)
//         .then((res) => {
//             console.info(res);
//             setFavoritesAtom(res.value);
//         });
// };
const setVolume=value=>{_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_20__["default"].setVolume(carpet,value);};// 10분 이상 음악 일시정지시 파티모드 꺼짐 팝업 컨트롤
const[isShowMusicPausePopup,setIsShowMusicPausePopup]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const checkedDontShowAgainMusicPauseFlag=product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_22__.constant.PRODUCT_CONFIG.KEY_NCM_MUSIC_PAUSE_POPUP_DONT_SHOW_AGAIN);const[dontShowAgainMusicPauseFlag,setDontShowAgainMusicPauseFlag]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(checkedDontShowAgainMusicPauseFlag);const onChangePopupDontShowAgainMusicPause=e=>{setDontShowAgainMusicPauseFlag(e.target.checked);const p1=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].getFirstUpperCase(e.target.checked);wrm_GRM_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_10__["default"].fireBaseEventUsedFeature(product,"-ncm08-MusicPausePopNotAgain"+p1);product.config(_lib_common_constant__WEBPACK_IMPORTED_MODULE_22__.constant.PRODUCT_CONFIG.KEY_NCM_MUSIC_PAUSE_POPUP_DONT_SHOW_AGAIN,e.target.checked);};// end
const setPlayMode=(cmd,value)=>{var _carpetModel$colorCol,_carpetModel$musicCol,_carpetModel$musicLig;const colorCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorCol=carpetModel.colorCollectionOnOff)===null||_carpetModel$colorCol===void 0?void 0:_carpetModel$colorCol.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_22__.constant.TERM_ON;const musicCollectionOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol===void 0?void 0:_carpetModel$musicCol.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_22__.constant.TERM_ON;const partyModeOn=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicLig=carpetModel.musicLight)===null||_carpetModel$musicLig===void 0?void 0:_carpetModel$musicLig.value)!==_lib_common_constant__WEBPACK_IMPORTED_MODULE_22__.constant.TERM_OFF;if(!dontShowAgainMusicPauseFlag&&value===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.VALUE_MUSIC.PAUSE&&colorCollectionOn&&musicCollectionOn&&partyModeOn){setIsShowMusicPausePopup(true);}_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_20__["default"].setPlayMode(carpet,cmd,value);};const playMusic=uniqueId=>{_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_20__["default"].playMusic(carpet,uniqueId);};const onClickPlayAll=()=>{onClickPlayMusic(favoritesAtom,0);playerBs.fnToggleBs();};const onClickPlayMusic=musicSelectedArr=>{// setSongIdxSelected(idx);
setNowPlayingState({state:wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.MUSIC_STATE.PLAYING,music:musicSelectedArr[0]});// setPlayList((prev) => [musicSelected.songIid, ...prev]); // id만 저장
// Add music
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_8__.apiFeatureService.setFeatureValue(product,"addNcmPlayList",props.carpetModel,{// playListId: "",
item:musicSelectedArr.map(item=>{return{songId:item.songId};})},true,false).then(res=>{console.info(res);});};const goBack=()=>{carpet.back("GRP_NCM01_Music",{productId:productId});};const onMonitoring=data=>{var _data$refState;console.info("onMonitoring : "+JSON.stringify(data));setIsDisconnected(wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].isDisconnected(product,data));if(data!==null&&data!==void 0&&(_data$refState=data.refState)!==null&&_data$refState!==void 0&&_data$refState.mediaState){var _data$refState2;const _mediaState=wrm_GRM_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_12__["default"].cloneJson(data===null||data===void 0?void 0:(_data$refState2=data.refState)===null||_data$refState2===void 0?void 0:_data$refState2.mediaState);setMediaStateAtom(()=>{return{..._mediaState};});}};const onMonitoringError=data=>{console.info("onMonitoringError : "+JSON.stringify(data));};const onClickNowPlayingClose=()=>{// setNowPlayingState({
//     state: ncmConstant.MUSIC_STATE.STOPPED,
//     music: undefined,
// });
};const onClickNowPlayingState=()=>{const isPlaying=(nowPlayingState===null||nowPlayingState===void 0?void 0:nowPlayingState.state)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.MUSIC_STATE.PLAYING;const isStop=(nowPlayingState===null||nowPlayingState===void 0?void 0:nowPlayingState.state)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.MUSIC_STATE.STOPPED;const setValue=isPlaying?wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.VALUE_MUSIC.PAUSE:isStop?wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.MUSIC_STATE.PLAYING:wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.VALUE_MUSIC.RESUME;if(isStop){_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_20__["default"].playMusic(carpet,mediaStateAtom.playUniqueId);}else{setPlayMode(wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.CMD_MUSIC.MODE,setValue);}setNowPlayingState(prev=>{return{...prev,state:setValue};});};(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{var _carpetModel$colorTyp,_carpetModel$door1Col;const isThemeCase=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp=carpetModel.colorType)===null||_carpetModel$colorTyp===void 0?void 0:_carpetModel$colorTyp.value)==="THEME";const isMoodCollectionTheme=isThemeCase&&Number(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col=carpetModel.door1ColorId)===null||_carpetModel$door1Col===void 0?void 0:_carpetModel$door1Col.value)>=100;setIsPartyModeDisabled(isMoodCollectionTheme);},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$door1Col2=carpetModel.door1ColorId)===null||_carpetModel$door1Col2===void 0?void 0:_carpetModel$door1Col2.value,carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$colorTyp2=carpetModel.colorType)===null||_carpetModel$colorTyp2===void 0?void 0:_carpetModel$colorTyp2.value]);(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{// Todo: setNowPlayingState
},[carpetModel.mediaState]);// useLayoutEffect(() => {
//     setIsMusicOn(true);
//     // setIsMusicOn(carpetModel.musicCollectionOnOff?.value === "ON");
// }, [carpetModel.musicCollectionOnOff]);
(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{var _carpetModel$musicCol2;setIsMusicOn((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol2=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol2===void 0?void 0:_carpetModel$musicCol2.value)==="ON");},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$musicCol3=carpetModel.musicCollectionOnOff)===null||_carpetModel$musicCol3===void 0?void 0:_carpetModel$musicCol3.value]);// const sendMusicOnOff = (value) => {
//     const cmd = "musicCollectionOnOff";
//     setIsMusicOn(value);
//     sendBasicVtControl(cmd, value);
// };
// const sendBasicVtControl = (cmd, value) => {
//     // const cmd = "musicLight";
//     firebaseService.fireBaseEventUsedFeature(product, "-Ncm07-Ctrl" + cmd + "_" + t(value));
//     let vtParam = {
//         ctrlTarget: ["UNDEFINE"],
//         reqDevType: "APP",
//         productType: "NORMAL",
//         vtData: {
//             UNDEFINE: [
//                 {
//                     cmd: cmd,
//                     type: "ABSOLUTE",
//                     value: value,
//                 },
//             ],
//         },
//     };
//     console.info(ncmConstant.MUSIC);
//     carpet.sendVtControl(vtParam, true, undefined, true).then(() => {
//         console.info("sendBasicVtControl Complete : " + cmd);
//     });
// };
const handlePlayListChanged=_ref=>{let{oldIndex,newIndex}=_ref;if(oldIndex===newIndex)return;let items=[...playListAtom];const[reorderedItem]=items.splice(oldIndex,1);items.splice(newIndex,0,reorderedItem);const requestBody={cmd:"reorder",item:items.map(item=>{return{songId:item.songId,playUniqueId:item.playUniqueId,songTitle:item.songTitle,songUrl:item.songUrl};})};// API Call
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_8__.apiFeatureService.setFeatureValue(product,"editNcmPlayList",props.carpetModel,requestBody,true,false).then(res=>{console.info(res);getPlayListInfo();});};const getPlayListInfo=playFirstSong=>{console.info(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId);playFirstSong=playFirstSong||false;// PlayList 조회
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_8__.apiFeatureService.fetchFeatureValue(product,"ncmPlayListInfo",props.carpetModel,{},true,false).then(res=>{var _res$value;// PlayListAtom set
const playList=((_res$value=res.value)===null||_res$value===void 0?void 0:_res$value.items)||[];setPlayListAtom(playList);// const nowPlayMusic = playList.find((song) => {
//     return song?.playUniqueId === mediaStateAtom?.playUniqueId;
// });
// // nowPlayingState set
// if (nowPlayMusic) {
//     setNowPlayingState((prev) => {
//         return {
//             ...prev,
//             music: nowPlayMusic,
//         };
//     });
// } else {
//     setNowPlayingState((prev) => {
//         return {
//             ...prev,
//             music: playList[0],
//         };
//     });
// }
if(playList.length>0){let songUniqueId=playList[0].playUniqueId;if(playFirstSong){_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_20__["default"].playMusic(carpet,songUniqueId);}else{////////// 곡목변경시 DQ1에서 재생 멈춰서 앱에서 재생시켜주는 임시코드
// const s = playList.find((song) => {
//     return song.playIndex + "" === mediaStateAtom?.playIndex + "";
// });
// if (s) {
// setPlayMode(ncmConstant.CMD_MUSIC.MODE, ncmConstant.VALUE_MUSIC.RESUME);
// } else {
// ncmUtil.playMusic(carpet, songUniqueId);
// }
///////////
}}else{if(playerBs.value){playerBs.fnToggleBs();}}});};const editPlayList=(cmd,index)=>{switch(cmd){case"ADD":break;case"DELETE":{const items=[...playListAtom];const[removedItem]=items.splice(index,1);console.info("DeleteSong: "+JSON.stringify(removedItem));const requestBody={cmd:"remove",item:items.map(item=>{return{songId:item.songId,playUniqueId:item.playUniqueId,songTitle:item.songTitle,songUrl:item.songUrl};})};// setPlayListAtom(items);
// API Call
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_8__.apiFeatureService.setFeatureValue(product,"editNcmPlayList",props.carpetModel,requestBody,true,false).then(res=>{console.info(res);getPlayListInfo();});}break;default:break;}};const setFavorate=musicItemArr=>{const param={item:musicItemArr.map(song=>{return{songId:song.songId,bookmarkYn:song.bookmarkYn==="N"?"Y":"N"};})};wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_8__.apiFeatureService.setFeatureValue(product,"ncmBookmark",props.carpetModel,param,true,false).then(()=>{// Bookmark Update
wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_8__.apiFeatureService.fetchFeatureValue(product,"ncmBookmarkInfo",props.carpetModel,{},true,false).then(res=>{setFavoritesAtom(res.value);getPlayListInfo();});});};const getCurrentSongInfo=()=>{if(!playListAtom||!(mediaStateAtom!==null&&mediaStateAtom!==void 0&&mediaStateAtom.playIndex)||playListAtom.length===0){return undefined;}let playIdx=mediaStateAtom.playIndex;const music=playListAtom[playIdx];return music;};const makeAria=item=>{var _nowPlayingState$musi,_item$playTime;const isCurrentSong=(nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi=nowPlayingState.music)===null||_nowPlayingState$musi===void 0?void 0:_nowPlayingState$musi.songId)===item.songId;let aria=t(item.songTitle)+" "+(isCurrentSong&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.MUSIC_STATE.PLAYING?t("@CP_NCM_ACCE_TERM_NOW_PLAYING_W"):isCurrentSong&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.MUSIC_STATE.PAUSED?t("@CP_NCM_ACCE_MUSIC_PAUSE_W"):"");let temp=(_item$playTime=item.playTime)===null||_item$playTime===void 0?void 0:_item$playTime.split(":");let playTime="";if(temp.length===2){playTime=temp[0]+t("@CP_UX30_ACCESS_MINUTES")+" "+temp[1]+t("@CP_UX30_ACCESS_SECONDS");}return aria+" "+playTime;};// playListId 변경시 재생목록을 서버에서 새로 받아와서 recoilState에 업데이트
(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{getPlayListInfo(false);},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playListId]);// 재생상태 변경시 Mini Bar 업데이트
(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{setNowPlayingState({state:(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)+"",music:getCurrentSongInfo()});},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState,mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playIndex]);//todo mediaPlayState
// useLayoutEffect(() => {
//     setNowPlayingState({
//         state: carpetModel?.mediaPlayState?.value + "",
//         music: getCurrentSongInfo(),
//     });
// }, [carpetModel?.mediaPlayState?.value, mediaStateAtom?.playIndex]);
// 지금재생중인 곡 변경시 Mini Bar 업데이트
(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{const nowPlayMusic=playListAtom===null||playListAtom===void 0?void 0:playListAtom.find(song=>{return(song===null||song===void 0?void 0:song.playUniqueId)===(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playUniqueId);});// nowPlayingState set
if(nowPlayMusic){setNowPlayingState(prev=>{return{...prev,music:nowPlayMusic};});}else if(playListAtom.length>0){setNowPlayingState(prev=>{return{...prev,music:playListAtom[0]};});}},[mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playUniqueId,playListAtom]);(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);carpet.registerOnBackButtonCallback(goBack);return()=>{carpet.unregisterOnBackButtonCallback();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:"",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.IconButton,{icon:"delete_fill",onClick:()=>{carpet.go("GRM_NCM08_FavorateDelete",{productId:productId});},disabled:!isMusicOn||!isEnable()})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(Section,{disabled:!isMusicOn||!isEnable()?"disabled":"","aria-hidden":!isMusicOn||!isEnable(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(SectionHeader,{style:{alignItems:"flex-start"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{textCode:"Type_A12",weight:"Bold",children:t("@CP_NCM_TERM_FAVORITE_MUSIC_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{description:true,color:theme.colorSet.on_surface_variant,children:_lib_GRM_ncmUtil__WEBPACK_IMPORTED_MODULE_20__["default"].getMusicSummaryText(favoritesAtom)})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{size:"cmd",align:"center",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{type:"secondary",disabled:favoritesAtom.length===0,onClick:()=>{console.info("Play");onClickPlayAll();wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_13__.mixpanelConstant.refrigeratorMixpanel_43,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_13__.mixpanelConstant.refrigeratorMixpanel_43,{song_title:""}));},style:{width:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{justify:"center",style:{width:"100%",borderRadius:"20px",backgroundColor:theme.colorSet.main_container_variant,minHeight:"40px"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Icon,{icon:"play_fill",color:theme.colorSet.main_variant3,size:24,style:{marginRight:"2px"}}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A08",color:theme.colorSet.main_variant3,children:t("@CP_NCM_TERM_PLAY_W")})]})})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(Section,{disabled:!isMusicOn||!isEnable()?"disabled":"","aria-hidden":!isMusicOn||!isEnable(),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_7__["default"],{children:(favoritesAtom===null||favoritesAtom===void 0?void 0:favoritesAtom.length)>0&&favoritesAtom.map((item,idx)=>{var _nowPlayingState$musi2,_nowPlayingState$musi3;return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{dividerIndent:80,role:"listitem",style:{marginTop:"-4px",marginBottom:"-4px"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{"aria-label":makeAria(item),onClick:()=>{onClickPlayMusic([item],idx);wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_13__.mixpanelConstant.refrigeratorMixpanel_44,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_13__.mixpanelConstant.refrigeratorMixpanel_44,{song_title:""}));},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.KeyValueFlex,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{decorator:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItemThumbnail,{src:(0,wrm_GRM_resource_GRP_NcmThumbSet__WEBPACK_IMPORTED_MODULE_16__["default"])(item.themeId),shape:"square"}),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{maxLine:2,children:item.songTitle?t(item.songTitle):"Unknown"})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{"aria-hidden":true,style:{flexDirection:"column",textAlign:"center"},children:[(nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi2=nowPlayingState.music)===null||_nowPlayingState$musi2===void 0?void 0:_nowPlayingState$musi2.songId)===item.songId&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.MUSIC_STATE.PLAYING?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components_lottie_Lottie__WEBPACK_IMPORTED_MODULE_1__["default"],{path:wrm_GRM_resource_common_json_ic_ncm_list_playnow_mtrl_json__WEBPACK_IMPORTED_MODULE_18__["default"],size:32,loop:true}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{}),(nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi3=nowPlayingState.music)===null||_nowPlayingState$musi3===void 0?void 0:_nowPlayingState$musi3.songId)===item.songId&&(mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playState)===wrm_GRM_lib_common_ncmConstant__WEBPACK_IMPORTED_MODULE_14__.ncmConstant.MUSIC_STATE.PAUSED?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{size:32,src:wrm_GRM_resource_GRP_image_ic_ncm_list_playnow_mtrl_puase_svg__WEBPACK_IMPORTED_MODULE_17__["default"],style:{width:"32px",marginInlineEnd:"12px"}}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SubText,{color:theme.colorSet.on_surface_variant,children:item.playTime})]})]})})},idx.toString());})})}),(nowPlayingState===null||nowPlayingState===void 0?void 0:nowPlayingState.music)&&playListAtom&&playListAtom.length>0&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{marginBottom:"80px"}}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(wrm_GRM_component_GRP_NowPlayingMusic__WEBPACK_IMPORTED_MODULE_6__["default"],{...nowPlayingState,disabled:!isMusicOn||!isEnable(),playList:playListAtom,goToPlayer:playerBs.fnToggleBs,onClose:onClickNowPlayingClose,onStateChanged:onClickNowPlayingState})]})]}),playerBs.value&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_component_GRP_NowPlayingListBs__WEBPACK_IMPORTED_MODULE_19__["default"],{isShow:playerBs.value// isShow={true}
,toggleBsFn:playerBs.fnToggleBs// allSongMap={songList}
,handleListChanged:handlePlayListChanged,playList:playListAtom,currentSongId:nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi4=nowPlayingState.music)===null||_nowPlayingState$musi4===void 0?void 0:_nowPlayingState$musi4.songId,currentSongUniqueId:nowPlayingState===null||nowPlayingState===void 0?void 0:(_nowPlayingState$musi5=nowPlayingState.music)===null||_nowPlayingState$musi5===void 0?void 0:_nowPlayingState$musi5.playUniqueId,nowPlayingState:nowPlayingState,deviceName:t("@CP_NICKNAME_REF_W")// favoriteList={musicFavorite}
,favoriteList:favoritesAtom,volume:mediaStateAtom===null||mediaStateAtom===void 0?void 0:mediaStateAtom.playVolume,mediaState:mediaStateAtom,onSetVolume:setVolume,onSetPlayMode:setPlayMode,onDelete:editPlayList,onClickMusic:playMusic,onFavorateClick:setFavorate,carpetModel:carpetModel,carpet:carpet,product:product,isDisconnected:isDisconnected,isPartyModeDisabled:isPartyModeDisabled}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowMusicPausePopup,onBackKeyPress:()=>{setIsShowMusicPausePopup(false);},btns:[{event:()=>{setIsShowMusicPausePopup(false);},label:t("@CP_CONFIRM_W")}],children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@RE_UX35_NCM_PAUSE_10MIN_POPUP_GUIDE_S")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Checkbox,{onChange:onChangePopupDontShowAgainMusicPause,checked:dontShowAgainMusicPauseFlag,name:"dontShowAgainNCM_MUSIC_PAUSE",id:"dontShowAgainNCM_MUSIC_PAUSE",style:{marginTop:10},children:t("@CP_UX30_DO_NOT_SHOW_AGAIN")})]})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_NCM08_MusicFavorate);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_SET01_Main/alarmList.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/GRM/uiUtility.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/common/core/upgradableProvider.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var _component_common_CardListView__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/component/common/CardListView.js");
/* harmony import */ var _lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/GRP/badgeController.js");
/* harmony import */ var _lib_GRP_upgradeWizardUtil__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/GRP/upgradeWizardUtil.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__);
// const BackgroundStyle = styled(BodyContainer).attrs(({ theme, isWizardScreen }) => ({
//     backgroundColor: isWizardScreen
//         ? theme.colorSet.background_material_light
//         : theme.colorSet.list_separator_background_color,
// }))``;
const GRP_SET01_Main_001_AlarmList=()=>{var _carpetModel$sabbathM,_carpetModel$sabbathM2,_carpetModel$doorAlar,_carpetModel$sabbathM3,_carpetModel$sabbathM4,_carpetModel$iceDropS3,_carpetModel$iceDropS4;const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const{productId,isWizardFlow}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const isOspCase=wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_5__["default"].isOspProduct(product);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_12__.useCarpetGRP)(product,"GRP_SET01_Main_001_AlarmList",false,false);// eslint-disable-next-line
const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isSupportProductAlarm,setIsSupportProductAlarm]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isSupportIceDropSound,setIsSupportIceDropSound]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isShowIceDropSoundNewBadge,setIsShowIceDropSoundNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[isShowProductAlarmNewBadge,setIsShowProductAlarmNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const toggleIceDropSoundSetting=event=>{var _carpetModel$iceDropS,_carpetModel$iceDropS2;const mainState=event.target.checked?_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.DEFAULT_LABEL_ON:_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.DEFAULT_LABEL_OFF;let selectedOption=(_carpetModel$iceDropS=carpetModel.iceDropSoundOnOff)===null||_carpetModel$iceDropS===void 0?void 0:(_carpetModel$iceDropS2=_carpetModel$iceDropS.controlList)===null||_carpetModel$iceDropS2===void 0?void 0:_carpetModel$iceDropS2.find(item=>{return item.label===mainState;});wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_277,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_277,{is_toggle_on:event.target.checked}));carpet.sendSimpleControl("iceDropSoundOnOff",selectedOption);};const checkFoceOpenUpContents=()=>{// Door Open Alarm
let productAlarmContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_7__.upgradableProvider.checkSupportProductAlarm(undefined,product);setIsSupportProductAlarm(productAlarmContent.isSupport);if(productAlarmContent.isSupport){setIsShowProductAlarmNewBadge(productAlarmContent.isShowNewBadge);//지금 화면에서 배지 보여줄지 플래그 가져와서 세팅하고(유지)
}// Ice Drop Sound
let iceDropSoundContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_7__.upgradableProvider.checkSupportIceDropSound(undefined,product);setIsSupportIceDropSound(iceDropSoundContent.isSupport);if(iceDropSoundContent.isSupport){setIsShowIceDropSoundNewBadge(iceDropSoundContent.isShowNewBadge);}if(iceDropSoundContent.isShowNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_10__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.UPGRADE_CENTER.UPGRADE_ICE_DROP_SOUND_ID);}};const fetchActivatedContents=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_4__.apiFeatureService.fetchFeatureValue(product,"activatedContents",undefined,{},true,true).then(res=>{var _res$rawData,_res$rawData$snapshot;const contentsList=isOspCase?res===null||res===void 0?void 0:(_res$rawData=res.rawData)===null||_res$rawData===void 0?void 0:(_res$rawData$snapshot=_res$rawData.snapshot)===null||_res$rawData$snapshot===void 0?void 0:_res$rawData$snapshot.ospAppList:res===null||res===void 0?void 0:res.activatedContents;if(contentsList.length>0){// Door Open Alarm
let productAlarmContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_7__.upgradableProvider.checkSupportProductAlarm(contentsList,product,isOspCase);// Door Open Alarm
setIsSupportProductAlarm(productAlarmContent.isSupport);if(productAlarmContent.isSupport){// 얼음 생성 알림음 표기하는 페이지인지 확인필요
setIsShowProductAlarmNewBadge(productAlarmContent.isShowNewBadge);//지금 화면에서 배지 보여줄지 플래그 가져와서 세팅하고(유지)
}// Ice Drop Sound
let iceDropSoundContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_7__.upgradableProvider.checkSupportIceDropSound(contentsList,product,isOspCase);// if (
//     productAlarmContent.isShowNewBadge &&
//     iceDropSoundContent?.isSupport !== true
// ) {
//     // HAPBRPM-59602 : 얼음 생성 알림음 업그레이드 시에는 여기서 문열림알림음 뱃지 체크하면 안됌
//     badgeController.writeStorageValueTo(
//         constant.UPGRADE_CENTER.UPGRADE_PRODUCT_ALARM_PHASE1_ID
//     );
// }
// Ice Drop Sound
setIsSupportIceDropSound(iceDropSoundContent.isSupport);if(iceDropSoundContent.isSupport){setIsShowIceDropSoundNewBadge(iceDropSoundContent.isShowNewBadge);}if(iceDropSoundContent.isShowNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_10__["default"].writeStorageValueTo(isOspCase?"009-1":_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.UPGRADE_CENTER.UPGRADE_ICE_DROP_SOUND_ID);}}else{setIsSupportProductAlarm(false);setIsSupportIceDropSound(false);}});};const goProductAlarm=()=>{//console.debug("goNickNameEdit()");
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_274,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_274));carpet.go("GRP_SET01_Main/productAlarm",{productId:productId,isSupportProductAlarm:JSON.stringify(isSupportProductAlarm)},undefined,"001");};const init=()=>{if(wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_5__["default"].isSupportUpgradeCenter(product)){fetchActivatedContents();}else{checkFoceOpenUpContents();}};const isWizardFlowFlag=()=>{//return true;
return isWizardFlow+""==="true";};const getTitleText=()=>{let titleText="";if(isWizardFlowFlag()){titleText=t("@RE_UX35_TITLE_WIZARD_W");}else{titleText=t("@RE_UX35_TERM_SIGNAL_W");}return titleText;};const goBack=()=>{if(isWizardFlowFlag()){_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_14__["default"].showUpgradeStopDialog(productId);return;}carpet.back("GRP_SET01_Main",{productId:productId});};const onMonitoring=data=>{setIsDisconnected(_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_14__["default"].isDisconnected(product,data));};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnBackButtonCallback(goBack);return()=>{carpet.unregisterOnMonitoringCallback();carpet.unregisterOnBackButtonCallback(goBack);};},[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{init();},[]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:getTitleText()})}),isWizardFlowFlag()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Subtitle,{paddingTop:21,paddingBottom:8,children:t("@RE_UX35_TERM_ICE_DROP_SOUND_W")}),!isWizardFlowFlag()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(_component_common_CardListView__WEBPACK_IMPORTED_MODULE_9__["default"],{children:[isSupportProductAlarm&&!isWizardFlowFlag()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.ELEMENT_ID.PRODUCT_ALARM_LIST,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.ELEMENT_ID.PRODUCT_ALARM_LIST,disabled:isDisconnected||(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$sabbathM=carpetModel.sabbathMode)===null||_carpetModel$sabbathM===void 0?void 0:(_carpetModel$sabbathM2=_carpetModel$sabbathM.value)===null||_carpetModel$sabbathM2===void 0?void 0:_carpetModel$sabbathM2.includes("ON")),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:goProductAlarm,style:{minHeight:"67px"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{type:"span",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{newBadge:isShowProductAlarmNewBadge,children:t("@RE_UX35_DOOR_OPEN_ALARM_TITLE_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{description:true,maxLine:1,color:theme.colorSet.main_variant2,children:isDisconnected?"":t(((_carpetModel$doorAlar=carpetModel.doorAlarmSound)===null||_carpetModel$doorAlar===void 0?void 0:_carpetModel$doorAlar.label)||"")})]})})}),isSupportIceDropSound&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.ELEMENT_ID.PRODUCT_ALARM,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.ELEMENT_ID.PRODUCT_ALARM,disabled:isDisconnected||(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$sabbathM3=carpetModel.sabbathMode)===null||_carpetModel$sabbathM3===void 0?void 0:(_carpetModel$sabbathM4=_carpetModel$sabbathM3.value)===null||_carpetModel$sabbathM4===void 0?void 0:_carpetModel$sabbathM4.includes("ON")),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{checked:(_carpetModel$iceDropS3=carpetModel.iceDropSoundOnOff)===null||_carpetModel$iceDropS3===void 0?void 0:(_carpetModel$iceDropS4=_carpetModel$iceDropS3.label)===null||_carpetModel$iceDropS4===void 0?void 0:_carpetModel$iceDropS4.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.TERM_ON),onChange:toggleIceDropSoundSetting,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{style:{minHeight:"105px"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{type:"span",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{newBadge:isShowIceDropSoundNewBadge,children:t("@RE_UX35_TERM_ICE_DROP_SOUND_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{description:true,children:t("@RE_UX35_TERM_ICE_DROP_SOUND_DESC_W")})]})})})]}),isWizardFlowFlag()&&_lib_GRP_upgradeWizardUtil__WEBPACK_IMPORTED_MODULE_11__.upgradeWizardUtil.getBottomButtonArea(productId,_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.UPGRADE_CENTER.UPGRADE_ICE_DROP_SOUND_ID)]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_SET01_Main_001_AlarmList);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_SET01_Main/main.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var libs_util_moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/libs/util/moment/index.js");
/* harmony import */ var libs_util_moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(libs_util_moment__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_es_isEqual__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/lodash-es/isEqual.js");
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/container/common/listview/CardListView.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRP/badgeController.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_monitoringService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/core/monitoringService.js");
/* harmony import */ var wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/core/upgradableProvider.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_miniApp_state__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/miniApp/state/index.js");
/* harmony import */ var _lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/lib/GRM/ospUtil.js");
/* harmony import */ var _lib_GRM_thinqFoodService__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/lib/GRM/thinqFoodService.js");
/* harmony import */ var _lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/lib/GRM/uiUtility.js");
/* harmony import */ var _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/wrm/GRM/lib/GRP/foodManager.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var _colorLightSensitivity__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./src/wrm/GRM/screen/GRP/GRP_SET01_Main/colorLightSensitivity.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__);
// import { ThemeContext } from "styled-components";;
let searchValue="";const GRP_SET01_Main_001=props=>{var _carpetModel$ncmMode,_product$modelJson$In,_product$modelJson$In2,_product$modelJson$In3,_carpetModel$operatio,_carpetModel$supportF,_localRoomInfo$produc,_localRoomInfo$produc2,_carpetModel$ncmLight,_carpetModel$voiceMod,_carpetModel$voiceMod2,_carpetModel$operatio3,_carpetModel$sabbathM7,_carpetModel$sabbathM8,_carpetModel$buzzerSo3,_carpetModel$buzzerSo4;const theme=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const{productId,backStateName,searchText}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const isBleCase=_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_16__["default"].isBleCase(product);const isOspCase=_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_16__["default"].isOspProduct(product);// const isBleCase = true;
const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_18__.useCarpetGRP)(product,"GRP_SET01_Main_001",false,false);const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const isColorModeON=(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmMode=carpetModel.ncmMode)===null||_carpetModel$ncmMode===void 0?void 0:_carpetModel$ncmMode.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON;// eslint-disable-next-line
const newProps={...props,carpet:carpet,carpetModel:carpetModel,viewModel:viewModel,setCarpetModel:setCarpetModel,acceptCarpetModel:acceptCarpetModel,isControlApplied:isControlApplied,product:product};//todo 문구 및 번역이 완료되면 true로 해야함. 현재는 개발 확인을 위해 true로 임시 설정한 상태. 문구 번역이 안될 경우 false로 변경 필요
const isProductInfoPhase2=true;const isWIFI=(_product$modelJson$In=product.modelJson.Info.networkType)===null||_product$modelJson$In===void 0?void 0:_product$modelJson$In.includes("WIFI");const isTFT=(_product$modelJson$In2=product.modelJson.Info.networkType)===null||_product$modelJson$In2===void 0?void 0:_product$modelJson$In2.includes("TFT");const isNormalModel=(_product$modelJson$In3=product.modelJson.Info.networkType)===null||_product$modelJson$In3===void 0?void 0:_product$modelJson$In3.includes("NORMAL");const isSupportNotUseNotice=!!(isWIFI&&typeof product.modelJson.Config.supportNotUseNotice!=="undefined"&&product.modelJson.Config.supportNotUseNotice==="true");const[isOnSleepMode,setIsOnSleepMode]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$operatio=carpetModel.operationSleeping)===null||_carpetModel$operatio===void 0?void 0:_carpetModel$operatio.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON);const[isEnableSleepMode,setIsEnableSleepMode]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const isSupportVoiceAssistant=product.modelJson.Config.supportVoiceAssist;const isSupportThinQFood=carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$supportF=carpetModel.supportFeature)===null||_carpetModel$supportF===void 0?void 0:_carpetModel$supportF.supportThinQFood;const isSupportFoodManagerSetting=!isNormalModel&&_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_16__["default"].isSupportFoodManagerSetting(product);const[isSupportTouchBeepOnOff,setIsSupportTouchBeepOnOff]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[fwInfo,setFwInfo]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)({});const[oneShotFotaInfo,setOneShotFotaInfo]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)({});const localRoomInfo=libs__WEBPACK_IMPORTED_MODULE_1__.environmentValue.get("productHomeRoomEntryInfo");const[roomName,setRoomName]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)((localRoomInfo===null||localRoomInfo===void 0?void 0:(_localRoomInfo$produc=localRoomInfo[productId])===null||_localRoomInfo$produc===void 0?void 0:_localRoomInfo$produc.homeName)+" - "+(localRoomInfo===null||localRoomInfo===void 0?void 0:(_localRoomInfo$produc2=localRoomInfo[productId])===null||_localRoomInfo$produc2===void 0?void 0:_localRoomInfo$produc2.roomName)||"");const[isUsingThinQFoodAutoRecognition,setIsUsingThinQFoodAutoRecognition]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);//const [monData, setMonData] = useState(undefined);
const[isUpgradeAvailable,setIsUpgradeAvailable]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(undefined);const[isUpgradeAvailableSota,setIsUpgradeAvailableSota]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(undefined);const[isSupportProductAlarm,setIsSupportProductAlarm]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[isSupportProductStartPage,setIsSupportProductStartPage]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[isSupportIceDropSound,setIsSupportIceDropSound]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[isShowIceDropSoundNewBadge,setIsShowIceDropSoundNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[isShowProductAlarmNewBadge,setIsShowProductAlarmNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[isShowProductStartPageNewBadge,setIsShowProductStartPageNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[isShowTouchSoundOnOffNewBadge,setIsShowTouchSoundOnOffNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[isShowProductInfoNewBadge,setIsShowProductInfoNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);// 컬러모드 조도 센서 감도
const[isSupportColorLightSensitivity,setIsSupportColorLightSensitivity]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[isShowColorLightSensitivityNewBadge,setIsShowColorLightSensitivityNewBadge]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[colorLightSensitivityBS,setColorLightSensitivityBS]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const colorLightSensitivityValue=carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$ncmLight=carpetModel.ncmLightSensorSensitivity)===null||_carpetModel$ncmLight===void 0?void 0:_carpetModel$ncmLight.value;// 장기 미사용 알림
const[isSupportNotUseNoticeV2,setIsSupportNotUseNoticeV2]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[isUsingRecommend,setIsUsingRecommend]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[isVoiceOn,setIsVoiceOn]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(isSupportVoiceAssistant&&(product===null||product===void 0?void 0:product.deviceState)!=="D"&&(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$voiceMod=carpetModel.voiceMode)===null||_carpetModel$voiceMod===void 0?void 0:(_carpetModel$voiceMod2=_carpetModel$voiceMod.value)===null||_carpetModel$voiceMod2===void 0?void 0:_carpetModel$voiceMod2.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON)));const[currentLCDThemeAppId,setCurrentLCDThemeAppId]=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.useRecoilState)((0,wrm_GRM_miniApp_state__WEBPACK_IMPORTED_MODULE_13__.currentLCDThemeAppIdAtom)(productId));const goBack=()=>{//console.debug("goBack()");
if(backStateName&&backStateName!=="GRP_SET01_Main"){carpet.back(backStateName,{productId:productId});}else{carpet.back("GRP_CEN01_Main",{productId:productId});}};const goNickNameEdit=()=>{//console.debug("goNickNameEdit()");
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_266,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_266));carpet.go("GCM_SET02_NickName/edit",{productId:productId});};const goSpaceEdit=()=>{//console.debug("goSpaceEdit()");
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_267,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_267));libs__WEBPACK_IMPORTED_MODULE_1__.NativeDataService.goNativeProductMove(product.id).then(roomInfo=>{if(roomInfo){setRoomName(roomInfo.homeName+" - "+roomInfo.roomName);}});};const goVoicePage=()=>{//console.debug("goVoicePage()");
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_280,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_280));carpet.go("GRP_SET03_VoiceSetting",{productId:productId});};const goThinQFoodAutoRecognition=()=>{//console.debug("goThinQFoodAutoRecognition()");
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_299,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_299));carpet.go("GRM_SET07_ThinQFood",{productId:productId});};const goSetNotUseNotice=()=>{//console.debug("goSetNotUseNotice()");
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_309,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_309));carpet.go("GRM_SET03_SetNotUseNotice",{productId:productId,version:isSupportNotUseNoticeV2?"2":"1"});};const goAPListPage=()=>{//console.debug("goAPListPage()");
let param={};param.action="PRODUCT_AP_CHANGE";param.productType=product.type;param.theme="GRP";param.productCode=product.data.deviceCode;param.productId=productId;wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_314,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_314));searchValue="";libs__WEBPACK_IMPORTED_MODULE_1__.RegistrationManager.changeNetwork(product);};const goInfoPage=()=>{//console.debug("goInfoPage()");
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_315,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_315));carpet.go("GRP_SET01_Main/productInfo",{productId:productId},undefined,"001");};const goProductAlarm=()=>{//console.debug("goNickNameEdit()");
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_271,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_271));carpet.go("GRP_SET01_Main/productAlarm",{productId:productId},undefined,"001");};const goProductStartPage=()=>{var _ospUtil$LCD_START_IM;if(isOspCase&&!(0,lodash_es_isEqual__WEBPACK_IMPORTED_MODULE_23__["default"])(currentLCDThemeAppId,(_ospUtil$LCD_START_IM=_lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_14__["default"].LCD_START_IMAGE.getSelectedApp(carpetModel))===null||_ospUtil$LCD_START_IM===void 0?void 0:_ospUtil$LCD_START_IM.appId)){const currentApp=_lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_14__["default"].LCD_START_IMAGE.getSelectedApp(carpetModel);setCurrentLCDThemeAppId(currentApp===null||currentApp===void 0?void 0:currentApp.appId);}wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_268,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_268));carpet.go("GRP_SET01_Main/productStartPage",{productId:productId},undefined,"001");};const goAlarmList=()=>{//console.debug("goNickNameEdit()");
carpet.go("GRP_SET01_Main/alarmList",{productId:productId},undefined,"001");};const _deleteProduct=()=>{wrm_GRM_lib_common_core_monitoringService__WEBPACK_IMPORTED_MODULE_10__["default"].stopMonitoring(product);libs__WEBPACK_IMPORTED_MODULE_1__.Account.removeProduct(product).then(()=>{(0,libs__WEBPACK_IMPORTED_MODULE_1__.toast)(t("@CP_UX30_PRODUCT_IS_DELETED"));carpet.goNative(true);}).catch(error=>{_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_20__["default"].showErrorPopupNGoProductList(error,product,carpet);});};const getThinQFoodSettingInfo=()=>{return _lib_GRM_thinqFoodService__WEBPACK_IMPORTED_MODULE_15__["default"].getThinQFoodSettingInfo(product,false).then(res=>{setIsUsingThinQFoodAutoRecognition(res.autoDetect===true);}//(error) => {
// Util.showErrorPopupNGoProductList(error, $scope);
//}
);};const setThinQFoodSettingInfo=event=>{libs__WEBPACK_IMPORTED_MODULE_1__.Loader.start();if(event.target.checked===false){_lib_GRM_thinqFoodService__WEBPACK_IMPORTED_MODULE_15__["default"].showAutoDetectOffPopup(product,setIsUsingThinQFoodAutoRecognition);}else{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_306,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_306,{is_toggle_on:event.target.checked}));return _lib_GRM_thinqFoodService__WEBPACK_IMPORTED_MODULE_15__["default"].setThinQFoodSettingInfo(product,{autoDetect:event.target.checked},false).then(res=>{if(res!==undefined){_lib_GRM_thinqFoodService__WEBPACK_IMPORTED_MODULE_15__["default"].getThinQFoodSettingInfo(product,true).then(res=>{setIsUsingThinQFoodAutoRecognition(res.autoDetect);libs__WEBPACK_IMPORTED_MODULE_1__.Loader.stop();});}}//(error) => {
// Util.showErrorPopupNGoProductList(error, $scope);
//}
);}};const getSWVersionInfo=()=>{return _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_20__["default"].getSWVersionInfo(product,"GRM",false).then(res=>{setFwInfo(res);}).catch(()=>{// Util.showErrorPopupNGoProductList(error, $scope);
});};const fetchOneShotFotaInfo=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.fetchFeatureValue(product,"oneShotFotaInfo",undefined,{},false,false).then(res=>{setOneShotFotaInfo(res);});};const getFoodRecommendSettingInfo=()=>{_lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_17__["default"].fetchFoodListSettingInfo(product,false).then(res=>{setIsUsingRecommend(res.recommandUseYn==="Y");}//(error) => {
// Util.showErrorPopupNGoProductList(error, $scope);
//}
);};const[notUseNoticeOnOff,setNotUseNoticeOnOff]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);const[notUseNoticeSettingPeriodDay,setNotUseNoticeSettingPeriodDay]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(1);const toggleNotUseNoticeMain=event=>{const mainState=event.target.checked;let period=notUseNoticeSettingPeriodDay;let useYn=mainState?"Y":"N";wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_313,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_313,{is_toggle_on:mainState}));return _lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_16__["default"].setNotUseNoticeInfo(product,useYn,period,true,false).then(()=>{setNotUseNoticeOnOff(mainState);setNotUseNoticeSettingPeriodDay(period);}//(error) => {
// Util.showErrorPopupNGoProductList(error, $scope);
//}
);};const changedFoodRecommendSwitch=event=>{const onOffRecommend=event.target.checked;wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_308,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_308,{is_toggle_on:onOffRecommend}));return _lib_GRP_foodManager__WEBPACK_IMPORTED_MODULE_17__["default"].foodRecommend(product,onOffRecommend?"Y":"N",false).then(()=>{setIsUsingRecommend(onOffRecommend);}//(error) => {
// Util.showErrorPopupNGoProductList(error, $scope);
//}
);};const checkNotUseNoticeOnOffState=()=>{return _lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_16__["default"].getNotUseNoticeInfo(product,true,false).then(res=>{setNotUseNoticeOnOff(res.useYn==="Y");setNotUseNoticeSettingPeriodDay(res.period||"1");//Default 1
}//(error) => {
// Util.showErrorPopupNGoProductList(error, $scope);
//}
);};const init=()=>{if(isSupportThinQFood){_lib_GRM_thinqFoodService__WEBPACK_IMPORTED_MODULE_15__["default"].initThinQFoodService(product);getThinQFoodSettingInfo();}if(isSupportFoodManagerSetting){getFoodRecommendSettingInfo();}if(isSupportNotUseNotice){checkNotUseNoticeOnOffState();}if(isWIFI){fetchOneShotFotaInfo();getSWVersionInfo();}if(isSupportVoiceAssistant){var _carpetModel$voiceMod3,_carpetModel$voiceMod4;const flag=(product===null||product===void 0?void 0:product.deviceState)!=="D"&&(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$voiceMod3=carpetModel.voiceMode)===null||_carpetModel$voiceMod3===void 0?void 0:(_carpetModel$voiceMod4=_carpetModel$voiceMod3.value)===null||_carpetModel$voiceMod4===void 0?void 0:_carpetModel$voiceMod4.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON));setIsVoiceOn(flag);}};const checkSearchStatus=()=>{// TQAR-7510
// TQAR-11117
// if (utilityService.isDisconnected(product, monData) && !isNFC && !isNormal) {
//     checkSearchValue();
//     return;
// } else {
//     // Search And Highlight
//     checkSearchElement();
// }
_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_16__["default"].checkSearchElement(searchValue);};const toggleBuzzerSetting=event=>{var _carpetModel$buzzerSo,_carpetModel$buzzerSo2;const mainState=event.target.checked?_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.DEFAULT_LABEL_ON:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.DEFAULT_LABEL_OFF;let selectedOption=(_carpetModel$buzzerSo=carpetModel.buzzerSoundOnOff)===null||_carpetModel$buzzerSo===void 0?void 0:(_carpetModel$buzzerSo2=_carpetModel$buzzerSo.controlList)===null||_carpetModel$buzzerSo2===void 0?void 0:_carpetModel$buzzerSo2.find(item=>{return item.label===mainState;});wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_298,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_298,{is_toggle_on:event.target.checked}));carpet.sendSimpleControl("buzzerSoundOnOff",selectedOption);};const fetchSotaAppListInfo=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.fetchFeatureValue(product,"sotaAppListInfo",undefined,{},false,false).then(res=>{setIsUpgradeAvailableSota(res.isNewContentAvailable);});};const fetchUpgradableInfo=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.fetchFeatureValue(product,"upgradeCenterInfo",undefined,{},false,false).then(res=>{setIsUpgradeAvailable(res.isNewContentAvailable);// Check New Badge
let showBadge=false;if(res.isNewContentAvailable){res.isNewContents.forEach(item=>{const isNew=libs__WEBPACK_IMPORTED_MODULE_1__.LocalStorageService.get(productId+"ShownContent_"+item.contentId)+""!=="true";showBadge=showBadge||isNew;});}setIsShowProductInfoNewBadge(showBadge);});};const fetchDriveModeInfo=()=>{var _product$modelJson,_product$modelJson$Co,_product$modelJson$Co2,_product$modelJson$Co3,_product$modelJson2,_product$modelJson2$C,_product$modelJson2$C2,_product$modelJson$Co4,_product$modelJson$Co5,_product$modelJson$Co6;// 추가모드 - 취침모드 설정 값 조회
const featureList=(_product$modelJson=product.modelJson)===null||_product$modelJson===void 0?void 0:(_product$modelJson$Co=_product$modelJson.Config)===null||_product$modelJson$Co===void 0?void 0:(_product$modelJson$Co2=_product$modelJson$Co.nextGenInfo)===null||_product$modelJson$Co2===void 0?void 0:(_product$modelJson$Co3=_product$modelJson$Co2.driveMode)===null||_product$modelJson$Co3===void 0?void 0:_product$modelJson$Co3.featureList;if(!((_product$modelJson2=product.modelJson)!==null&&_product$modelJson2!==void 0&&(_product$modelJson2$C=_product$modelJson2.Config)!==null&&_product$modelJson2$C!==void 0&&(_product$modelJson2$C2=_product$modelJson2$C.nextGenInfo)!==null&&_product$modelJson2$C2!==void 0&&_product$modelJson2$C2.driveMode)){return;}if(((_product$modelJson$Co4=product.modelJson.Config)===null||_product$modelJson$Co4===void 0?void 0:(_product$modelJson$Co5=_product$modelJson$Co4.nextGenInfo)===null||_product$modelJson$Co5===void 0?void 0:(_product$modelJson$Co6=_product$modelJson$Co5.driveMode)===null||_product$modelJson$Co6===void 0?void 0:_product$modelJson$Co6.support)===false){return;}const param={functionTypes:[]};for(let i=0;i<featureList.length;i++){if(featureList[i].support&&featureList[i].apiKey){param.functionTypes.push(featureList[i].apiKey);}}const isTimeBetween=apiRes=>{var _apiRes$operationSlee,_apiRes$operationSlee2;// 취침모드 Date 는 무시하고 Time 만 보고 판별
// Date 는 이미 잘못된 데이터가 들어 있을 수 있음
const formatTime="HH:mm";const currentTime=libs_util_moment__WEBPACK_IMPORTED_MODULE_3___default()().format(formatTime);const st=apiRes===null||apiRes===void 0?void 0:(_apiRes$operationSlee=apiRes.operationSleeping)===null||_apiRes$operationSlee===void 0?void 0:_apiRes$operationSlee.startTime;const et=apiRes===null||apiRes===void 0?void 0:(_apiRes$operationSlee2=apiRes.operationSleeping)===null||_apiRes$operationSlee2===void 0?void 0:_apiRes$operationSlee2.endTime;// 다음 날 판별
return st>et?st<=currentTime||currentTime<=et:st<=currentTime&&currentTime<=et;};return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.fetchFeatureValue(product,"driveMode",undefined,param,true).then(res=>{setIsEnableSleepMode(isOnSleepMode&&isTimeBetween(res===null||res===void 0?void 0:res.value));});};const makeAlarmMenu=()=>{if(isSupportIceDropSound){var _carpetModel$sabbathM,_carpetModel$sabbathM2;return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.PRODUCT_ALARM_LIST,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SET_PRODUCT_ALARM_LIST,disabled:isDisconnected||(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$sabbathM=carpetModel.sabbathMode)===null||_carpetModel$sabbathM===void 0?void 0:(_carpetModel$sabbathM2=_carpetModel$sabbathM.value)===null||_carpetModel$sabbathM2===void 0?void 0:_carpetModel$sabbathM2.includes("ON")),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:goAlarmList,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{type:"span",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{newBadge:isShowProductAlarmNewBadge||isShowIceDropSoundNewBadge,children:t("@RE_UX35_TERM_SIGNAL_W")})})})})});}if(isSupportProductAlarm){var _carpetModel$sabbathM3,_carpetModel$sabbathM4,_carpetModel$doorAlar;return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.PRODUCT_ALARM,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.PRODUCT_ALARM,disabled:isDisconnected||(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$sabbathM3=carpetModel.sabbathMode)===null||_carpetModel$sabbathM3===void 0?void 0:(_carpetModel$sabbathM4=_carpetModel$sabbathM3.value)===null||_carpetModel$sabbathM4===void 0?void 0:_carpetModel$sabbathM4.includes("ON")),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:goProductAlarm,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{type:"span",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{newBadge:isShowProductAlarmNewBadge||isShowIceDropSoundNewBadge,children:t("@RE_UX35_TERM_SIGNAL_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{description:true,maxLine:1,color:theme.colorSet.main_variant2,children:isDisconnected?"":t(((_carpetModel$doorAlar=carpetModel.doorAlarmSound)===null||_carpetModel$doorAlar===void 0?void 0:_carpetModel$doorAlar.label)||"")})]})})});}else{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.Fragment,{});}};const getProductStartLabel=carpetModel=>{if(isDisconnected){return"";}if(isOspCase){const currentApp=_lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_14__["default"].LCD_START_IMAGE.getSelectedApp(carpetModel);return t(currentApp.label||"");}else{var _carpetModel$initImag;return t((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$initImag=carpetModel.initImage)===null||_carpetModel$initImag===void 0?void 0:_carpetModel$initImag.label)||"");}};const makeProductStartPageMenu=()=>{if(isSupportProductStartPage){var _carpetModel$sabbathM5,_carpetModel$sabbathM6;return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.PRODUCT_START_PAGE,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SET_PRODUCT_START_PAGE,disabled:isDisconnected||(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$sabbathM5=carpetModel.sabbathMode)===null||_carpetModel$sabbathM5===void 0?void 0:(_carpetModel$sabbathM6=_carpetModel$sabbathM5.value)===null||_carpetModel$sabbathM6===void 0?void 0:_carpetModel$sabbathM6.includes("ON")),children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:goProductStartPage,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{type:"span",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{newBadge:isShowProductStartPageNewBadge,children:t("@RE_UX30_WELCOM_SCREEN_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{description:true,maxLine:1,color:theme.colorSet.main_variant2,children:getProductStartLabel(carpetModel)||""})]})})});}else{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.Fragment,{});}};const makeFotaLabel=()=>{let result="";if(isUpgradeAvailable||isUpgradeAvailableSota){result=t("@CP_UX35_SETTING_USE_PRODUCT_AFTER_UPGRADE");}else{if(fwInfo.update+""==="1"||fwInfo.update+""==="3"){//포타 필요 , 다운로드 필요(bg FOTA)
result=t("@CP_UX35_SETTING_UPDATE_LATEST_SW");}else if(!_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_16__["default"].isSupportUpgradeCenter(product)&&fwInfo.update+""==="5"){// Oneshot FOTA 에서 다운로드만 하고 업데이트는 시작 안 한 경우
result=t("@CP_UX35_SETTING_UPDATE_LATEST_SW");}else if(oneShotFotaInfo!==null&&oneShotFotaInfo!==void 0&&oneShotFotaInfo.bgFotaDownloadLabel){//다운로드 중
result=t((oneShotFotaInfo===null||oneShotFotaInfo===void 0?void 0:oneShotFotaInfo.bgFotaDownloadLabel)||"");}}return result;};const checkFoceOpenUpContents=()=>{// Door Open Alarm
let productAlarmContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__.upgradableProvider.checkSupportProductAlarm(undefined,product);setIsSupportProductAlarm(productAlarmContent.isSupport);if(productAlarmContent.isSupport){setIsShowProductAlarmNewBadge(productAlarmContent.isShowNewBadge);//지금 화면에서 배지 보여줄지 플래그 가져와서 세팅하고(유지)
}// Product Start Page
let productStartPageContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__.upgradableProvider.checkSupportProductStartPage(undefined,product);setIsSupportProductStartPage(productStartPageContent.isSupport);if(productStartPageContent.isSupport){setIsShowProductStartPageNewBadge(productStartPageContent.isShowNewBadge);//지금 화면에서 배지 보여줄지 플래그 가져와서 세팅하고(유지)
}// Ice Drop Sound
let iceDropSoundContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__.upgradableProvider.checkSupportIceDropSound(undefined,product);setIsSupportIceDropSound(iceDropSoundContent.isSupport);if(iceDropSoundContent.isSupport){setIsShowIceDropSoundNewBadge(iceDropSoundContent.isShowNewBadge);}// Touch Sound On On/Off
const touchSoundContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__.upgradableProvider.checkSupportTouchSound(undefined,product);setIsSupportTouchBeepOnOff(touchSoundContent.isSupport);if(touchSoundContent.isSupport){setIsShowTouchSoundOnOffNewBadge(touchSoundContent.isShowNewBadge);}if(touchSoundContent.isShowNewBadge){wrm_GRM_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_8__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_TOUCH_SOUND_ONOFF_ID);}// 컬러모드 조도 센서 감도
let colorLightSensitivityContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__.upgradableProvider.checkSupportColorLightSensitivity(undefined,product);setIsSupportColorLightSensitivity(colorLightSensitivityContent.isSupport);if(colorLightSensitivityContent.isSupport){setIsShowColorLightSensitivityNewBadge(colorLightSensitivityContent.isShowNewBadge);}if(colorLightSensitivityContent.isShowNewBadge){wrm_GRM_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_8__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.UPGRADE_CENTER.UPGRADE_NCM_COLOR_LIGHT_SENSITIVITY_ID);}};const fetchActivatedContents=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_7__.apiFeatureService.fetchFeatureValue(product,"activatedContents",undefined,{},true,true).then(res=>{var _res$rawData,_res$rawData$snapshot,_res$rawData2,_res$rawData2$snapsho,_res$rawData3,_res$rawData3$snapsho,_res$rawData4,_res$rawData4$snapsho,_res$rawData5,_res$rawData5$snapsho;//// Door Open Alarm
let productAlarmContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__.upgradableProvider.checkSupportProductAlarm(isOspCase?res===null||res===void 0?void 0:(_res$rawData=res.rawData)===null||_res$rawData===void 0?void 0:(_res$rawData$snapshot=_res$rawData.snapshot)===null||_res$rawData$snapshot===void 0?void 0:_res$rawData$snapshot.ospAppList:res===null||res===void 0?void 0:res.activatedContents,product,isOspCase);setIsSupportProductAlarm(productAlarmContent.isSupport);if(productAlarmContent.isSupport){setIsShowProductAlarmNewBadge(productAlarmContent.isShowNewBadge);//지금 화면에서 배지 보여줄지 플래그 가져와서 세팅하고(유지)
}//// Product Start Page
let productStartPageContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__.upgradableProvider.checkSupportProductStartPage(isOspCase?res===null||res===void 0?void 0:(_res$rawData2=res.rawData)===null||_res$rawData2===void 0?void 0:(_res$rawData2$snapsho=_res$rawData2.snapshot)===null||_res$rawData2$snapsho===void 0?void 0:_res$rawData2$snapsho.ospAppList:res===null||res===void 0?void 0:res.activatedContents,product,isOspCase);setIsSupportProductStartPage(productStartPageContent.isSupport);if(productStartPageContent.isSupport){setIsShowProductStartPageNewBadge(productStartPageContent.isShowNewBadge);//지금 화면에서 배지 보여줄지 플래그 가져와서 세팅하고(유지)
}//// Ice Drop Sound
let iceDropSoundContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__.upgradableProvider.checkSupportIceDropSound(isOspCase?res===null||res===void 0?void 0:(_res$rawData3=res.rawData)===null||_res$rawData3===void 0?void 0:(_res$rawData3$snapsho=_res$rawData3.snapshot)===null||_res$rawData3$snapsho===void 0?void 0:_res$rawData3$snapsho.ospAppList:res===null||res===void 0?void 0:res.activatedContents,product,isOspCase);setIsSupportIceDropSound(iceDropSoundContent.isSupport);if(iceDropSoundContent.isSupport){setIsShowIceDropSoundNewBadge(iceDropSoundContent.isShowNewBadge);}//// Touch Sound On On/Off
const touchSoundContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__.upgradableProvider.checkSupportTouchSound(isOspCase?res===null||res===void 0?void 0:(_res$rawData4=res.rawData)===null||_res$rawData4===void 0?void 0:(_res$rawData4$snapsho=_res$rawData4.snapshot)===null||_res$rawData4$snapsho===void 0?void 0:_res$rawData4$snapsho.ospAppList:res===null||res===void 0?void 0:res.activatedContents,product,isOspCase);setIsSupportTouchBeepOnOff(touchSoundContent.isSupport);if(touchSoundContent.isSupport){setIsShowTouchSoundOnOffNewBadge(touchSoundContent.isShowNewBadge);}if(touchSoundContent.isShowNewBadge){wrm_GRM_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_8__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_TOUCH_SOUND_ONOFF_ID);wrm_GRM_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_8__["default"].writeStorageValueTo("0006");}//// 컬러모드 조도 센서 감도
let colorLightSensitivityContent=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__.upgradableProvider.checkSupportColorLightSensitivity(isOspCase?res===null||res===void 0?void 0:(_res$rawData5=res.rawData)===null||_res$rawData5===void 0?void 0:(_res$rawData5$snapsho=_res$rawData5.snapshot)===null||_res$rawData5$snapsho===void 0?void 0:_res$rawData5$snapsho.ospAppList:res===null||res===void 0?void 0:res.activatedContents,product,isOspCase);setIsSupportColorLightSensitivity(colorLightSensitivityContent.isSupport);if(colorLightSensitivityContent.isSupport){setIsShowColorLightSensitivityNewBadge(colorLightSensitivityContent.isShowNewBadge);}if(colorLightSensitivityContent.isShowNewBadge){wrm_GRM_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_8__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.UPGRADE_CENTER.UPGRADE_NCM_COLOR_LIGHT_SENSITIVITY_ID);}// 장기 미사용 알림 Ver2
let notUseNoticeVer2=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_11__.upgradableProvider.checkNotUseNotice(res===null||res===void 0?void 0:res.activatedContents,product);setIsSupportNotUseNoticeV2(notUseNoticeVer2.isSupport);if(notUseNoticeVer2.isSupport){setIsSupportNotUseNoticeV2;}if(notUseNoticeVer2.isShowNewBadge){// badgeController.writeStorageValueTo(
//     constant.UPGRADE_CENTER.UPGRADE_PRODUCT_NOT_USE_NOTICE_ID
// );
}});};// const needSeparator = () => {
//     return (
//         isSupportProductStartPage ||
//         isSupportIceDropSound ||
//         isSupportProductAlarm ||
//         isSupportVoiceAssistant ||
//         isSupportTouchBeepOnOff ||
//         isSupportFoodManagerSetting ||
//         isSupportThinQFood ||
//         isSupportNotUseNotice ||
//         isSupportColorLightSensitivity
//     );
// };
const onMonitoring=data=>{checkSearchStatus(data);setIsDisconnected(_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_20__["default"].isDisconnected(product,data));//setMonData(data);
fetchOneShotFotaInfo();getSWVersionInfo();};const onMonitoringError=()=>{_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_16__["default"].checkSearchValue(searchValue);};(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{carpet.registerOnBackButtonCallback(goBack);carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnMonitoringErrorCallback(onMonitoringError);const flag=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_20__["default"].fromDashboard();if(flag){searchValue=searchText;}else{searchValue="";}if(_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_16__["default"].isSupportUpgradeCenter(product)){fetchUpgradableInfo();fetchSotaAppListInfo();fetchActivatedContents();}else{checkFoceOpenUpContents();}return()=>{carpet.unregisterOnBackButtonCallback(goBack);carpet.unregisterOnMonitoringCallback();carpet.unregisterOnMonitoringErrorCallback();};},[]);(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{init();},[product,carpetModel]);const[isShowDeletePopup,setShowDeletePopup]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{if(colorLightSensitivityBS&&(!isColorModeON||isDisconnected)){setColorLightSensitivityBS(false);}},[isColorModeON,isDisconnected,colorLightSensitivityBS]);(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{var _carpetModel$operatio2;// 취침모드 모니터링
setIsOnSleepMode((carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$operatio2=carpetModel.operationSleeping)===null||_carpetModel$operatio2===void 0?void 0:_carpetModel$operatio2.value)===_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON);},[carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$operatio3=carpetModel.operationSleeping)===null||_carpetModel$operatio3===void 0?void 0:_carpetModel$operatio3.value]);(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{if(isOnSleepMode){// 취침모드가 On일때만 API 검사
fetchDriveModeInfo();}else{setIsEnableSleepMode(false);}},[isOnSleepMode]);// 제품 정보 배지 컨트롤
const isShowNewBadge=wrm_GRM_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_8__["default"].isShowProductInfoNewBadge();(0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{if(isProductInfoPhase2&&(fwInfo.update+""==="1"||fwInfo.update+""==="3"||isUpgradeAvailable||isUpgradeAvailableSota||!_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_16__["default"].isSupportUpgradeCenter(product)&&fwInfo.update+""==="5")){if(isShowNewBadge){setIsShowProductInfoNewBadge(true);}}},[isProductInfoPhase2,fwInfo,isUpgradeAvailable,isShowNewBadge,isUpgradeAvailableSota]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:t("@CP_SETTING_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FragmentContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_6__["default"],{paddingBottom:0,paddingTop:0,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.NICK_NAME,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SET_NICK,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:goNickNameEdit,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_UX30_CS_EDIT_NICKNAME")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{maxLine:2,style:{whiteSpace:"pre-wrap",wordBreak:"break-all"},color:theme.colorSet.main_variant2,children:product===null||product===void 0?void 0:product.alias})]})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.HOME_LOCATION,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SET_LOCATION,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:goSpaceEdit,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_UX30_CS_LOCATION")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{maxLine:2,style:{whiteSpace:"pre-wrap",wordBreak:"break-all"},color:theme.colorSet.main_variant2,children:roomName})]})})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_6__["default"],{paddingBottom:0,children:[makeProductStartPageMenu(),makeAlarmMenu(),isSupportColorLightSensitivity&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SET_COLORLIGHTSENSITIVITY,id:"colorLightSensitivity",disabled:isBleCase||isDisconnected||!isColorModeON,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:()=>{setColorLightSensitivityBS(true);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{type:"span",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{newBadge:isShowColorLightSensitivityNewBadge,children:t("@RE_UX35_COLOR_LIGHT_SENSITIVITY_W")})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{color:theme.colorSet.main_variant2,children:colorLightSensitivityValue+t("@CP_TERM_STEP_W")})]})})}),isSupportVoiceAssistant&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.Fragment,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:"voice",disabled:isBleCase||isDisconnected||!isVoiceOn,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SET_VOICE_ASSISTANT,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:goVoicePage,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@RE_UX20_VOICE_SETTING_TITLE_W")})})})})}),isSupportTouchBeepOnOff&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:"beep",tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SET_BEEP,disabled:isBleCase||isDisconnected||(carpetModel===null||carpetModel===void 0?void 0:(_carpetModel$sabbathM7=carpetModel.sabbathMode)===null||_carpetModel$sabbathM7===void 0?void 0:(_carpetModel$sabbathM8=_carpetModel$sabbathM7.value)===null||_carpetModel$sabbathM8===void 0?void 0:_carpetModel$sabbathM8.includes("ON"))||isEnableSleepMode,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{checked:(_carpetModel$buzzerSo3=carpetModel.buzzerSoundOnOff)===null||_carpetModel$buzzerSo3===void 0?void 0:(_carpetModel$buzzerSo4=_carpetModel$buzzerSo3.label)===null||_carpetModel$buzzerSo4===void 0?void 0:_carpetModel$buzzerSo4.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.TERM_ON),onChange:toggleBuzzerSetting,id:"switch_touch_beep",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{type:"span",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{newBadge:isShowTouchSoundOnOffNewBadge,children:t("@RE_UX30_SETTING_TOUCH_BEEP_W")})}),isEnableSleepMode&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItemText,{description:true,children:t("@RE_UX35_SLEEP_MODE_DIMMED_GUIDE_S")})]})})}),isSupportFoodManagerSetting&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.STORED_PERIOD,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SET_STORED_PERIOD,disabled:isBleCase,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{checked:isUsingRecommend,onChange:changedFoodRecommendSwitch,id:"switch_recommend_stored_period",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@RE_UX30_SETTING_USING_RECOMMAND_STORED_PERIOD_W")})})})}),isSupportThinQFood&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{secondaryAction:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{checked:isUsingThinQFoodAutoRecognition,onChange:setThinQFoodSettingInfo,disabled:isBleCase,id:t("@RE_UX30_INSTA_THINQFOOD_AUTO_RECOGNITION_W")}),dividerIndent:64,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{onClick:goThinQFoodAutoRecognition,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@RE_UX30_INSTA_THINQFOOD_AUTO_RECOGNITION_W")})})},"thinQFoodAutoRecognition"),(isSupportNotUseNotice||isSupportNotUseNoticeV2)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{secondaryAction:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Switch,{checked:notUseNoticeOnOff,onChange:toggleNotUseNoticeMain,id:t("@RE_UX30_SET_NOT_USE_NOTICE_TITLE_W")}),dividerIndent:64,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.NOT_USE_NOTICE,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{onClick:goSetNotUseNotice,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@RE_UX30_SET_NOT_USE_NOTICE_TITLE_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{color:theme.colorSet.main_variant2,children:notUseNoticeSettingPeriodDay+t("@RE_TERM_DAY_W")})]})})},"notUseNotice")]}),isWIFI&&!isTFT&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_6__["default"],{paddingBottom:0,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SET_NETWORK,id:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.NETWORK_CHANGE,disabled:isBleCase,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:goAPListPage,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_SETTING_LIST_CHANGE_NETWORK_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{description:true,color:theme.colorSet.main_variant2,children:product.data.ssid||""})]})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SET_PRD_INFO,disabled:isBleCase,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{navNext:true,onClick:goInfoPage,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{type:"span",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{newBadge:isShowProductInfoNewBadge,children:_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_20__["default"].getFirstCapitalizedText(t("@CP_PCC_PRODUCT_INFO_TITLE_W"))})}),isProductInfoPhase2&&makeFotaLabel()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{description:true,children:t(makeFotaLabel())})]})})})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingM,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(wrm_GRM_container_common_listview_CardListView__WEBPACK_IMPORTED_MODULE_6__["default"],{paddingBottom:0,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.PRODUCT_DELETE,tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.SET_PRD_DEL,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{onClick:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_322,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_322));setShowDeletePopup(true);},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{style:{color:theme.colorSet.error},children:t("@CP_PROD_REMOVE_W")})})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXXL,{})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheet,{isShow:colorLightSensitivityBS,isFixed:true,onBackKeyPress:()=>{setColorLightSensitivityBS(false);},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetHeader,{delegateFocus:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",align:"flex-start",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A12",weight:"Bold",color:theme.colorSet.on_background,tabIndex:"0",role:"heading","aria-level":"1",children:t("@RE_UX35_COLOR_LIGHT_SENSITIVITY_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXXS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A06",color:theme.colorSet.on_surface_variant,children:t("@RE_UX35_COLOR_LIGHT_SENSITIVITY_GUIDE_S")})]})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetBody,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_colorLightSensitivity__WEBPACK_IMPORTED_MODULE_21__["default"],{...newProps})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.BottomSheetFooter,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ButtonBar,{divider:true,align:"stretch",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{size:"cmd",type:"tertiary_a",onClick:()=>{setColorLightSensitivityBS(false);},tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_19__.constant.ELEMENT_ID.BS_CLOSE+"colorLightSensitivity_bs",children:t("@CP_TERM_CLOSE_W")})})})]},"colorLightSensitivityBS"),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Modal,{isOpen:isShowDeletePopup,onBackKeyPress:()=>{setShowDeletePopup(false);},btns:[{event:()=>{setShowDeletePopup(false);},label:t("@CP_CANCEL_W")},{event:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_323,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_9__.mixpanelUtil.Device_Refrigerator_Delete(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_12__.mixpanelConstant.refrigeratorMixpanel_323));setShowDeletePopup(false);_deleteProduct();},label:t("@CP_CRUD_DELETE_W")}],children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{children:t("@CP_UX50_DELETE_DEVICE_POPUP_S",{$0:product===null||product===void 0?void 0:product.alias})})})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_SET01_Main_001);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_SET01_Main/productAlarm.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var libs_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/libs/util/index.js");
/* harmony import */ var loadable_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/loadable-components/dist/loadable-components.es.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/GRM/uiUtility.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/common/core/upgradableProvider.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_resource_common_json_ic_ncm_list_playnow_mtrl_json__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/resource/common/json/ic_ncm_list_playnow_mtrl.json");
/* harmony import */ var _component_common_CardListView__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/component/common/CardListView.js");
/* harmony import */ var _lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/lib/GRP/badgeController.js");
/* harmony import */ var _lib_GRP_upgradeWizardUtil__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/lib/GRP/upgradeWizardUtil.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__);
const MiniAppShortcutContainer=(0,loadable_components__WEBPACK_IMPORTED_MODULE_4__["default"])(()=>__webpack_require__.e(/* import() */ "TCL").then(__webpack_require__.bind(__webpack_require__, "./src/wrm/TCL/miniApp/container/MiniAppShortcutContainer.js")),{fallback:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{})});const DEFAULT_ALARM_ITEM={key:"fridgeDoorAlarm_default",label:"@RE_UX35_PRODUCT_ALARM_MELODY_DEFAULT_W",value:"DEFAULT",appId:"lupa.usr.default_door_alarm"};// const BackgroundStyle = styled(BodyContainer).attrs(({ theme, isWizardScreen }) => ({
//     backgroundColor: isWizardScreen
//         ? theme.colorSet.background_material_light
//         : theme.colorSet.list_separator_background_color,
// }))``;
const StyledIconButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_19__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox).attrs({})`
    box-sizing: border-box;
    border: 0;
    border-radius: 50%;
    background: ${_ref=>{let{theme}=_ref;return theme.colorSet.tertiary_b;}};
    width: 24px;
    height: 24px;
    justify-content: center;
`;const GRP_SET01_Main_001_ProductAlarm=()=>{const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const{productId,isWizardFlow,pageId,isSupportProductAlarm}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const isOspCase=wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__["default"].isOspProduct(product);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_15__.useCarpetGRP)(product,"GRP_SET01_Main_001_ProductAlarm",false,false);// eslint-disable-next-line
const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const isBleCase=wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__["default"].isBleCase(product);const[productAlarmList,setProductAlarmList]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)([]);const[currentPlayKey,setCurrentPlayKey]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)("");const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(false);(0,libs__WEBPACK_IMPORTED_MODULE_1__.onBackButton)(()=>{goBack();return;});const goBack=()=>{if(isWizardFlowFlag()){_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].showUpgradeStopDialog(productId);return;}else{//carpet.back("GRP_SET01_Main", { productId: productId });
carpet.back(-1,{productId:productId});}};const checkFoceOpenUpContents=()=>{let alarmList=makeProductAlarmListForceOpen();setProductAlarmList(alarmList);};const fetchActivatedContents=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_6__.apiFeatureService.fetchFeatureValue(product,"activatedContents",undefined,{},true,true).then(res=>{var _res$activatedContent,_res$rawData,_res$rawData$snapshot,_res$rawData$snapshot2;if((res===null||res===void 0?void 0:(_res$activatedContent=res.activatedContents)===null||_res$activatedContent===void 0?void 0:_res$activatedContent.length)>0||(res===null||res===void 0?void 0:(_res$rawData=res.rawData)===null||_res$rawData===void 0?void 0:(_res$rawData$snapshot=_res$rawData.snapshot)===null||_res$rawData$snapshot===void 0?void 0:(_res$rawData$snapshot2=_res$rawData$snapshot.ospAppList)===null||_res$rawData$snapshot2===void 0?void 0:_res$rawData$snapshot2.length)>0){var _res$rawData2,_res$rawData2$snapsho;let alarmList=makeProductAlarmList(isOspCase?res===null||res===void 0?void 0:(_res$rawData2=res.rawData)===null||_res$rawData2===void 0?void 0:(_res$rawData2$snapsho=_res$rawData2.snapshot)===null||_res$rawData2$snapsho===void 0?void 0:_res$rawData2$snapsho.ospAppList:res===null||res===void 0?void 0:res.activatedContents,isOspCase);setProductAlarmList(alarmList);}});};const isWizardFlowFlag=()=>{return isWizardFlow+""==="true";};const makeProductAlarmListForceOpen=()=>{var _product$modelJson,_product$modelJson$Co,_product$modelJson$Co2,_product$modelJson$Co3;let productAlarmList=[];productAlarmList.push(DEFAULT_ALARM_ITEM);//push default alarm
// modelJson 에서 강제로 오픈할 컨텐츠를 확인한다.
const productAlarmItems=product===null||product===void 0?void 0:(_product$modelJson=product.modelJson)===null||_product$modelJson===void 0?void 0:(_product$modelJson$Co=_product$modelJson.Config)===null||_product$modelJson$Co===void 0?void 0:(_product$modelJson$Co2=_product$modelJson$Co.upgradable)===null||_product$modelJson$Co2===void 0?void 0:(_product$modelJson$Co3=_product$modelJson$Co2.supportContentList)===null||_product$modelJson$Co3===void 0?void 0:_product$modelJson$Co3.filter(item=>item.contentId==="101-0002"&&item.forceToShow||item.contentId==="101-0003"&&item.forceToShow||item.contentId==="101-0004"&&item.forceToShow);if(!productAlarmItems||productAlarmItems.length===0){return;}for(const item of productAlarmItems){const contentId=item.contentId;const contentInfo=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_9__.upgradableProvider.getContentInfo(product,contentId);const isShowColorNewBadge=false;const optionList=contentInfo.detail.optionList;for(let i=0;i<optionList.length;i++){productAlarmList.push({...optionList[i],isShowColorNewBadge:isShowColorNewBadge});}}return productAlarmList;};const alarmContentIdTotal={nonOs:[{contentId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_ALARM_PHASE1_ID},{contentId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_ALARM_PHASE2_ID},{contentId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_ALARM_PHASE3_ID}],osp:[{contentId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_OSP_ALARM_1_ID,// contentIdOsp: "0002",
contentIdOsp:"1"},{contentId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_OSP_ALARM_2_ID,// contentIdOsp: "0002",
contentIdOsp:"2"},{contentId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_OSP_ALARM_3_ID,// contentIdOsp: "0003",
contentIdOsp:"3"},{contentId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_OSP_ALARM_4_ID,// contentIdOsp: "0004",
contentIdOsp:"4"}]};const makeProductAlarmList=(activatedContentList,isOspCase)=>{let productAlarmList=[];productAlarmList.push(DEFAULT_ALARM_ITEM);//push default alarm
const alarmIdList=isOspCase?alarmContentIdTotal.osp:alarmContentIdTotal.nonOs;for(let i=0;i<alarmIdList.length;i++){const contentId=alarmIdList[i].contentId;const contenstIdOsp=alarmIdList[i].contentIdOsp;const contentInfo=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_9__.upgradableProvider.getContentInfo(product,contentId,isOspCase,activatedContentList);if(!isOspCase&&activatedContentList.includes(contentId)||isOspCase&&activatedContentList.find(item=>item.contentId===contenstIdOsp)!==undefined){const isShowNewBadge=_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_13__["default"].isSetBadge({upgradable:{contentId:isOspCase?contenstIdOsp:contentId}});if(isShowNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_13__["default"].writeStorageValueTo(isOspCase?contenstIdOsp:contentId);//다음부터는 배지 안보여주도록 삭제
}const optionList=contentInfo.detail.optionList;optionList.map(item=>{productAlarmList.push({...item,isShowNewBadge:isShowNewBadge});});}}// if (
//     (!isOspCase &&
//         activatedContentList.includes(
//             constant.UPGRADE_CENTER.UPGRADE_PRODUCT_ALARM_PHASE1_ID
//         )) ||
//     (isOspCase &&
//         activatedContentList.find((item) => (item.contentId === "0002" || item.contentId === "01")) !== undefined)
// ) {
//     const contentId = constant.UPGRADE_CENTER.UPGRADE_PRODUCT_ALARM_PHASE1_ID;
//     const contentInfo = upgradableProvider.getContentInfo(product, contentId);
//     const isShowNewBadge = badgeController.isSetBadge({
//         upgradable: { contentId: contentId },
//     });
//     if (isShowNewBadge) {
//         badgeController.writeStorageValueTo(contentId); //다음부터는 배지 안보여주도록 삭제
//     }
//     const optionList = contentInfo.detail.optionList;
//     optionList.map((item) => {
//         productAlarmList.push({ ...item, isShowNewBadge: isShowNewBadge });
//     });
// }
// if (
//     (!isOspCase &&
//         activatedContentList.includes(
//             constant.UPGRADE_CENTER.UPGRADE_PRODUCT_ALARM_PHASE2_ID
//         )) ||
//     (isOspCase &&
//         activatedContentList.find((item) => item.contentId === "0003") !== undefined)
// ) {
//     const contentId = constant.UPGRADE_CENTER.UPGRADE_PRODUCT_ALARM_PHASE2_ID;
//     const contentInfo = upgradableProvider.getContentInfo(product, contentId);
//     const isShowNewBadge = badgeController.isSetBadge({
//         upgradable: { contentId: contentId },
//     });
//     if (isShowNewBadge) {
//         badgeController.writeStorageValueTo(contentId); //다음부터는 배지 안보여주도록 삭제
//     }
//     const optionList = contentInfo.detail.optionList;
//     optionList.map((item) => {
//         productAlarmList.push({ ...item, isShowNewBadge: isShowNewBadge });
//     });
// }
// if (
//     (!isOspCase &&
//         activatedContentList.includes(
//             constant.UPGRADE_CENTER.UPGRADE_PRODUCT_ALARM_PHASE3_ID
//         )) ||
//     (isOspCase &&
//         activatedContentList.find((item) => item.contentId === "0004") !== undefined)
// ) {
//     const contentId = constant.UPGRADE_CENTER.UPGRADE_PRODUCT_ALARM_PHASE3_ID;
//     const contentInfo = upgradableProvider.getContentInfo(product, contentId);
//     const isShowNewBadge = badgeController.isSetBadge({
//         upgradable: { contentId: contentId },
//     });
//     if (isShowNewBadge) {
//         badgeController.writeStorageValueTo(contentId); //다음부터는 배지 안보여주도록 삭제
//     }
//     const optionList = contentInfo.detail.optionList;
//     optionList.map((item) => {
//         productAlarmList.push({ ...item, isShowNewBadge: isShowNewBadge });
//     });
// }
return productAlarmList;};const onClickItem=selectedItem=>{// audioStop();
if(selectedItem&&selectedItem.value){const triggerNo=isSupportProductAlarm&&isSupportProductAlarm==="true"?wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_10__.mixpanelConstant.refrigeratorMixpanel_276:wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_10__.mixpanelConstant.refrigeratorMixpanel_273;wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.sendMixpanelEvent(product,triggerNo,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_8__.mixpanelUtil.Device_Refrigerator_Set(triggerNo,{alert_sound_name:t(selectedItem.label),lang_token:selectedItem.label}));}carpet.sendSimpleControl("doorAlarmSound",selectedItem).finally(()=>{const speechText=selectedItem.label;setTimeout(()=>{(0,libs_util__WEBPACK_IMPORTED_MODULE_3__.accessibilitySendEvent)(t(speechText)+t("@CP_UX30_ACCESS_CHECKBOX_CHECKED"));},900);});console.debug(typeof libs__WEBPACK_IMPORTED_MODULE_1__.ProductControl);console.debug(isOspCase);// if (isOspCase) {
//     const defaultAppId = "lupa.usr.default_door_alarm";
//     let param = {
//         cmd: "activateApp",
//         data: {
//             activate_list: [{ appId: selectedItem.appId || defaultAppId }],
//         },
//     };
//     return ProductControl.controlT20(
//         product.id,
//         "SotaAppCtrl",
//         "Set",
//         null,
//         null,
//         param,
//         null,
//         false
//     )
//         .then(function (result) {
//             console.log("**************** setStartPageImage 성공");
//             console.log(result);
//         })
//         .catch((error) => {
//             console.log("**************** setStartPageImage");
//             console.log(error);
//             const btns = [
//                 {
//                     label: t("@CP_CONFIRM_W"),
//                     event: () => {},
//                 },
//             ];
//             utilityService.showDialog(" ", "@CP_UX30_POPUP_NOT_CONNECT_WIFI", btns);
//             throw error;
//         });
// }
};const init=()=>{if(wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__["default"].isSupportUpgradeCenter(product)){fetchActivatedContents();}else{checkFoceOpenUpContents();}};const isThisAudioPlay=selectedItem=>{return selectedItem.key===currentPlayKey;};const audioPlay=selectedItem=>{audioStop(currentPlayKey);let id=selectedItem.key;if(id){document.getElementById(id).play();setCurrentPlayKey(selectedItem.key);document.getElementById(id).addEventListener("ended",()=>{audioStop(selectedItem.key);},false);}};const audioStop=key=>{let id=key||currentPlayKey;if(id){document.getElementById(id).pause();document.getElementById(id).currentTime=0;setCurrentPlayKey("");}};const makeAudioUrl=item=>{return _lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.SERVER_MUSIC_URL+item.key+".mp3";};const getTitleText=()=>{let titleText="";if(isWizardFlowFlag()){titleText=t("@RE_UX35_TITLE_WIZARD_W");}else{if(isSupportProductAlarm&&isSupportProductAlarm==="true"){titleText=t("@RE_UX35_DOOR_OPEN_ALARM_TITLE_W");}else{titleText=t("@RE_UX35_TERM_SIGNAL_W");}}return titleText;};const onMonitoring=data=>{setIsDisconnected(_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_17__["default"].isDisconnected(product,data));};(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnBackButtonCallback(goBack);return()=>{audioStop();carpet.unregisterOnMonitoringCallback();carpet.unregisterOnBackButtonCallback(goBack);};},[]);(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{init();},[]);(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.onPause)(()=>{audioStop();});const goSettingAppMelodyScreen=productId=>{libs__WEBPACK_IMPORTED_MODULE_1__.State.go("GRM_MINI_APP_MELODY_BOX_SCREEN",{productId:productId,appId:"refrigerator.melody.setting"});};return(/*#__PURE__*/// <BackgroundStyle isWizardScreen={isWizardFlowFlag()}>
(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:getTitleText()})}),isWizardFlowFlag()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Subtitle,{paddingTop:21,paddingBottom:8,children:t("@RE_UX35_TERM_SIGNAL_W")}),!isWizardFlowFlag()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),!isWizardFlowFlag()&&wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_7__["default"].isSupportMiniAppCard(product)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(MiniAppShortcutContainer,{productId:productId,appId:"refrigerator.melody.setting",appTitle:t("@CP_MINIAPP_MELODY_W"),goToMiniApp:()=>goSettingAppMelodyScreen(productId),disabled:isBleCase}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_component_common_CardListView__WEBPACK_IMPORTED_MODULE_12__["default"],{children:productAlarmList.map((item,index)=>{var _carpetModel$doorAlar,_carpetModel$doorAlar2;return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{id:"LIST_ITEM_"+item.key,disabled:isDisconnected,secondaryAction:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{children:[isThisAudioPlay(item)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Lottie,{path:wrm_GRM_resource_common_json_ic_ncm_list_playnow_mtrl_json__WEBPACK_IMPORTED_MODULE_11__["default"],size:24,loop:true,style:{marginRight:"8px"}}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{tabIndex:0,role:"button",style:{margin:"0"},"aria-label":!isThisAudioPlay(item)?t("@CP_UX50_PLAY_START_BTN_W"):t("@CP_UPCT_STOP"),onClick:e=>{if(!isThisAudioPlay(item)){audioPlay(item);}else{e.preventDefault();e.stopPropagation();audioStop();}},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Ripple,{radius:"50",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{direction:"column",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(StyledIconButton,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Icon,{icon:!isThisAudioPlay(item)?"play_fill":"stop_fill",size:24})})})})})]}),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Radio,{tabIndex:0,"aria-checked":item.value===((_carpetModel$doorAlar=carpetModel.doorAlarmSound)===null||_carpetModel$doorAlar===void 0?void 0:_carpetModel$doorAlar.value),checked:item.value===((_carpetModel$doorAlar2=carpetModel.doorAlarmSound)===null||_carpetModel$doorAlar2===void 0?void 0:_carpetModel$doorAlar2.value),onChange:()=>{onClickItem(item);},tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.ELEMENT_ID.PRODUCT_ALARM_RADIO+`${t(item.label)}`,id:item.value,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{type:"span",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{newBadge:item.isShowNewBadge,children:t(item.label)})})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("audio",{preload:"auto",id:item.key,style:{display:"none"},tuxId:_lib_common_constant__WEBPACK_IMPORTED_MODULE_16__.constant.ELEMENT_ID.PRODUCT_ALARM_PLAY+`${t(item.label)}`,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("source",{src:makeAudioUrl(item),type:"audio/mpeg"})})]},index);})}),isWizardFlowFlag()&&_lib_GRP_upgradeWizardUtil__WEBPACK_IMPORTED_MODULE_14__.upgradeWizardUtil.getBottomButtonArea(productId,pageId)]})// </BackgroundStyle>
);};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_SET01_Main_001_ProductAlarm);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_SET01_Main/productInfo.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/wrm/GRM/lib/GRP/badgeController.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var _component_common_CardListView__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/component/common/CardListView.js");
/* harmony import */ var _lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRM/uiUtility.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_apiService__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/lib/common/core/apiService.js");
/* harmony import */ var _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__);
const TitleText=(0,styled_components__WEBPACK_IMPORTED_MODULE_15__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.Text).attrs({justify:"center",align:"center"})`
    width: 100%;
`;const GRP_SET01_Main_001_ProductInfo=()=>{var _Network$env,_product$data,_product$data$modelJs,_product$data$modelJs2,_product$data2,_product$data3,_Network$env2,_product$data4,_product$data4$modelJ,_product$data4$modelJ2,_product$data5,_product$data6;const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const{colorSet}=(0,components__WEBPACK_IMPORTED_MODULE_0__.useTheme)();const{productId}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_10__.useCarpetGRP)(product,"GRP_SET01_Main_001_ProductInfo",false,true);// eslint-disable-next-line
const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const manufacture=product.data.manufacture;//todo 문구 및 번역이 완료되면 true로 해야함. 현재는 개발 확인을 위해 true로 임시 설정한 상태. 문구 번역이 안될 경우 false로 변경 필요
const isProductInfoPhase2=true;const[fwInfo,setFwInfo]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});const[isUpgradeAvailable,setIsUpgradeAvailable]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(undefined);const[isUpgradeAvailableSota,setIsUpgradeAvailableSota]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(undefined);const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);const[deviceAppInfo,setDeviceAppInfo]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const[modemInfo,setModemInfo]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const[firmwareInfo,setFirewareInfo]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);//Mac Address 반영제품
const supportMacAddress=!!manufacture;const modelName=manufacture===null||manufacture===void 0?void 0:manufacture.salesModel;const productNo=manufacture===null||manufacture===void 0?void 0:manufacture.serialNo;const goBack=()=>{//console.debug("goBack()");
carpet.back("GRP_SET01_Main",{productId:productId});};const getSWVersionInfo=()=>{return _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_13__["default"].getSWVersionInfo(product,"GRM",true).then(res=>{setFwInfo(res);if(res!==null&&res!==void 0&&res.versionText&&res.versionText.indexOf("/")>-1){const infoArr=res.versionText.split("/");if(infoArr.length===3){setDeviceAppInfo(infoArr[0].trim());setModemInfo(infoArr[1].trim());setFirewareInfo(infoArr[2].replace(/\s/g,"").split(","));}}});// .catch((error) => {
//      Util.showErrorPopupNGoProductList(error, $scope);
// });
};const getSotaAppListInfo=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_4__.apiFeatureService.fetchFeatureValue(product,"sotaAppListInfo",undefined,{},false,false).then(res=>{setIsUpgradeAvailableSota(res.isNewContentAvailable);});};const getUpgradableInfo=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_4__.apiFeatureService.fetchFeatureValue(product,"upgradeCenterInfo",undefined,{},false,false).then(res=>{setIsUpgradeAvailable(res.isNewContentAvailable);if(res.isNewContentAvailable){res.isNewContents.forEach(item=>{console.debug(item.contentId+" : "+libs__WEBPACK_IMPORTED_MODULE_1__.LocalStorageService.get(productId+"ShownContent_"+item.contentId));libs__WEBPACK_IMPORTED_MODULE_1__.LocalStorageService.set(productId+"ShownContent_"+item.contentId,true);console.debug(item.contentId+" : "+libs__WEBPACK_IMPORTED_MODULE_1__.LocalStorageService.get(productId+"ShownContent_"+item.contentId));});}});};const init=()=>{getSWVersionInfo().then(()=>{if(_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_9__["default"].isSupportUpgradeCenter(product)){getUpgradableInfo();getSotaAppListInfo();}});};const makeRecentText=()=>{let result="";if(_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_9__["default"].isSupportUpgradeCenter(product)){result=isUpgradeAvailable||isUpgradeAvailableSota?"@CP_UX35_UPGRADE_SUGGESTION_MSG":"@CP_SETTING_LATEST_SW_S";}else{result="@CP_SETTING_LATEST_SW_S";if(fwInfo.update+""==="1"){//업데이트 필요
result="@CP_UX35_SETTING_UPDATE_LATEST_SW_FOR_PRODUCT";}else if(fwInfo.update+""==="3"){//다운로드 필요
result="@CP_UX35_SETTING_DOWNLOAD_LATEST_SW";}else if(fwInfo.update+""==="4"){//다운로드 중
result="";//text loading표시
}else if(fwInfo.update+""==="5"){//다운로드 완료
result="@CP_UX35_SETTING_UPDATE_DOWNLOADED_LATEST_SW";}}return result;};const getTuxId=()=>{if(isDisconnected){return _lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.SET_UPGRADE_CENTER_BTN+"_popup";}if(_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_9__["default"].isSupportUpgradeCenter(product)&&(isUpgradeAvailable||isUpgradeAvailableSota)){return _lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.SET_UPGRADE_CENTER_BTN+"_goto";}else{if(fwInfo.update+""==="1"){//업데이트 필요
return _lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.SET_UPGRADE_CENTER_BTN+"_goto";}else if(fwInfo.update+""==="3"){//다운로드 필요
return _lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.SET_UPGRADE_CENTER_BTN+"_tab";}else if(fwInfo.update+""==="4"){//다운로드 중
return _lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.SET_UPGRADE_CENTER_BTN+"_tab";}else if(fwInfo.update+""==="5"){//다운로드 완료
return _lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.ELEMENT_ID.SET_UPGRADE_CENTER_BTN+"_goto";}}};const makeButtonText=()=>{let result="";if(_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_9__["default"].isSupportUpgradeCenter(product)&&(isUpgradeAvailable||isUpgradeAvailableSota)){result="@CP_UX35_SETTING_GO_UPGRADE_CENTER";}else{if(fwInfo.update+""==="1"){//업데이트 필요
result="@CP_UX35_SETTING_START_UPDATE";}else if(fwInfo.update+""==="3"){//다운로드 필요
result="@CP_UX35_SETTING_START_DOWNLOAD";}else if(fwInfo.update+""==="4"){//다운로드 중
result="@CP_UX35_SETTING_CANCEL_DOWNLOAD";}else if(fwInfo.update+""==="5"){//다운로드 완료
result="@CP_UX35_SETTING_START_UPDATE";}}return result;};const onButtonClick=()=>{if(_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_9__["default"].isSupportUpgradeCenter(product)&&(isUpgradeAvailable||isUpgradeAvailableSota)){goUpgradableCenter();}else{if(isDisconnected){const btns=[{label:t("@CP_CONFIRM_W"),event:()=>{// FOTA Scenario - 강제포타가 아닌경우 메인화면 진입.
carpet.back("GRM_CEN01_Main",{productId:productId,toMain:true});}}];_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_13__["default"].showDialog("","@CP_FOTA_UX35_CAN_NOT_UPDATE_CONTENT",btns);return;}if(fwInfo.update+""==="1"){//업데이트 필요
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_318,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_318));carpet.go("GRM_FOT01_Main",{productId:productId});}else if(fwInfo.update+""==="3"){//다운로드 필요
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_319,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_319));fotaDownloadStart();}else if(fwInfo.update+""==="4"){//다운로드 중
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_320,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_320));_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_13__["default"].cancelBgFotaDownload(product);}else if(fwInfo.update+""==="5"){//다운로드 완료
wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_318,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_318));carpet.go("GRM_FOT01_Main",{productId:productId,isOneshotFota:"true"});}}};const fotaDownloadStart=()=>{let params={upgradePhase:"download"};return _lib_common_core_apiService__WEBPACK_IMPORTED_MODULE_12__.apiService.requestAPI(product,_lib_common_core_apiService__WEBPACK_IMPORTED_MODULE_12__.apiObjectProvider.SS07_02,params,false).then(()=>{});};const goUpgradableCenter=()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_317,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_6__.mixpanelUtil.Device_Refrigerator_Click(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_7__.mixpanelConstant.refrigeratorMixpanel_317));try{libs__WEBPACK_IMPORTED_MODULE_1__.utilityCommonService.goUPHomeApplianceCenter(product);}catch{window.plugins.dashboard.goProductState("FOM_CEN01_Main",{productId:productId});}};const isRecentFW=()=>{if(_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_9__["default"].isSupportUpgradeCenter(product)){var _product$modelJson,_product$modelJson$Co;// OS가전 only
const isOSP=!!((_product$modelJson=product.modelJson)!==null&&_product$modelJson!==void 0&&(_product$modelJson$Co=_product$modelJson.Config)!==null&&_product$modelJson$Co!==void 0&&_product$modelJson$Co.isOSP);if(isOSP){return!isUpgradeAvailableSota;}else{return typeof isUpgradeAvailable!=="undefined"?!isUpgradeAvailable:undefined;}}else{return fwInfo===null||fwInfo===void 0?void 0:fwInfo.isRecentFW;}};const onMonitoring=data=>{init();setIsDisconnected(_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_13__["default"].isDisconnected(product,data));};(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{carpet.registerOnBackButtonCallback(goBack);carpet.registerOnMonitoringCallback(onMonitoring);return()=>{carpet.unregisterOnBackButtonCallback(goBack);carpet.unregisterOnMonitoringCallback();};},[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{init();},[]);// 제품 정보 배지 컨트롤
const isShowNewBadge=wrm_GRM_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_5__["default"].isShowProductInfoNewBadge();(0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(()=>{if(isProductInfoPhase2&&(fwInfo.update+""==="1"||fwInfo.update+""==="3"||isUpgradeAvailable||isUpgradeAvailableSota||!_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_9__["default"].isSupportUpgradeCenter(product)&&fwInfo.update+""==="5")){if(isShowNewBadge){wrm_GRM_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_5__["default"].writeStorageValueTo(_lib_common_constant__WEBPACK_IMPORTED_MODULE_11__.constant.UPGRADE_CENTER.UPGRADE_FROM_PRODUCT_INFO);}}},[isProductInfoPhase2,fwInfo,isUpgradeAvailable,isUpgradeAvailableSota,isShowNewBadge]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_13__["default"].getFirstCapitalizedText(t("@CP_PCC_PRODUCT_INFO_TITLE_W"))})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(_component_common_CardListView__WEBPACK_IMPORTED_MODULE_8__["default"],{noContentBox:true,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{noRipple:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_UX35_DEVICE")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:t("@CP_NICKNAME_REF_W")})]})}),supportMacAddress&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{noRipple:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_PCC_PRODUCT_INFO_MODEL_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:t(modelName)})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{noRipple:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("@CP_ACC_PCC_SERIAL_NUMBER")+" (S/N)"}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:t(productNo)})]})})]})]}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingM,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Text,{textCode:"Type_A08",weight:"Medium",color:colorSet.on_surface_variant,role:"heading","aria-level":"2",children:t("@CP_TERM_SW_VERSION_INFO_W")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXS,{}),deviceAppInfo.length>0&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(_component_common_CardListView__WEBPACK_IMPORTED_MODULE_8__["default"],{noContentBox:true,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{noRipple:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("Device App")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:deviceAppInfo})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{noRipple:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("Modem")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:modemInfo})]})}),firmwareInfo===null||firmwareInfo===void 0?void 0:firmwareInfo.map((fwInfo,idx)=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{noRipple:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("Firmware")+(" "+`${idx+1}`)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:t(fwInfo)})]})},idx);}),((_Network$env=libs__WEBPACK_IMPORTED_MODULE_1__.Network.env)===null||_Network$env===void 0?void 0:_Network$env.backendMode)!=="OP"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{noRipple:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("AppJson Version")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:"Version: "+((product===null||product===void 0?void 0:(_product$data=product.data)===null||_product$data===void 0?void 0:(_product$data$modelJs=_product$data.modelJson)===null||_product$data$modelJs===void 0?void 0:(_product$data$modelJs2=_product$data$modelJs.Info)===null||_product$data$modelJs2===void 0?void 0:_product$data$modelJs2.version)||"-")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:"ThinQ Model : "+((product===null||product===void 0?void 0:(_product$data2=product.data)===null||_product$data2===void 0?void 0:_product$data2.modelName)||"-")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:"Package ID : "+((product===null||product===void 0?void 0:(_product$data3=product.data)===null||_product$data3===void 0?void 0:_product$data3.packageId)||"-")})]})})]}),deviceAppInfo.length===0&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(_component_common_CardListView__WEBPACK_IMPORTED_MODULE_8__["default"],{noContentBox:true,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{noRipple:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("Device App")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:fwInfo.versionText})]})}),((_Network$env2=libs__WEBPACK_IMPORTED_MODULE_1__.Network.env)===null||_Network$env2===void 0?void 0:_Network$env2.backendMode)!=="OP"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ListItem,{noRipple:true,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.DecoLabel,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.MainText,{children:t("AppJson Version")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:"Version: "+((product===null||product===void 0?void 0:(_product$data4=product.data)===null||_product$data4===void 0?void 0:(_product$data4$modelJ=_product$data4.modelJson)===null||_product$data4$modelJ===void 0?void 0:(_product$data4$modelJ2=_product$data4$modelJ.Info)===null||_product$data4$modelJ2===void 0?void 0:_product$data4$modelJ2.version)||"-")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:"ThinQ Model : "+((product===null||product===void 0?void 0:(_product$data5=product.data)===null||_product$data5===void 0?void 0:_product$data5.modelName)||"-")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{children:"Package ID : "+((product===null||product===void 0?void 0:(_product$data6=product.data)===null||_product$data6===void 0?void 0:_product$data6.packageId)||"-")})]})})]}),typeof isRecentFW()!=="undefined"&&isRecentFW()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingM,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(TitleText,{children:t(makeRecentText())})]}),isProductInfoPhase2&&!isRecentFW()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{flexDirection:"column",width:"100%"},children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingM,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(TitleText,{children:t(makeRecentText())}),fwInfo&&(fwInfo===null||fwInfo===void 0?void 0:fwInfo.update)+""==="4"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Lottie,{type:"text_loading",size:50}),(isUpgradeAvailable||isUpgradeAvailableSota||(fwInfo===null||fwInfo===void 0?void 0:fwInfo.isRecentFW)===false)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[fwInfo&&(fwInfo===null||fwInfo===void 0?void 0:fwInfo.update)+""!=="4"&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingL,{}),_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_9__["default"].isSupportUpgradeCenter(product)&&(isUpgradeAvailable||isUpgradeAvailableSota)?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.LabelButton,{tuxId:getTuxId(),onClick:()=>{onButtonClick();},type:"arrow",children:t(makeButtonText())}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Button,{tuxId:getTuxId(),style:{width:"100%"},type:"tertiary_a",size:"medium",onClick:()=>{onButtonClick();},children:t(makeButtonText())})]})]})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXS,{})]})]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_SET01_Main_001_ProductInfo);

/***/ }),

/***/ "./src/wrm/GRM/screen/GRP/GRP_SET01_Main/productStartPage.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/index.js");
/* harmony import */ var components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/libs/index.js");
/* harmony import */ var libs_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/libs/state/index.js");
/* harmony import */ var libs_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/libs/util/index.js");
/* harmony import */ var loadable_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/loadable-components/dist/loadable-components.es.js");
/* harmony import */ var lodash_es_isEqual__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/lodash-es/isEqual.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var recoil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/recoil/es/recoil.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/wrm/GRM/lib/common/core/upgradableProvider.js");
/* harmony import */ var wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/wrm/GRM/lib/common/mixpanelConstant.js");
/* harmony import */ var wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/wrm/GRM/lib/GRM/apiFeatureService.js");
/* harmony import */ var wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/wrm/GRM/lib/GRM/uiUtility.js");
/* harmony import */ var wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/wrm/GRM/lib/GRP/mixpanelUtil.js");
/* harmony import */ var wrm_GRM_miniApp_state__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/wrm/GRM/miniApp/state/index.js");
/* harmony import */ var _lib_common_constant__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/wrm/GRM/lib/common/constant.js");
/* harmony import */ var _lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/wrm/GRM/lib/common/core/firebaseService.js");
/* harmony import */ var _lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/wrm/GRM/lib/common/core/utilityService.js");
/* harmony import */ var _lib_common_startPageConstant__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/wrm/GRM/lib/common/startPageConstant.js");
/* harmony import */ var _lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/wrm/GRM/lib/GRM/ospUtil.js");
/* harmony import */ var _lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/wrm/GRM/lib/GRP/badgeController.js");
/* harmony import */ var _lib_GRP_upgradeWizardUtil__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/wrm/GRM/lib/GRP/upgradeWizardUtil.js");
/* harmony import */ var _lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./src/wrm/GRM/lib/GRP/useCarpetGRP.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__);
const MiniAppShortcutContainer=(0,loadable_components__WEBPACK_IMPORTED_MODULE_4__["default"])(()=>__webpack_require__.e(/* import() */ "TCL").then(__webpack_require__.bind(__webpack_require__, "./src/wrm/TCL/miniApp/container/MiniAppShortcutContainer.js")),{fallback:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{})});const BackgroundStyle=(0,styled_components__WEBPACK_IMPORTED_MODULE_22__["default"])(components__WEBPACK_IMPORTED_MODULE_0__.BodyContainer).attrs(_ref=>{let{theme,isWizardScreen}=_ref;return{backgroundColor:isWizardScreen?theme.colorSet.background_material_light:theme.colorSet.list_separator_background_color};})``;const GRP_SET01_Main_001_ProductStartPage=()=>{var _product$data3,_product$data3$snapsh,_product$data4,_product$data4$snapsh,_carpetModel$initImag3,_thumbnailList$reduce;const{t}=(0,libs__WEBPACK_IMPORTED_MODULE_1__.useTranslate)();const{productId,isWizardFlow,pageId}=(0,libs_state__WEBPACK_IMPORTED_MODULE_2__.useParams)();const product=libs__WEBPACK_IMPORTED_MODULE_1__.Account.getProductById(productId);const carpet=(0,_lib_GRP_useCarpetGRP__WEBPACK_IMPORTED_MODULE_20__.useCarpetGRP)(product,"GRP_SET01_Main_001_ProductStartPage",false,false);// eslint-disable-next-line
const[carpetModel,viewModel,setCarpetModel,acceptCarpetModel,isControlApplied]=carpet.getModel();const isBleCase=wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_10__["default"].isBleCase(product);const[productStartPageList,setProductStartPageList]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)([]);const[thumbnailList,setThumbnailList]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)([]);const[isDisconnected,setIsDisconnected]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(false);const isOspCase=wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_10__["default"].isOspProduct(product);const featureKey="initImage";const[currentLCDThemeAppId,setCurrentLCDThemeAppId]=(0,recoil__WEBPACK_IMPORTED_MODULE_6__.useRecoilState)((0,wrm_GRM_miniApp_state__WEBPACK_IMPORTED_MODULE_12__.currentLCDThemeAppIdAtom)(productId));const goBack=()=>{if(isWizardFlowFlag()){_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_15__["default"].showUpgradeStopDialog(productId);return;}else{//carpet.back("GRP_SET01_Main", { productId: productId });
carpet.back(-1,{productId:productId});}};const checkFoceOpenUpContents=()=>{let startPageList=makeProductStartPageListForceOpen();setProductStartPageList(startPageList);};const fetchActivatedContents=()=>{return wrm_GRM_lib_GRM_apiFeatureService__WEBPACK_IMPORTED_MODULE_9__.apiFeatureService.fetchFeatureValue(product,"activatedContents",undefined,{},true,true).then(res=>{var _res$activatedContent;if((res===null||res===void 0?void 0:(_res$activatedContent=res.activatedContents)===null||_res$activatedContent===void 0?void 0:_res$activatedContent.length)>0){const data=res===null||res===void 0?void 0:res.activatedContents;let startPageList=makeProductStartPageList(data,isOspCase);setProductStartPageList(startPageList);}});};const isWizardFlowFlag=()=>{return isWizardFlow+""==="true";};const makeProductStartPageListForceOpen=()=>{var _product$modelJson,_product$modelJson$Co,_product$modelJson$Co2,_product$modelJson$Co3;let productStartPageList=[];// Default Theme
productStartPageList.push(_lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_17__["default"].LCD_START_IMAGE.DEFAULT_ITEM);const startpageItems=product===null||product===void 0?void 0:(_product$modelJson=product.modelJson)===null||_product$modelJson===void 0?void 0:(_product$modelJson$Co=_product$modelJson.Config)===null||_product$modelJson$Co===void 0?void 0:(_product$modelJson$Co2=_product$modelJson$Co.upgradable)===null||_product$modelJson$Co2===void 0?void 0:(_product$modelJson$Co3=_product$modelJson$Co2.supportContentList)===null||_product$modelJson$Co3===void 0?void 0:_product$modelJson$Co3.filter(item=>item.contentId==="RE-012-1"&&item.forceToShow||item.contentId==="RE-012-2"&&item.forceToShow||item.contentId==="RE-012-3"&&item.forceToShow||item.contentId==="RE-012-4"&&item.forceToShow);if(!startpageItems||startpageItems.length===0){return;}for(const item of startpageItems){const contentId=item.contentId;const contentInfo=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_7__.upgradableProvider.getContentInfo(product,contentId);const isShowColorNewBadge=false;const optionList=contentInfo.detail.optionList;for(let i=0;i<optionList.length;i++){productStartPageList.push({...optionList[i],id:optionList[i].key,subject:t(optionList[i].label),thumbnail:(0,_lib_common_startPageConstant__WEBPACK_IMPORTED_MODULE_16__["default"])(optionList[i].key),isShowColorNewBadge:isShowColorNewBadge});}}// For GridView Checkbox
if((productStartPageList===null||productStartPageList===void 0?void 0:productStartPageList.length)>1){for(let i=0;i<(productStartPageList===null||productStartPageList===void 0?void 0:productStartPageList.length);i++){var _carpetModel$initImag;if(productStartPageList[i].value===((_carpetModel$initImag=carpetModel.initImage)===null||_carpetModel$initImag===void 0?void 0:_carpetModel$initImag.value)){productStartPageList[i].checked=true;}else{productStartPageList[i].checked=false;}}}// For GridView Accesibility
_updateThumbnailListWithResetLabelForGridView(productStartPageList);return productStartPageList;};const makeProductStartPageList=(activatedContentList,isOspCase)=>{let productStartPageList=[];// Default Theme
productStartPageList.push(_lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_17__["default"].LCD_START_IMAGE.DEFAULT_ITEM);if(isOspCase){// makeListForOsp(activatedContentList, productStartPageList);
_lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_17__["default"].LCD_START_IMAGE.makeStartImgList(activatedContentList,productStartPageList);}else{// Winter Theme 2nd
if(activatedContentList.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_START_PAGE_PHASE4_ID)){const contentId=_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_START_PAGE_PHASE4_ID;const contentInfo=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_7__.upgradableProvider.getContentInfo(product,contentId);const isShowNewBadge=_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_18__["default"].isSetBadge({upgradable:{contentId:contentId}});if(isShowNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_18__["default"].writeStorageValueTo(contentId);//다음부터는 배지 안보여주도록 삭제
}const optionList=contentInfo.detail.optionList;optionList.map(item=>{productStartPageList.push({...item,id:item.key,subject:t(item.label),thumbnail:(0,_lib_common_startPageConstant__WEBPACK_IMPORTED_MODULE_16__["default"])(item.key),isShowNewBadge:isShowNewBadge});});}// Fall Theme
if(activatedContentList.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_START_PAGE_PHASE3_ID)){const contentId=_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_START_PAGE_PHASE3_ID;const contentInfo=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_7__.upgradableProvider.getContentInfo(product,contentId);const isShowNewBadge=_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_18__["default"].isSetBadge({upgradable:{contentId:contentId}});if(isShowNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_18__["default"].writeStorageValueTo(contentId);//다음부터는 배지 안보여주도록 삭제
}const optionList=contentInfo.detail.optionList;optionList.map(item=>{productStartPageList.push({...item,id:item.key,subject:t(item.label),thumbnail:(0,_lib_common_startPageConstant__WEBPACK_IMPORTED_MODULE_16__["default"])(item.key),isShowNewBadge:isShowNewBadge});});}// Summer Theme
if(activatedContentList.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_START_PAGE_PHASE2_ID)){const contentId=_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_START_PAGE_PHASE2_ID;const contentInfo=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_7__.upgradableProvider.getContentInfo(product,contentId);const isShowNewBadge=_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_18__["default"].isSetBadge({upgradable:{contentId:contentId}});if(isShowNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_18__["default"].writeStorageValueTo(contentId);//다음부터는 배지 안보여주도록 삭제
}const optionList=contentInfo.detail.optionList;optionList.map(item=>{productStartPageList.push({...item,id:item.key,subject:t(item.label),thumbnail:(0,_lib_common_startPageConstant__WEBPACK_IMPORTED_MODULE_16__["default"])(item.key),isShowNewBadge:isShowNewBadge});});}// Spring Theme, Winter Theme 1st
if(activatedContentList.includes(_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_START_PAGE_PHASE1_ID)){const contentId=_lib_common_constant__WEBPACK_IMPORTED_MODULE_13__.constant.UPGRADE_CENTER.UPGRADE_PRODUCT_START_PAGE_PHASE1_ID;const contentInfo=wrm_GRM_lib_common_core_upgradableProvider__WEBPACK_IMPORTED_MODULE_7__.upgradableProvider.getContentInfo(product,contentId);const isShowNewBadge=_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_18__["default"].isSetBadge({upgradable:{contentId:contentId}});if(isShowNewBadge){_lib_GRP_badgeController__WEBPACK_IMPORTED_MODULE_18__["default"].writeStorageValueTo(contentId);//다음부터는 배지 안보여주도록 삭제
}const optionList=contentInfo.detail.optionList;optionList.map(item=>{productStartPageList.push({...item,id:item.key,subject:t(item.label),thumbnail:(0,_lib_common_startPageConstant__WEBPACK_IMPORTED_MODULE_16__["default"])(item.key),isShowNewBadge:isShowNewBadge});});}}// For GridView Checkbox
if(isOspCase){var _carpetModel$ospAppLi;const currentApp=_lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_17__["default"].LCD_START_IMAGE.getSelectedApp(carpetModel);productStartPageList=[..._lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_17__["default"].LCD_START_IMAGE.checkSelectedApp(productStartPageList,(_carpetModel$ospAppLi=carpetModel.ospAppListSnapshot)===null||_carpetModel$ospAppLi===void 0?void 0:_carpetModel$ospAppLi.value,currentApp)];}else{var _productStartPageList;if(((_productStartPageList=productStartPageList)===null||_productStartPageList===void 0?void 0:_productStartPageList.length)>1){for(let i=0;i<((_productStartPageList2=productStartPageList)===null||_productStartPageList2===void 0?void 0:_productStartPageList2.length);i++){var _productStartPageList2,_carpetModel$initImag2;if(productStartPageList[i].value===((_carpetModel$initImag2=carpetModel.initImage)===null||_carpetModel$initImag2===void 0?void 0:_carpetModel$initImag2.value)){productStartPageList[i].checked=true;}else{productStartPageList[i].checked=false;}}}}// For GridView Accesibility
_updateThumbnailListWithResetLabelForGridView(productStartPageList);return productStartPageList;};const handleRadioChange=id=>{var _carpetModel$sabbathM,_carpetModel$sabbathM2;// const candidateList = utilityService.cloneJson(productStartPageList);
let candidateList=[...productStartPageList];const selectedItem=candidateList.find(item=>item.id===id);if(!selectedItem){return;}// set CheckStatus
for(let i=0;i<candidateList.length;i++){let item=candidateList[i];item.checked=item.id===selectedItem.id||item.key===selectedItem.id;}setProductStartPageList(candidateList);// For GridView Accesibility
_updateThumbnailListWithResetLabelForGridView(candidateList);if(isDisconnected||carpetModel!==null&&carpetModel!==void 0&&(_carpetModel$sabbathM=carpetModel.sabbathMode)!==null&&_carpetModel$sabbathM!==void 0&&(_carpetModel$sabbathM2=_carpetModel$sabbathM.value)!==null&&_carpetModel$sabbathM2!==void 0&&_carpetModel$sabbathM2.includes("ON")){return;}if(_isChangedItem(carpetModel[featureKey],selectedItem)!==true){return;}// Send Control
if(isOspCase){const activateAppIdList=[{appId:selectedItem.appId||_lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_17__["default"].LCD_START_IMAGE.DEFAULT_ITEM.appId}];_lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_17__["default"].sendOspControl(product,_lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_17__["default"].CMD.ACTIVATE,activateAppIdList);}else{carpet.sendSimpleControl(featureKey,selectedItem).finally(()=>{const speechText=selectedItem.subject;setTimeout(()=>{(0,libs_util__WEBPACK_IMPORTED_MODULE_3__.accessibilitySendEvent)(t(speechText)+t("@CP_UX30_ACCESS_CHECKBOX_CHECKED"));},900);});}};const _isChangedItem=(currentItem,selectedItem)=>{if(isOspCase){return _lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_17__["default"].LCD_START_IMAGE.isChangedItem(selectedItem,carpetModel);}else{if(currentItem){return currentItem.label+""!==selectedItem.label+"";}return false;}};const productStartPageId={productStartPage_default:"000",productStartPage1:"101",productStartPage2:"102",productStartPage3:"401",productStartPage4:"402",productStartPage5:"403",productStartPage6:"201",productStartPage7:"202",productStartPage8:"301",productStartPage9:"302",productStartPage10:"404",productStartPage11:"405"};const _updateThumbnailListWithResetLabelForGridView=candidateList=>{let candidateThumbnailList=_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_15__["default"].cloneJson(candidateList);candidateThumbnailList=candidateThumbnailList.map(item=>{if(!item.pageId){var _productStartPageId$i;item.pageId=parseInt((_productStartPageId$i=productStartPageId[item.key])!==null&&_productStartPageId$i!==void 0?_productStartPageId$i:"999");}return item;});candidateThumbnailList.sort((a,b)=>{// pageId 순서가 아닌 이름 순서로 변경 (HARM-8173)
// if (a.pageId > b.pageId) {
//     return 1;
// } else if (a.pageId === b.pageId) {
//     return 0;
// } else {
//     return -1;
// }
if(a.key==="productStartPage_default"){return-1;}if(b.key==="productStartPage_default"){return 1;}return a.subject>b.subject?1:a.subject<b.subject?-1:0;});setThumbnailList(candidateThumbnailList.map(item=>{item.label="";return item;}));};const updateOspUi=data=>{if(!isOspCase){return;}if(!data){var _product$data,_product$data$snapsho;data=product===null||product===void 0?void 0:(_product$data=product.data)===null||_product$data===void 0?void 0:(_product$data$snapsho=_product$data.snapshot)===null||_product$data$snapsho===void 0?void 0:_product$data$snapsho.ospAppList;}let startPageList=makeProductStartPageList(data,isOspCase);setProductStartPageList(startPageList);};const init=()=>{_lib_common_core_firebaseService__WEBPACK_IMPORTED_MODULE_14__["default"].fireBaseEventUsedFeature(product,"-Set01-InitImage");if(wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_10__["default"].isSupportUpgradeCenter(product)){if(isOspCase){updateOspUi();}else{fetchActivatedContents();}}else{checkFoceOpenUpContents();}};const getTitleText=()=>{let titleText="";if(isWizardFlowFlag()){titleText=t("@RE_UX35_TITLE_WIZARD_W");}else{titleText=t("@RE_UX30_WELCOM_SCREEN_W");}return titleText;};const onMonitoring=data=>{var _product$data2;setIsDisconnected(_lib_common_core_utilityService__WEBPACK_IMPORTED_MODULE_15__["default"].isDisconnected(product,data));const snapshot=(0,libs_util__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(product===null||product===void 0?void 0:(_product$data2=product.data)===null||_product$data2===void 0?void 0:_product$data2.snapshot);if(!(0,lodash_es_isEqual__WEBPACK_IMPORTED_MODULE_23__["default"])(snapshot===null||snapshot===void 0?void 0:snapshot.ospAppList,data===null||data===void 0?void 0:data.ospAppList)){// 다운로드 & 삭제 동기화
updateOspUi(data===null||data===void 0?void 0:data.ospAppList);}const currentApp=_lib_GRM_ospUtil__WEBPACK_IMPORTED_MODULE_17__["default"].LCD_START_IMAGE.getSelectedAppByOspAppList(data===null||data===void 0?void 0:data.ospAppList);setCurrentLCDThemeAppId(currentApp===null||currentApp===void 0?void 0:currentApp.appId);};(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{carpet.registerOnMonitoringCallback(onMonitoring);carpet.registerOnBackButtonCallback(goBack);return()=>{carpet.unregisterOnMonitoringCallback();carpet.unregisterOnBackButtonCallback(goBack);};},[]);(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{updateOspUi();},[product===null||product===void 0?void 0:(_product$data3=product.data)===null||_product$data3===void 0?void 0:(_product$data3$snapsh=_product$data3.snapshot)===null||_product$data3$snapsh===void 0?void 0:_product$data3$snapsh.ospAppList,product===null||product===void 0?void 0:(_product$data4=product.data)===null||_product$data4===void 0?void 0:(_product$data4$snapsh=_product$data4.snapshot)===null||_product$data4$snapsh===void 0?void 0:_product$data4$snapsh.ospAppDownloadStatus]);(0,react__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(()=>{if(isOspCase){return;}init();},[(_carpetModel$initImag3=carpetModel.initImage)===null||_carpetModel$initImag3===void 0?void 0:_carpetModel$initImag3.value]);const imgAriaLabel=item=>{const newBadge=item.isShowNewBadge===true?t("@CP_LABEL_NEW_BADGE"):"";return item.subject+newBadge;};const goSettingAppLcdThemeScreen=productId=>{libs__WEBPACK_IMPORTED_MODULE_1__.State.go("GRM_MINI_APP_LCD_THEME_SCREEN",{productId:productId,appId:"refrigerator.theme.setting"});};return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(BackgroundStyle,{isWizardScreen:isWizardFlowFlag(),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.AppBar,{fixedTo:"top",divider:"under",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ToolBar,{navUp:true,onNavUp:()=>{goBack();},title:getTitleText()})}),!isWizardFlowFlag()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingS,{}),isWizardFlowFlag()&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Subtitle,{paddingTop:21,paddingBottom:8,children:t("@RE_UX30_WELCOM_SCREEN_W")}),!isWizardFlowFlag()&&wrm_GRM_lib_GRM_uiUtility__WEBPACK_IMPORTED_MODULE_10__["default"].isSupportMiniAppCard(product)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(MiniAppShortcutContainer,{productId:productId,appId:"refrigerator.theme.setting",appTitle:t("@CP_MINIAPP_LCD_THEME_W"),goToMiniApp:()=>goSettingAppLcdThemeScreen(productId),disabled:isBleCase}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(components__WEBPACK_IMPORTED_MODULE_0__.ContentBox,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ImageList,{columnCount:2,shape:"square",titlePosition:"outside",titleAlign:"center",children:thumbnailList===null||thumbnailList===void 0?void 0:(_thumbnailList$reduce=thumbnailList.reduce((acc,current)=>{// 중복 제거
if(acc.findIndex(_ref2=>{let{id}=_ref2;return id===current.id;})===-1){acc.push(current);}return acc;},[]))===null||_thumbnailList$reduce===void 0?void 0:_thumbnailList$reduce.map((item,index)=>{return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.ImageListItem,{title:item.subject,customAriaLabel:imgAriaLabel(item),onChange:()=>{wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_11__.mixpanelUtil.sendMixpanelEvent(product,wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_270,wrm_GRM_lib_GRP_mixpanelUtil__WEBPACK_IMPORTED_MODULE_11__.mixpanelUtil.Device_Refrigerator_Set(wrm_GRM_lib_common_mixpanelConstant__WEBPACK_IMPORTED_MODULE_8__.mixpanelConstant.refrigeratorMixpanel_270,{theme_type:item.subject}));handleRadioChange(item.id);},id:item.id,newBadge:item.isShowNewBadge,checked:isOspCase?item.appId===currentLCDThemeAppId:item.checked,selectionMode:"single",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.FlexBox,{style:{width:"100%",height:"100%"},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.Img,{width:"100%",height:"100%",src:item.thumbnail})})},index);})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXXL,{}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.DescriptionText,{textCode:"Type_A07",children:t("@RE_PRODUCT_START_PAGE_DESC")}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(components__WEBPACK_IMPORTED_MODULE_0__.SpacingXXL,{})]}),isWizardFlowFlag()&&_lib_GRP_upgradeWizardUtil__WEBPACK_IMPORTED_MODULE_19__.upgradeWizardUtil.getBottomButtonArea(productId,pageId)]});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GRP_SET01_Main_001_ProductStartPage);

/***/ })

}]);